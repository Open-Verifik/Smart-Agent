import{a as li,c as pi,d as di,e as ci}from"./chunk-CXX46A7I.js";import{a as si}from"./chunk-RMLZJYUH.js";import{b as ri}from"./chunk-EITUCOUQ.js";import"./chunk-RUQ5OEKA.js";import"./chunk-NJIOGT5G.js";import"./chunk-3RK6DDJD.js";import{a as ai,b as oi}from"./chunk-7CWISZAP.js";import{a as Be}from"./chunk-RWGVQTSA.js";import"./chunk-5766E47J.js";import"./chunk-7RWCIHFI.js";import{c as ii,d as ni}from"./chunk-AI5UHXVQ.js";import{b as qt}from"./chunk-DLAWIIUM.js";import{c as Qt,d as jt}from"./chunk-IHQN5EVA.js";import{b as yt,d as Ct,e as St,i as It}from"./chunk-YGFCFPCR.js";import{e as Tt}from"./chunk-ZXCUQZKM.js";import{b as ke,d as At,e as Pt,g as Ot,h as zt,l as Rt,m as Lt}from"./chunk-BHDFSUEM.js";import"./chunk-7OJEUY43.js";import{A as ei,B as ti,c as $t,e as Z,f as Ut,h as Gt,i as Wt,l as Kt,m as Zt,r as Xt,s as Yt,z as Jt}from"./chunk-2NRSUFHY.js";import{b as ye,e as Ce,f as Se}from"./chunk-YM2RJPUK.js";import{D as Dt,E as ee,F as Me,I as we,N as se,O as De,R as Ft,S as Bt,U as Nt,V as Ht,X as Vt,Z as Fe,_ as Te,d as Et,g as Mt,l as Ie,n as Ee,o as wt,z as kt}from"./chunk-AFVGM62N.js";import{A as nt,Aa as I,Ac as F,B as re,Ba as de,Bb as fe,Bc as ve,Cb as ge,Db as xe,Dc as be,Ea as $,Eb as o,Fb as r,Ga as w,Gb as z,H as at,Ha as X,Hb as mt,Hc as ft,Ib as ut,Jb as Y,Ka as ce,Kb as J,Lb as _e,Mb as C,Nb as x,Ob as W,Pb as B,Pc as gt,Qb as D,Qc as xt,Rb as R,Sb as _,Tb as v,Uc as qe,V as P,W as ot,Wa as a,Wb as Le,X as Q,Xa as U,Xb as l,Yb as m,Yc as _t,Za as me,Zb as b,_b as Ne,a as ne,aa as rt,ab as ue,ba as j,bd as vt,cd as bt,da as q,f as L,fb as A,fc as H,ga as c,gb as G,ha as st,hb as y,hc as He,ia as lt,ic as Ve,j as et,jb as N,l as tt,lb as g,oc as u,pa as ae,pc as f,q as it,qa as E,qc as Qe,ra as M,rb as O,rc as je,sa as pt,sb as h,tb as he,tc as ht,ua as oe,ub as k,wb as Re,xa as dt,xb as ct,yc as K,zb as T}from"./chunk-DCQLSIRV.js";import"./chunk-MG3ERZGY.js";var $e=new q("CdkAccordion"),mi=(()=>{class t{_stateChanges=new L;_openCloseAllActions=new L;id=c(ee).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",F]},exportAs:["cdkAccordion"],features:[H([{provide:$e,useExisting:t}]),ae]})}return t})(),ui=(()=>{class t{accordion=c($e,{optional:!0,skipSelf:!0});_changeDetectorRef=c(K);_expansionDispatcher=c(Be);_openCloseAllSubscription=ne.EMPTY;closed=new I;opened=new I;destroyed=new I;expandedChange=new I;id=c(ee).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",F],disabled:[2,"disabled","disabled",F]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[H([{provide:$e,useValue:void 0}])]})}return t})(),hi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({})}return t})();var Fi=["body"],Ti=["bodyWrapper"],Bi=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ai=["mat-expansion-panel-header","*","mat-action-row"];function Pi(t,p){}var Oi=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],zi=["mat-panel-title","mat-panel-description","*"];function Ri(t,p){t&1&&(o(0,"span",1),pt(),o(1,"svg",2),z(2,"path",3),r()())}var Ue=new q("MAT_ACCORDION"),xi=new q("MAT_EXPANSION_PANEL"),Li=(()=>{class t{_template=c(U);_expansionPanel=c(xi,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),_i=new q("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Ge=(()=>{class t extends ui{_viewContainerRef=c(ue);_animationsDisabled=c(ce,{optional:!0})==="NoopAnimations";_document=c(ft);_ngZone=c(de);_elementRef=c($);_renderer=c(me);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new I;afterCollapse=new I;_inputChanges=new L;accordion=c(Ue,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=c(ee).getId("mat-expansion-panel-header-");constructor(){super();let e=c(_i,{optional:!0});this._expansionDispatcher=c(Be),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(P(null),re(()=>this.expanded&&!this._portal),at(1)).subscribe(()=>{this._portal=new ye(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:i})=>{e===this._bodyWrapper?.nativeElement&&i==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=A({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(i,n,s){if(i&1&&D(s,Li,5),i&2){let d;_(d=v())&&(n._lazyContent=d.first)}},viewQuery:function(i,n){if(i&1&&(R(Fi,5),R(Ti,5)),i&2){let s;_(s=v())&&(n._body=s.first),_(s=v())&&(n._bodyWrapper=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,n){i&2&&k("mat-expanded",n.expanded)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",F],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[H([{provide:Ue,useValue:void 0},{provide:xi,useExisting:t}]),N,ae],ngContentSelectors:Ai,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,n){i&1&&(W(Bi),B(0),o(1,"div",2,0)(3,"div",3,1)(5,"div",4),B(6,1),g(7,Pi,0,0,"ng-template",5),r(),B(8,2),r()()),i&2&&(a(),O("inert",n.expanded?null:""),a(2),h("id",n.id),O("aria-labelledby",n._headerId),a(4),h("cdkPortalOutlet",n._portal))},dependencies:[Ce],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return t})();var We=(()=>{class t{panel=c(Ge,{host:!0});_element=c($);_focusMonitor=c(Ie);_changeDetectorRef=c(K);_parentChangeSubscription=ne.EMPTY;constructor(){c(Ee).load(De);let e=this.panel,i=c(_i,{optional:!0}),n=c(new dt("tabindex"),{optional:!0}),s=e.accordion?e.accordion._stateChanges.pipe(re(d=>!!(d.hideToggle||d.togglePosition))):et;this.tabIndex=parseInt(n||"")||0,this._parentChangeSubscription=nt(e.opened,e.closed,s,e._inputChanges.pipe(re(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(re(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Me(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=A({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,n){i&1&&C("click",function(){return n._toggle()})("keydown",function(d){return n._keydown(d)}),i&2&&(O("id",n.panel._headerId)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),he("height",n._getHeaderHeight()),k("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after",n._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",n._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ve(e)]},ngContentSelectors:zi,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,n){i&1&&(W(Oi),o(0,"span",0),B(1),B(2,1),B(3,2),r(),g(4,Ri,3,0,"span",1)),i&2&&(k("mat-content-hide-toggle",!n._showToggle()),a(4),T(n._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return t})(),vi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return t})(),bi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})(),yi=(()=>{class t extends mi{_keyManager;_ownHeaders=new X;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(P(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new we(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=oe(t)))(n||t)}})();static \u0275dir=y({type:t,selectors:[["mat-accordion"]],contentQueries:function(i,n,s){if(i&1&&D(s,We,5),i&2){let d;_(d=v())&&(n._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,n){i&2&&k("mat-accordion-multi",n.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",F],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[H([{provide:Ue,useExisting:t}]),N]})}return t})(),Ci=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({imports:[se,hi,Se]})}return t})();var Hi=["*"];function Vi(t,p){t&1&&B(0)}var Ke=(()=>{class t{_elementRef=c($);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return t})(),Ze=(()=>{class t{template=c(U);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["","cdkStepLabel",""]]})}return t})();var V={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},Qi=new q("STEPPER_GLOBAL_OPTIONS"),Pe=(()=>{class t{_stepperOptions;_stepper=c(le);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new I;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let e=c(Qi,{optional:!0});this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=A({type:t,selectors:[["cdk-step"]],contentQueries:function(i,n,s){if(i&1&&(D(s,Ze,5),D(s,Ut,5)),i&2){let d;_(d=v())&&(n.stepLabel=d.first),_(d=v())&&(n._childForms=d)}},viewQuery:function(i,n){if(i&1&&R(U,7),i&2){let s;_(s=v())&&(n.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",F],optional:[2,"optional","optional",F],completed:[2,"completed","completed",F],hasError:[2,"hasError","hasError",F]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[ae],ngContentSelectors:Hi,decls:1,vars:0,template:function(i,n){i&1&&(W(),g(0,Vi,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),le=(()=>{class t{_dir=c(kt,{optional:!0});_changeDetectorRef=c(K);_elementRef=c($);_destroyed=new L;_keyManager;_steps;steps=new X;_stepHeader;_sortedHeaders=new X;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?(this._isValidIndex(e),this._selectedIndex!==e&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e))):this._selectedIndex=e}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}selectionChange=new I;selectedIndexChange=new I;_groupId=c(ee).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(P(this._steps),Q(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(P(this._stepHeader),Q(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,n)=>i._elementRef.nativeElement.compareDocumentPosition(n._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new we(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:tt()).pipe(P(this._layoutDirection()),Q(this._destroyed)).subscribe(e=>this._keyManager?.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let e=this.steps.toArray().slice(0,this._selectedIndex);for(let i of e)i._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`${this._groupId}-label-${e}`}_getStepContentId(e){return`${this._groupId}-content-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let i=e-this._selectedIndex;return i<0?this._layoutDirection()==="rtl"?"next":"previous":i>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,i=V.NUMBER){let n=this.steps.toArray()[e],s=this._isCurrentStep(e);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,s):this._getGuidelineLogic(n,s,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?V.ERROR:!e.completed||i?V.NUMBER:e.editable?V.EDIT:V.DONE}_getGuidelineLogic(e,i,n=V.NUMBER){return e._showError()&&e.hasError&&!i?V.ERROR:e.completed&&!i?V.DONE:e.completed&&i?n:e.editable&&i?V.EDIT:n}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e)),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let i=Me(e),n=e.keyCode,s=this._keyManager;s?.activeItemIndex!=null&&!i&&(n===32||n===13)?(this.selectedIndex=s.activeItemIndex,e.preventDefault()):s?.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(i=>{let n=i.stepControl;return(n?n.invalid||n.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,i=Et();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(i,n,s){if(i&1&&(D(s,Pe,5),D(s,Ke,5)),i&2){let d;_(d=v())&&(n._steps=d),_(d=v())&&(n._stepHeader=d)}},inputs:{linear:[2,"linear","linear",F],selectedIndex:[2,"selectedIndex","selectedIndex",ve],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return t})();var Si=(()=>{class t{_stepper=c(le);type="button";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(i,n){i&1&&C("click",function(){return n._stepper.previous()}),i&2&&_e("type",n.type)},inputs:{type:"type"}})}return t})(),Ii=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({imports:[Dt]})}return t})();function ji(t,p){if(t&1&&Y(0,2),t&2){let e=x();h("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function qi(t,p){if(t&1&&(o(0,"span",7),l(1),r()),t&2){let e=x(2);a(),m(e._getDefaultTextForState(e.state))}}function $i(t,p){if(t&1&&(o(0,"span",8),l(1),r()),t&2){let e=x(3);a(),m(e._intl.completedLabel)}}function Ui(t,p){if(t&1&&(o(0,"span",8),l(1),r()),t&2){let e=x(3);a(),m(e._intl.editableLabel)}}function Gi(t,p){if(t&1&&(g(0,$i,2,1,"span",8)(1,Ui,2,1,"span",8),o(2,"mat-icon",7),l(3),r()),t&2){let e=x(2);T(e.state==="done"?0:e.state==="edit"?1:-1),a(3),m(e._getDefaultTextForState(e.state))}}function Wi(t,p){if(t&1&&g(0,qi,2,1,"span",7)(1,Gi,4,2),t&2){let e,i=x();T((e=i.state)==="number"?0:1)}}function Ki(t,p){t&1&&(o(0,"div",4),Y(1,9),r()),t&2&&(a(),h("ngTemplateOutlet",p.template))}function Zi(t,p){if(t&1&&(o(0,"div",4),l(1),r()),t&2){let e=x();a(),m(e.label)}}function Xi(t,p){if(t&1&&(o(0,"div",5),l(1),r()),t&2){let e=x();a(),m(e._intl.optionalLabel)}}function Yi(t,p){if(t&1&&(o(0,"div",6),l(1),r()),t&2){let e=x();a(),m(e.errorMessage)}}var Ei=["*"];function Ji(t,p){}function en(t,p){if(t&1&&(B(0),g(1,Ji,0,0,"ng-template",0)),t&2){let e=x();a(),h("cdkPortalOutlet",e._portal)}}var tn=["animatedContainer"],Mi=(t,p)=>({step:t,i:p});function nn(t,p){t&1&&B(0)}function an(t,p){t&1&&z(0,"div",7)}function on(t,p){if(t&1&&(Y(0,6),g(1,an,1,0,"div",7)),t&2){let e=p.$implicit,i=p.$index,n=p.$index,s=p.$count;x(2);let d=Le(4);h("ngTemplateOutlet",d)("ngTemplateOutletContext",Ve(3,Mi,e,i)),a(),T(n!==s-1?1:-1)}}function rn(t,p){if(t&1&&(o(0,"div",8,1),Y(2,9),r()),t&2){let e=p.$implicit,i=p.$index,n=x(2);Re("mat-horizontal-stepper-content-"+n._getAnimationDirection(i)),h("id",n._getStepContentId(i)),O("aria-labelledby",n._getStepLabelId(i))("inert",n.selectedIndex===i?null:""),a(2),h("ngTemplateOutlet",e.content)}}function sn(t,p){if(t&1&&(o(0,"div",2)(1,"div",3),ge(2,on,2,6,null,null,fe),r(),o(4,"div",4),ge(5,rn,3,6,"div",5,fe),r()()),t&2){let e=x();a(2),xe(e.steps),a(3),xe(e.steps)}}function ln(t,p){if(t&1&&(o(0,"div",10),Y(1,6),o(2,"div",11,1)(4,"div",12)(5,"div",13),Y(6,9),r()()()()),t&2){let e=p.$implicit,i=p.$index,n=p.$index,s=p.$count,d=x(2),S=Le(4);a(),h("ngTemplateOutlet",S)("ngTemplateOutletContext",Ve(10,Mi,e,i)),a(),k("mat-stepper-vertical-line",n!==s-1)("mat-vertical-content-container-active",d.selectedIndex===i),O("inert",d.selectedIndex===i?null:""),a(2),h("id",d._getStepContentId(i)),O("aria-labelledby",d._getStepLabelId(i)),a(2),h("ngTemplateOutlet",e.content)}}function pn(t,p){if(t&1&&ge(0,ln,7,13,"div",10,fe),t&2){let e=x();xe(e.steps)}}function dn(t,p){if(t&1){let e=J();o(0,"mat-step-header",14),C("click",function(){let n=E(e).step;return M(n.select())})("keydown",function(n){E(e);let s=x();return M(s._onKeydown(n))}),r()}if(t&2){let e=p.step,i=p.i,n=x();k("mat-horizontal-stepper-header",n.orientation==="horizontal")("mat-vertical-stepper-header",n.orientation==="vertical"),h("tabIndex",n._getFocusIndex()===i?0:-1)("id",n._getStepLabelId(i))("index",i)("state",n._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",n.selectedIndex===i)("active",n._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",n._iconOverrides)("disableRipple",n.disableRipple||!n._stepIsNavigable(i,e))("color",e.color||n.color),O("aria-posinset",i+1)("aria-setsize",n.steps.length)("aria-controls",n._getStepContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",n._stepIsNavigable(i,e)?null:!0)}}var pe=(()=>{class t extends Ze{static \u0275fac=(()=>{let e;return function(n){return(e||(e=oe(t)))(n||t)}})();static \u0275dir=y({type:t,selectors:[["","matStepLabel",""]],features:[N]})}return t})(),Oe=(()=>{class t{changes=new L;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(i){return new(i||t)};static \u0275prov=rt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cn(t){return t||new Oe}var mn={provide:Oe,deps:[[new st,new lt,Oe]],useFactory:cn},Xe=(()=>{class t extends Ke{_intl=c(Oe);_focusMonitor=c(Ie);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let e=c(Ee);e.load(De),e.load(wt);let i=c(K);this._intlSubscription=this._intl.changes.subscribe(()=>i.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof pe?null:this.label}_templateLabel(){return this.label instanceof pe?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=A({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,n){i&2&&Re("mat-"+(n.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[N],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(z(0,"div",0),o(1,"div")(2,"div",1),g(3,ji,1,2,"ng-container",2)(4,Wi,2,1),r()(),o(5,"div",3),g(6,Ki,2,1,"div",4)(7,Zi,2,1,"div",4)(8,Xi,2,1,"div",5)(9,Yi,2,1,"div",6),r()),i&2){let s;h("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),a(),ct("mat-step-icon-state-",n.state," mat-step-icon"),k("mat-step-icon-selected",n.selected),a(2),T(n.iconOverrides&&n.iconOverrides[n.state]?3:4),a(2),k("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error",n.state=="error"),a(),T((s=n._templateLabel())?6:n._stringLabel()?7:-1,s),a(2),T(n.optional&&n.state!="error"?8:-1),a(),T(n.state==="error"?9:-1)}},dependencies:[Ft,qe,Fe],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return t})(),un=(()=>{class t{templateRef=c(U);name;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return t})(),hn=(()=>{class t{_template=c(U);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=y({type:t,selectors:[["ng-template","matStepContent",""]]})}return t})(),Ye=(()=>{class t extends Pe{_errorStateMatcher=c(ke,{skipSelf:!0});_viewContainerRef=c(ue);_isSelected=ne.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(ot(()=>this._stepper.selectionChange.pipe(it(e=>e.selectedStep===this),P(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new ye(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){let n=this._errorStateMatcher.isErrorState(e,i),s=!!(e&&e.invalid&&this.interacted);return n||s}static \u0275fac=(()=>{let e;return function(n){return(e||(e=oe(t)))(n||t)}})();static \u0275cmp=A({type:t,selectors:[["mat-step"]],contentQueries:function(i,n,s){if(i&1&&(D(s,pe,5),D(s,hn,5)),i&2){let d;_(d=v())&&(n.stepLabel=d.first),_(d=v())&&(n._lazyContent=d.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[H([{provide:ke,useExisting:t},{provide:Pe,useExisting:t}]),N],ngContentSelectors:Ei,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,n){i&1&&(W(),g(0,en,2,1,"ng-template"))},dependencies:[Ce],encapsulation:2,changeDetection:0})}return t})(),Je=(()=>{class t extends le{_ngZone=c(de);_renderer=c(me);_animationsModule=c(ce,{optional:!0});_cleanupTransition;_isAnimating=w(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new X;_icons;animationDone=new I;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}_animationDuration="";_isServer=!c(Mt).isBrowser;constructor(){super();let i=c($).nativeElement.nodeName.toLowerCase();this.orientation=i==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(Q(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(Q(this._destroyed)).subscribe(()=>{let e=this._getAnimationDuration();e==="0ms"||e==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let e=!1;this._animatedContainers.changes.pipe(P(null),Q(this._destroyed)).subscribe(()=>queueMicrotask(()=>{e||(e=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=e=>{let i=e.target;if(!i)return;let n=this.orientation==="horizontal"&&e.propertyName==="transform"&&i.classList.contains("mat-horizontal-stepper-content-current"),s=this.orientation==="vertical"&&e.propertyName==="grid-template-rows"&&i.classList.contains("mat-vertical-content-container-active");(n||s)&&this._animatedContainers.find(S=>S.nativeElement===i)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=A({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,n,s){if(i&1&&(D(s,Ye,5),D(s,un,5)),i&2){let d;_(d=v())&&(n._steps=d),_(d=v())&&(n._icons=d)}},viewQuery:function(i,n){if(i&1&&(R(Xe,5),R(tn,5)),i&2){let s;_(s=v())&&(n._stepHeader=s),_(s=v())&&(n._animatedContainers=s)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(i,n){i&2&&(O("aria-orientation",n.orientation),he("--mat-stepper-animation-duration",n._getAnimationDuration()),k("mat-stepper-horizontal",n.orientation==="horizontal")("mat-stepper-vertical",n.orientation==="vertical")("mat-stepper-label-position-end",n.orientation==="horizontal"&&n.labelPosition=="end")("mat-stepper-label-position-bottom",n.orientation==="horizontal"&&n.labelPosition=="bottom")("mat-stepper-header-position-bottom",n.headerPosition==="bottom")("mat-stepper-animating",n._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[H([{provide:le,useExisting:t}]),N],ngContentSelectors:Ei,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,n){if(i&1&&(W(),g(0,nn,1,0)(1,sn,7,0,"div",2)(2,pn,2,0)(3,dn,1,23,"ng-template",null,0,ht)),i&2){let s;T(n._isServer?0:-1),a(),T((s=n.orientation)==="horizontal"?1:s==="vertical"?2:-1)}},dependencies:[qe,Xe],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return t})();var wi=(()=>{class t extends Si{static \u0275fac=(()=>{let e;return function(n){return(e||(e=oe(t)))(n||t)}})();static \u0275dir=y({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(i,n){i&2&&_e("type",n.type)},features:[N]})}return t})(),ki=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=j({providers:[mn,ke],imports:[se,Se,Ii,Te,Bt,Je,Xe,se]})}return t})();var gn=["stepper"],xn=t=>({count:t}),_n=t=>({query:t});function vn(t,p){t&1&&(l(0),u(1,"transloco")),t&2&&m(f(1,1,"createBatchConfig.basicInformation"))}function bn(t,p){if(t&1&&(o(0,"mat-option",79),l(1),r()),t&2){let e=p.$implicit;h("value",e.code),a(),b(" ",e.name," ")}}function yn(t,p){t&1&&(o(0,"span"),l(1),u(2,"transloco"),r()),t&2&&(a(),m(f(2,1,"createBatchConfig.saving")))}function Cn(t,p){t&1&&(o(0,"span"),l(1),u(2,"transloco"),r()),t&2&&(a(),m(f(2,1,"createBatchConfig.next")))}function Sn(t,p){t&1&&(l(0),u(1,"transloco")),t&2&&m(f(1,1,"createBatchConfig.selectEndpoints"))}function In(t,p){if(t&1&&(o(0,"span"),l(1),r()),t&2){let e=x();a(),Ne("(",e.filteredAvailableFeatures().length," of ",e.availableFeaturesForCountry().length,")")}}function En(t,p){if(t&1&&(o(0,"span"),l(1),r()),t&2){let e=x();a(),b("(",e.availableFeaturesForCountry().length,")")}}function Mn(t,p){t&1&&(o(0,"div",80),l(1),u(2,"transloco"),r()),t&2&&(a(),b(" ",f(2,1,"createBatchConfig.loadingFeatures")," "))}function wn(t,p){if(t&1){let e=J();o(0,"button",81),C("click",function(){E(e);let n=x();return M(n.endpointSearchQuery.set(""))}),o(1,"mat-icon",82),l(2,"close"),r()()}}function kn(t,p){t&1&&(o(0,"mat-icon",91),l(1,"check_circle"),r())}function Dn(t,p){t&1&&(o(0,"mat-icon",92),l(1,"add_circle_outline"),r())}function Fn(t,p){if(t&1){let e=J();o(0,"div",83),C("click",function(){let n=E(e).$implicit,s=x();return M(s.toggleFeature(n))}),o(1,"div",6)(2,"div",84),l(3),u(4,"slice"),u(5,"uppercase"),r(),o(6,"div",85)(7,"span",86),l(8),r(),o(9,"span",87),l(10),r(),o(11,"span",88),l(12),u(13,"slice"),r()()(),g(14,kn,2,0,"mat-icon",89)(15,Dn,2,0,"mat-icon",90),r()}if(t&2){let e=p.$implicit,i=x();k("opacity-50",i.isSelected(e)),a(3),b(" ",f(5,13,je(4,9,e.code,0,2))," "),a(5),m(e.name),a(),h("title",i.getEndpointDisplay(e)),a(),m(i.getEndpointDisplay(e)),a(2),b("",je(13,15,e.description,0,50),"..."),a(2),h("ngIf",i.isSelected(e)),a(),h("ngIf",!i.isSelected(e))}}function Tn(t,p){if(t&1&&(o(0,"div",93)(1,"mat-icon",94),l(2,"search_off"),r(),o(3,"span"),l(4),u(5,"transloco"),r()()),t&2){let e=x();a(4),m(Qe(5,1,"createBatchConfig.noEndpointsMatch",He(4,_n,e.endpointSearchQuery())))}}function Bn(t,p){if(t&1){let e=J();o(0,"div",95)(1,"div",96)(2,"span",97),l(3),r(),o(4,"div",85)(5,"span",86),l(6),r(),o(7,"span",87),l(8),r()()(),o(9,"button",98),C("click",function(n){let s=E(e).$implicit;return x().toggleFeature(s),M(n.stopPropagation())}),o(10,"mat-icon",82),l(11,"close"),r()()()}if(t&2){let e=p.$implicit,i=p.index,n=x();a(3),b(" ",i+1," "),a(3),m(e.name),a(),h("title",n.getEndpointDisplay(e)),a(),m(n.getEndpointDisplay(e))}}function An(t,p){t&1&&(o(0,"div",99)(1,"mat-icon",100),l(2,"playlist_add"),r(),o(3,"span",101),l(4),u(5,"transloco"),r()()),t&2&&(a(4),m(f(5,1,"createBatchConfig.selectFeaturesToAdd")))}function Pn(t,p){t&1&&(o(0,"span"),l(1),u(2,"transloco"),r()),t&2&&(a(),m(f(2,1,"createBatchConfig.saving")))}function On(t,p){t&1&&(o(0,"span"),l(1),u(2,"transloco"),r()),t&2&&(a(),m(f(2,1,"createBatchConfig.next")))}function zn(t,p){t&1&&(l(0),u(1,"transloco")),t&2&&m(f(1,1,"createBatchConfig.reviewParameters"))}function Rn(t,p){t&1&&(o(0,"span",120),l(1),u(2,"transloco"),r()),t&2&&(a(),m(f(2,1,"createBatchConfig.required")))}function Ln(t,p){if(t&1&&(mt(0),o(1,"span",117)(2,"span",118),l(3),r(),g(4,Rn,3,3,"span",119),r(),ut()),t&2){let e=p.$implicit;a(3),m(e.field),a(),h("ngIf",e.required)}}function Nn(t,p){if(t&1&&(o(0,"div")(1,"h4",113),l(2),u(3,"transloco"),r(),o(4,"div",114),g(5,Ln,5,2,"ng-container",115),r(),o(6,"p",116),l(7),u(8,"transloco"),r()()),t&2){let e=x().$implicit;a(2),b(" ",f(3,3,"createBatchConfig.requiredParameters")," "),a(3),h("ngForOf",e.dependencies),a(2),b(" ",f(8,5,"createBatchConfig.parametersMappedHint")," ")}}function Hn(t,p){t&1&&(o(0,"div",121),l(1),u(2,"transloco"),r()),t&2&&(a(),b(" ",f(2,1,"createBatchConfig.noParametersRequired")," "))}function Vn(t,p){if(t&1&&(o(0,"mat-expansion-panel",102)(1,"mat-expansion-panel-header",103)(2,"mat-panel-title",104)(3,"span",105)(4,"span",106)(5,"span",107),l(6),r(),o(7,"span",108),l(8),r()(),o(9,"span",109),l(10),r()()(),z(11,"mat-panel-description",110),r(),o(12,"div",111),g(13,Nn,9,7,"div",34)(14,Hn,3,3,"div",112),r()()),t&2){let e=p.$implicit,i=p.index,n=x();h("expanded",i===0),a(6),b("",i+1,"."),a(2),m(e.name),a(2),m(n.getEndpointDisplay(e)),a(3),h("ngIf",(e.dependencies==null?null:e.dependencies.length)>0),a(),h("ngIf",!e.dependencies||e.dependencies.length===0)}}function Qn(t,p){t&1&&(o(0,"span"),l(1),u(2,"transloco"),r()),t&2&&(a(),m(f(2,1,"createBatchConfig.saving")))}function jn(t,p){t&1&&(o(0,"span"),l(1),u(2,"transloco"),r()),t&2&&(a(),m(f(2,1,"createBatchConfig.next")))}function qn(t,p){t&1&&(l(0),u(1,"transloco")),t&2&&m(f(1,1,"createBatchConfig.reviewAndCreate"))}function $n(t,p){if(t&1&&(o(0,"div",122)(1,"span",123),l(2),r(),o(3,"span",67),l(4),r()()),t&2){let e=p.$implicit;a(2),m(e.name),a(2),b("$",(e.price||e.smartCheckPrice||0).toFixed(2),"")}}var Wo=(()=>{class t{constructor(){this._formBuilder=c(Jt),this._smartBatchService=c(si),this._router=c(Ct),this._route=c(yt),this.isEditMode=w(!1),this.editConfigId=w(null),this.isLoadingConfig=w(!1),this.isSavingStep=w(!1),this.countries=w([{code:"Colombia",name:"\u{1F1E8}\u{1F1F4} Colombia"},{code:"Peru",name:"\u{1F1F5}\u{1F1EA} Peru"},{code:"Mexico",name:"\u{1F1F2}\u{1F1FD} Mexico"},{code:"Brazil",name:"\u{1F1E7}\u{1F1F7} Brazil"},{code:"Chile",name:"\u{1F1E8}\u{1F1F1} Chile"},{code:"Argentina",name:"\u{1F1E6}\u{1F1F7} Argentina"},{code:"Ecuador",name:"\u{1F1EA}\u{1F1E8} Ecuador"},{code:"Venezuela",name:"\u{1F1FB}\u{1F1EA} Venezuela"},{code:"United States",name:"\u{1F1FA}\u{1F1F8} United States"},{code:"Spain",name:"\u{1F1EA}\u{1F1F8} Spain"}]),this.availableFeatures=w([]),this.isLoadingFeatures=w(!1),this.step1Form=this._formBuilder.group({name:["",[Z.required,Z.maxLength(150)]],description:["",[Z.maxLength(800)]],country:["",Z.required],inputFormat:["csv",Z.required],outputFormat:["csv",Z.required],mergeStrategy:["sequential",Z.required]}),this.selectedFeatures=w([]),this.endpointSearchQuery=w(""),this.selectedCountryForEndpoints=w(""),this.availableFeaturesForCountry=be(()=>{let i=this.availableFeatures(),n=this.selectedCountryForEndpoints();return n?i.filter(s=>s.country===n||s.country&&String(s.country).toLowerCase()==="world"):[]}),this.filteredAvailableFeatures=be(()=>{let i=this.endpointSearchQuery().trim().toLowerCase(),n=this.availableFeaturesForCountry();return i?n.filter(s=>{let d=(s.name??"").toLowerCase(),S=this.getEndpointDisplay(s).toLowerCase(),te=(s.code??"").toLowerCase();return d.includes(i)||S.includes(i)||te.includes(i)}):n}),this.totalCostPerRecord=be(()=>this.selectedFeatures().reduce((i,n)=>i+(n.price||n.smartCheckPrice||0),0));let e=this._route.snapshot.paramMap.get("id");e&&(this.isEditMode.set(!0),this.editConfigId.set(e),this.loadConfiguration(e)),this.step1Form.get("country")?.valueChanges.subscribe(i=>{i&&!this.isLoadingConfig()&&this.fetchFeatures(i)})}loadConfiguration(e){this.isLoadingConfig.set(!0),this._smartBatchService.getConfiguration(e).subscribe({next:i=>{let n=i.data,s=(n.country||"").trim(),S=this.countries().find(te=>te.code.toLowerCase()===s.toLowerCase())?.code??s;this.step1Form.patchValue({name:n.name,description:n.description||"",country:S,inputFormat:n.inputFormat,outputFormat:n.outputFormat,mergeStrategy:n.mergeStrategy}),this.selectedCountryForEndpoints.set(S),this._smartBatchService.getAvailableFeatures().subscribe({next:te=>{this.availableFeatures.set(te.data||[]);let Di=n.steps.sort((ie,ze)=>ie.sequence-ze.sequence).map(ie=>typeof ie.appFeature=="object"&&ie.appFeature?ie.appFeature:te.data.find(ze=>ze._id===ie.appFeature)).filter(Boolean);this.selectedFeatures.set(Di),this.isLoadingConfig.set(!1)},error:()=>{this.isLoadingConfig.set(!1)}})},error:()=>{this.isLoadingConfig.set(!1),this._router.navigate(["/smart-batch"])}})}fetchFeatures(e){this.isLoadingFeatures.set(!0),this.selectedFeatures.set([]),this.endpointSearchQuery.set(""),this.selectedCountryForEndpoints.set(e),this._smartBatchService.getAvailableFeatures().subscribe({next:i=>{this.availableFeatures.set(i.data||[]),this.isLoadingFeatures.set(!1)},error:()=>{this.isLoadingFeatures.set(!1)}})}toggleFeature(e){this.selectedFeatures().findIndex(s=>s._id===e._id)>=0?this.selectedFeatures.update(s=>s.filter(d=>d._id!==e._id)):this.selectedFeatures.update(s=>[...s,e])}isSelected(e){return this.selectedFeatures().some(i=>i._id===e._id)}getEndpointDisplay(e){let i=e?.url;return i?i.startsWith("/")?i:"/"+i:e?.code??""}drop(e){let i=this.selectedFeatures();li(i,e.previousIndex,e.currentIndex),this.selectedFeatures.set([...i])}buildConfigFromCurrentState(){let e=this.step1Form.value,i=this.selectedFeatures().map((n,s)=>({appFeature:n._id,sequence:s+1,enabled:!0,parameterDefaults:{},maxRetries:3,inputFieldMapping:{},outputFieldsToKeep:[],retryDelayBaseSeconds:4,timeoutSeconds:30}));return{name:e.name,description:e.description,country:e.country,inputFormat:e.inputFormat,outputFormat:e.outputFormat,mergeStrategy:e.mergeStrategy,steps:i,isActive:!0}}onNext(e){if(this.isEditMode()&&this.editConfigId()){let i=this.buildConfigFromCurrentState();if(i.steps.length===0){this.stepper?.next();return}this.isSavingStep.set(!0),this._smartBatchService.updateConfiguration(this.editConfigId(),i).subscribe({next:()=>{this.isSavingStep.set(!1),this.stepper?.next()},error:n=>{console.error("Error saving step",n),this.isSavingStep.set(!1)}})}else this.stepper?.next()}submit(){if(this.step1Form.invalid||this.selectedFeatures().length===0)return;let e=this.buildConfigFromCurrentState();this.isEditMode()&&this.editConfigId()?this._smartBatchService.updateConfiguration(this.editConfigId(),e).subscribe({next:()=>{this._router.navigate(["/smart-batch"])},error:i=>{console.error("Error updating batch",i)}}):this._smartBatchService.createConfiguration(e).subscribe({next:()=>{this._router.navigate(["/smart-batch"])},error:i=>{console.error("Error creating batch",i)}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=A({type:t,selectors:[["create-batch-config"]],viewQuery:function(i,n){if(i&1&&R(gn,5),i&2){let s;_(s=v())&&(n.stepper=s.first)}},decls:192,vars:127,consts:[["stepper",""],[1,"flex","flex-col","w-full","h-full","min-h-screen","relative"],[1,"fixed","inset-0","bg-gradient-to-b","from-slate-50","to-white","dark:from-slate-900","dark:to-slate-950","pointer-events-none"],[1,"absolute","inset-0","bg-[radial-gradient(ellipse_at_20%_20%,rgba(99,102,241,0.08),transparent_50%),radial-gradient(ellipse_at_80%_80%,rgba(139,92,246,0.08),transparent_50%)]"],[1,"relative","z-10","flex","flex-col","w-full","h-full"],[1,"flex","items-center","justify-between","px-8","py-5","border-b","border-slate-200/80","dark:border-slate-800/80","bg-white/80","dark:bg-slate-900/80","backdrop-blur-xl"],[1,"flex","items-center","gap-3"],["mat-icon-button","","routerLink","/smart-batch"],[1,"text-xl","font-bold","text-slate-900","dark:text-white"],[1,"flex-1","overflow-auto","p-8","max-w-5xl","mx-auto","w-full"],[1,"bg-white/80","dark:bg-slate-900/80","backdrop-blur-xl","rounded-2xl","border","border-slate-200","dark:border-slate-800","shadow-lg","p-8"],["orientation","vertical",1,"bg-transparent",3,"linear"],[3,"stepControl"],["matStepLabel",""],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","pt-4",3,"formGroup"],["appearance","outline",1,"w-full","col-span-2"],["matInput","","formControlName","name",3,"placeholder"],["matInput","","formControlName","description","rows","3",3,"placeholder"],["appearance","outline",1,"w-full"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["formControlName","mergeStrategy"],["value","sequential"],["value","parallel-independent"],["value","parallel-with-fallback"],[1,"col-span-2","grid","grid-cols-2","gap-6"],["appearance","outline"],["formControlName","inputFormat"],["value","csv"],["value","xlsx"],["value","jsonl"],["formControlName","outputFormat"],[1,"col-span-2","pt-4"],["mat-flat-button","","color","primary",3,"click","disabled"],[4,"ngIf"],[1,"flex","flex-col","gap-6","pt-4","h-[600px]"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-slate-500","uppercase"],["class","text-xs text-blue-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","h-full","min-h-0"],[1,"flex","flex-col","border","border-slate-200/80","dark:border-slate-700/80","rounded-xl","overflow-hidden","bg-white/60","dark:bg-slate-800/60","backdrop-blur-sm"],[1,"bg-slate-50/80","dark:bg-slate-900/50","px-4","py-3","border-b","border-slate-200/80","dark:border-slate-700/80","font-medium","text-sm"],[1,"p-2","border-b","border-slate-200/80","dark:border-slate-700/80"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","!mb-0"],["matPrefix","",1,"text-slate-400","icon-size-5"],["matInput","","type","text",1,"!py-1",3,"ngModelChange","ngModel","placeholder"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search",3,"click",4,"ngIf"],[1,"flex-1","overflow-y-auto","p-2","space-y-2"],["class","flex items-center justify-between p-3 rounded-lg border border-transparent hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-600 cursor-pointer transition-all select-none",3,"opacity-50","click",4,"ngFor","ngForOf"],["class","flex flex-col items-center justify-center py-8 text-slate-400 text-sm",4,"ngIf"],[1,"flex","flex-col","border","border-blue-200/80","dark:border-blue-800/50","rounded-xl","overflow-hidden","bg-blue-50/60","dark:bg-blue-900/20","backdrop-blur-sm"],[1,"bg-blue-100/60","dark:bg-blue-900/30","px-4","py-3","border-b","border-blue-200/80","dark:border-blue-800/50","font-medium","text-sm","text-blue-700","dark:text-blue-300"],["cdkDropList","",1,"flex-1","overflow-y-auto","p-2","space-y-2",3,"cdkDropListDropped"],["cdkDrag","","class","flex items-center justify-between gap-3 p-3 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 shadow-sm cursor-move",4,"ngFor","ngForOf"],["class","flex flex-col items-center justify-center h-full text-slate-400 opacity-60",4,"ngIf"],[1,"pt-4","flex","gap-3"],["mat-button","","matStepperPrevious",""],[1,"pt-4","flex","flex-col","gap-4"],[1,"text-sm","text-slate-500","mb-2"],["multi",""],["class","!bg-white/60 dark:!bg-slate-800/60 !backdrop-blur-sm",3,"expanded",4,"ngFor","ngForOf"],[1,"pt-6","flex","gap-3"],[1,"pt-6","max-w-2xl"],[1,"text-lg","font-bold","mb-4"],[1,"bg-slate-50","dark:bg-slate-900","rounded-lg","p-6","border","border-slate-200","dark:border-slate-800","space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-xs","text-slate-500","uppercase"],[1,"font-medium","text-slate-900","dark:text-white"],[1,"font-medium","text-slate-900","dark:text-white","capitalize"],[1,"mt-8"],[1,"text-sm","font-bold","text-slate-500","uppercase","tracking-wider","mb-3"],[1,"bg-gradient-to-br","from-green-50","to-emerald-50","dark:from-green-900/20","dark:to-emerald-900/10","border","border-green-200","dark:border-green-800/30","rounded-xl","p-5"],[1,"space-y-2","mb-4"],["class","flex justify-between text-sm",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","pt-3","border-t","border-green-200","dark:border-green-800/50"],[1,"font-medium","text-green-700","dark:text-green-300"],[1,"text-2xl","font-bold","text-green-700","dark:text-green-300"],[1,"pt-8","flex","gap-3"],["mat-flat-button","","color","primary",3,"click"],[3,"value"],[1,"text-xs","text-blue-500"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search",3,"click"],[1,"icon-size-5"],[1,"flex","items-center","justify-between","p-3","rounded-lg","border","border-transparent","hover:bg-slate-50","dark:hover:bg-slate-700","hover:border-slate-200","dark:hover:border-slate-600","cursor-pointer","transition-all","select-none",3,"click"],[1,"w-8","h-8","rounded-full","bg-blue-100","text-blue-600","flex","items-center","justify-center","font-bold","text-xs"],[1,"flex","flex-col","min-w-0","flex-1"],[1,"font-medium","text-slate-900","dark:text-white","text-sm"],[1,"text-xs","font-mono","text-blue-600","dark:text-blue-400","truncate",3,"title"],[1,"text-xs","text-slate-500","truncate"],["class","text-green-500 icon-size-5",4,"ngIf"],["class","text-slate-300 icon-size-5",4,"ngIf"],[1,"text-green-500","icon-size-5"],[1,"text-slate-300","icon-size-5"],[1,"flex","flex-col","items-center","justify-center","py-8","text-slate-400","text-sm"],[1,"icon-size-10","mb-2"],["cdkDrag","",1,"flex","items-center","justify-between","gap-3","p-3","rounded-lg","border","border-slate-200","dark:border-slate-600","bg-white","dark:bg-slate-900","shadow-sm","cursor-move"],[1,"flex","items-center","gap-3","min-w-0","flex-1"],[1,"flex","items-center","justify-center","w-6","h-6","shrink-0","rounded-full","bg-slate-100","dark:bg-slate-800","text-slate-500","text-xs","font-bold","font-mono"],["mat-icon-button","","color","warn",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-full","text-slate-400","opacity-60"],[1,"icon-size-8","mb-2"],[1,"text-sm"],[1,"!bg-white/60","dark:!bg-slate-800/60","!backdrop-blur-sm",3,"expanded"],[1,"!h-auto","!min-h-[3.5rem]"],[1,"!flex-1","!min-w-0","!mr-4"],[1,"flex","flex-col","gap-0.5","w-full"],[1,"flex","items-center","gap-2","w-full"],[1,"font-mono","text-xs","text-slate-400","shrink-0"],[1,"font-medium","text-slate-900","dark:text-white","min-w-0","break-words"],[1,"text-xs","font-mono","text-blue-600","dark:text-blue-400","pl-5"],[1,"!flex-none"],[1,"pt-4"],["class","text-sm text-slate-400 italic",4,"ngIf"],[1,"text-xs","font-bold","text-slate-500","uppercase","tracking-wider","mb-3"],[1,"flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],[1,"text-xs","text-slate-400","mt-3"],[1,"inline-flex","items-center","gap-2","px-3","py-1.5","rounded-lg","bg-slate-100","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700"],[1,"font-medium","text-sm","text-slate-700","dark:text-slate-300"],["class","text-xs text-orange-500 font-medium",4,"ngIf"],[1,"text-xs","text-orange-500","font-medium"],[1,"text-sm","text-slate-400","italic"],[1,"flex","justify-between","text-sm"],[1,"text-slate-600","dark:text-slate-400"]],template:function(i,n){if(i&1){let s=J();o(0,"div",1)(1,"div",2),z(2,"div",3),r(),o(3,"div",4)(4,"div",5)(5,"div",6)(6,"button",7)(7,"mat-icon"),l(8,"arrow_back"),r()(),o(9,"h1",8),l(10),u(11,"transloco"),u(12,"transloco"),r()()(),o(13,"div",9)(14,"div",10)(15,"mat-stepper",11,0)(17,"mat-step",12),g(18,vn,2,3,"ng-template",13),o(19,"form",14)(20,"mat-form-field",15)(21,"mat-label"),l(22),u(23,"transloco"),r(),z(24,"input",16),u(25,"transloco"),o(26,"mat-error"),l(27),u(28,"transloco"),r()(),o(29,"mat-form-field",15)(30,"mat-label"),l(31),u(32,"transloco"),r(),z(33,"textarea",17),u(34,"transloco"),r(),o(35,"mat-form-field",18)(36,"mat-label"),l(37),u(38,"transloco"),r(),o(39,"mat-select",19),g(40,bn,2,2,"mat-option",20),r(),o(41,"mat-error"),l(42),u(43,"transloco"),r()(),o(44,"mat-form-field",18)(45,"mat-label"),l(46),u(47,"transloco"),r(),o(48,"mat-select",21)(49,"mat-option",22),l(50),u(51,"transloco"),r(),o(52,"mat-option",23),l(53),u(54,"transloco"),r(),o(55,"mat-option",24),l(56),u(57,"transloco"),r()()(),o(58,"div",25)(59,"mat-form-field",26)(60,"mat-label"),l(61),u(62,"transloco"),r(),o(63,"mat-select",27)(64,"mat-option",28),l(65,"CSV"),r(),o(66,"mat-option",29),l(67,"Excel (XLSX)"),r(),o(68,"mat-option",30),l(69,"JSONL"),r()()(),o(70,"mat-form-field",26)(71,"mat-label"),l(72),u(73,"transloco"),r(),o(74,"mat-select",31)(75,"mat-option",28),l(76,"CSV"),r(),o(77,"mat-option",29),l(78,"Excel (XLSX)"),r(),o(79,"mat-option",30),l(80,"JSONL"),r()()()(),o(81,"div",32)(82,"button",33),C("click",function(){return E(s),M(n.onNext(1))}),g(83,yn,3,3,"span",34)(84,Cn,3,3,"span",34),r()()()(),o(85,"mat-step"),g(86,Sn,2,3,"ng-template",13),o(87,"div",35)(88,"div",36)(89,"h3",37),l(90),u(91,"transloco"),g(92,In,2,2,"span",34)(93,En,2,1,"span",34),r(),g(94,Mn,3,3,"div",38),r(),o(95,"div",39)(96,"div",40)(97,"div",41),l(98),u(99,"transloco"),r(),o(100,"div",42)(101,"mat-form-field",43)(102,"mat-icon",44),l(103,"search"),r(),o(104,"input",45),u(105,"transloco"),C("ngModelChange",function(S){return E(s),M(n.endpointSearchQuery.set(S))}),r(),g(106,wn,3,0,"button",46),r()(),o(107,"div",47),g(108,Fn,16,19,"div",48)(109,Tn,6,6,"div",49),r()(),o(110,"div",50)(111,"div",51),l(112),u(113,"transloco"),r(),o(114,"div",52),C("cdkDropListDropped",function(S){return E(s),M(n.drop(S))}),g(115,Bn,12,4,"div",53)(116,An,6,3,"div",54),r()()(),o(117,"div",55)(118,"button",56),l(119),u(120,"transloco"),r(),o(121,"button",33),C("click",function(){return E(s),M(n.onNext(2))}),g(122,Pn,3,3,"span",34)(123,On,3,3,"span",34),r()()()(),o(124,"mat-step"),g(125,zn,2,3,"ng-template",13),o(126,"div",57)(127,"p",58),l(128),u(129,"transloco"),r(),o(130,"mat-accordion",59),g(131,Vn,15,6,"mat-expansion-panel",60),r(),o(132,"div",61)(133,"button",56),l(134),u(135,"transloco"),r(),o(136,"button",33),C("click",function(){return E(s),M(n.onNext(3))}),g(137,Qn,3,3,"span",34)(138,jn,3,3,"span",34),r()()()(),o(139,"mat-step"),g(140,qn,2,3,"ng-template",13),o(141,"div",62)(142,"h3",63),l(143),u(144,"transloco"),r(),o(145,"div",64)(146,"div",65)(147,"div")(148,"span",66),l(149),u(150,"transloco"),r(),o(151,"span",67),l(152),r()(),o(153,"div")(154,"span",66),l(155),u(156,"transloco"),r(),o(157,"span",67),l(158),r()(),o(159,"div")(160,"span",66),l(161),u(162,"transloco"),r(),o(163,"span",68),l(164),r()(),o(165,"div")(166,"span",66),l(167),u(168,"transloco"),r(),o(169,"span",67),l(170),u(171,"transloco"),r()()()(),o(172,"div",69)(173,"h4",70),l(174),u(175,"transloco"),r(),o(176,"div",71)(177,"div",72),g(178,$n,5,2,"div",73),r(),o(179,"div",74)(180,"span",75),l(181),u(182,"transloco"),r(),o(183,"span",76),l(184),r()()()(),o(185,"div",77)(186,"button",56),l(187),u(188,"transloco"),r(),o(189,"button",78),C("click",function(){return E(s),M(n.submit())}),l(190),u(191,"transloco"),r()()()()()()()()()}if(i&2){let s,d,S;a(10),Ne(" ",f(11,60,n.isEditMode()?"createBatchConfig.edit":"createBatchConfig.create")," ",f(12,62,"createBatchConfig.batchConfiguration")," "),a(5),h("linear",!0),a(2),h("stepControl",n.step1Form),a(2),h("formGroup",n.step1Form),a(3),m(f(23,64,"createBatchConfig.configurationName")),a(2),h("placeholder",f(25,66,"createBatchConfig.namePlaceholder")),a(3),m(f(28,68,"createBatchConfig.nameRequired")),a(4),m(f(32,70,"createBatchConfig.description")),a(2),h("placeholder",f(34,72,"createBatchConfig.descriptionPlaceholder")),a(4),m(f(38,74,"createBatchConfig.country")),a(3),h("ngForOf",n.countries()),a(2),m(f(43,76,"createBatchConfig.countryRequired")),a(4),m(f(47,78,"createBatchConfig.mergeStrategy")),a(4),m(f(51,80,"createBatchConfig.sequential")),a(3),m(f(54,82,"createBatchConfig.parallelIndependent")),a(3),m(f(57,84,"createBatchConfig.parallelWithFallback")),a(5),m(f(62,86,"createBatchConfig.inputFieldsFormat")),a(11),m(f(73,88,"createBatchConfig.resultOutputFormat")),a(10),h("disabled",n.step1Form.invalid||n.isSavingStep()),a(),h("ngIf",n.isSavingStep()),a(),h("ngIf",!n.isSavingStep()),a(6),b(" ",f(91,90,"createBatchConfig.availableFeatures")," "),a(2),h("ngIf",n.endpointSearchQuery()),a(),h("ngIf",!n.endpointSearchQuery()),a(),h("ngIf",n.isLoadingFeatures()),a(4),b(" ",f(99,92,"createBatchConfig.available")," "),a(6),h("ngModel",n.endpointSearchQuery())("placeholder",f(105,94,"createBatchConfig.searchPlaceholder")),a(2),h("ngIf",n.endpointSearchQuery()),a(2),h("ngForOf",n.filteredAvailableFeatures()),a(),h("ngIf",!n.isLoadingFeatures()&&n.filteredAvailableFeatures().length===0),a(3),b(" ",f(113,96,"createBatchConfig.selectedSteps")," "),a(3),h("ngForOf",n.selectedFeatures()),a(),h("ngIf",n.selectedFeatures().length===0),a(3),m(f(120,98,"createBatchConfig.back")),a(2),h("disabled",n.selectedFeatures().length===0||n.isSavingStep()),a(),h("ngIf",n.isSavingStep()),a(),h("ngIf",!n.isSavingStep()),a(5),b(" ",f(129,100,"createBatchConfig.reviewParamsIntro")," "),a(3),h("ngForOf",n.selectedFeatures()),a(3),m(f(135,102,"createBatchConfig.back")),a(2),h("disabled",n.isSavingStep()),a(),h("ngIf",n.isSavingStep()),a(),h("ngIf",!n.isSavingStep()),a(5),m(f(144,104,"createBatchConfig.summary")),a(6),m(f(150,106,"createBatchConfig.configurationName")),a(3),m((s=n.step1Form.get("name"))==null?null:s.value),a(3),m(f(156,108,"createBatchConfig.country")),a(3),m((d=n.step1Form.get("country"))==null?null:d.value),a(3),m(f(162,110,"createBatchConfig.mergeStrategy")),a(3),m((S=n.step1Form.get("mergeStrategy"))==null?null:S.value),a(3),m(f(168,112,"createBatchConfig.totalSteps")),a(3),m(Qe(171,114,"createBatchConfig.stepsCount",He(125,xn,n.selectedFeatures().length))),a(4),b(" ",f(175,117,"createBatchConfig.estimatedCostPerRecord")," "),a(4),h("ngForOf",n.selectedFeatures()),a(3),m(f(182,119,"createBatchConfig.totalPerRecord")),a(3),b("$",n.totalCostPerRecord().toFixed(2),""),a(3),m(f(188,121,"createBatchConfig.back")),a(3),b(" ",f(191,123,n.isEditMode()?"createBatchConfig.updateConfiguration":"createBatchConfig.createConfiguration")," ")}},dependencies:[bt,gt,xt,_t,vt,ei,Zt,$t,Gt,Wt,Kt,ti,Xt,Yt,It,St,ki,Ye,pe,Je,wi,Vt,Ht,Nt,ni,ii,Rt,At,Pt,Ot,zt,Lt,oi,ai,Tt,Te,Fe,ri,qt,Ci,yi,Ge,We,bi,vi,ci,di,pi,jt,Qt],encapsulation:2})}}return t})();export{Wo as CreateBatchConfigComponent};
