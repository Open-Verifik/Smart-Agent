import{a as de}from"./chunk-CE5WN7WZ.js";import{a as ne,b as oe}from"./chunk-QTKDPUC7.js";import{j as le}from"./chunk-M2EUSKUB.js";import{a as se,b as ce}from"./chunk-X2B33RZ7.js";import{a as re,b as ae}from"./chunk-QAYTNEMP.js";import{b as K,d as Q,i as W}from"./chunk-5HIRALMD.js";import"./chunk-ELGVYL4R.js";import{U as X,V as Y,X as ee,Z as te,_ as ie}from"./chunk-RMO4OYE5.js";import{Bc as I,Cb as b,Db as v,Eb as o,Fb as r,Ga as C,Gb as D,Kb as P,Mb as w,Nb as c,Vc as G,Wa as l,Xb as a,Yb as T,Yc as J,Zb as _,Zc as Z,_b as L,ad as H,f as O,fb as U,ga as M,lb as x,mc as R,nc as k,oc as z,p as j,qa as S,ra as y,sb as f,ub as V,wb as q,zb as u}from"./chunk-QTVKNRSK.js";import{a as A,h as $}from"./chunk-MG3ERZGY.js";var F=(i,s)=>s.sequence,N=(i,s)=>s.rowIndex,_e=(i,s)=>s.label,ue=(i,s)=>s.step;function xe(i,s){i&1&&(o(0,"mat-icon",17),a(1,"refresh"),r(),a(2," Starting... "))}function ge(i,s){i&1&&(o(0,"mat-icon"),a(1,"play_arrow"),r(),a(2," Start Processing "))}function fe(i,s){if(i&1){let e=P();o(0,"button",15),w("click",function(){S(e);let n=c();return y(n.startProcessing())}),o(1,"span",16),x(2,xe,3,0)(3,ge,3,0),r()()}if(i&2){let e=c();f("disabled",e.isStarting()),l(2),u(e.isStarting()?2:3)}}function he(i,s){if(i&1){let e=P();o(0,"button",18),w("click",function(){S(e);let n=c();return y(n.pauseProcessing())}),o(1,"span",16)(2,"mat-icon"),a(3,"pause"),r(),a(4," Pause "),r()()}}function Ce(i,s){if(i&1){let e=P();o(0,"button",19),w("click",function(){S(e);let n=c();return y(n.generateReport())}),o(1,"span",16)(2,"mat-icon"),a(3,"description"),r(),a(4," Generate Report "),r()()}}function be(i,s){if(i&1&&(o(0,"div",12)(1,"div",20)(2,"span"),a(3,"Processing..."),r(),o(4,"span"),a(5),r()(),D(6,"mat-progress-bar",21),r()),i&2){let e=c();l(5),_("",e.progress(),"%"),l(),f("value",e.progress())}}function ve(i,s){if(i&1&&(o(0,"span",29),a(1),r()),i&2){let e=c().$implicit,t=c(2);f("matTooltip",t.getStepUrl(e)),l(),_(" ",t.getStepUrl(e)," ")}}function we(i,s){if(i&1&&(o(0,"span",30),a(1),R(2,"number"),r()),i&2){let e=c().$implicit,t=c(2);l(),_(" ",z(2,1,t.getStepPrice(e),"1.2-2")," credits ")}}function Se(i,s){i&1&&(o(0,"mat-icon",31),a(1,"arrow_forward"),r())}function ye(i,s){if(i&1&&(o(0,"div",25)(1,"div",26),a(2),r(),o(3,"div",27)(4,"span",28),a(5),r(),x(6,ve,2,2,"span",29)(7,we,3,4,"span",30),r()(),x(8,Se,2,0,"mat-icon",31)),i&2){let e=s.$implicit,t=s.$index,n=c(2);l(2),_(" ",e.sequence," "),l(2),f("matTooltip",n.getStepName(e)),l(),_(" ",n.getStepName(e)," "),l(),u(n.getStepUrl(e)?6:-1),l(),u(n.getStepPrice(e)>0?7:-1),l(),u(t<n.configSteps().length-1?8:-1)}}function Pe(i,s){if(i&1&&(o(0,"div",2)(1,"div",22)(2,"h3",23),a(3," Processing Steps "),r(),o(4,"div",24),b(5,ye,9,6,null,null,F),r()()()),i&2){let e=c();l(5),v(e.configSteps())}}function Ee(i,s){i&1&&(o(0,"div",14),D(1,"mat-spinner",32),r())}function Re(i,s){i&1&&(o(0,"div",40)(1,"mat-icon",45),a(2,"check_circle"),r(),o(3,"p"),a(4,"All records processed!"),r()())}function Ie(i,s){if(i&1&&(o(0,"div",52)(1,"mat-icon",55),a(2,"check"),r()()),i&2){let e=c().$implicit,t=c(4);f("matTooltip",t.getStepName(e)+": Completed")}}function Be(i,s){if(i&1&&(o(0,"div",53)(1,"mat-icon",56),a(2,"close"),r()()),i&2){let e=c().$implicit,t=c(4);f("matTooltip",t.getStepName(e)+": Failed")}}function Te(i,s){if(i&1&&(o(0,"div",54)(1,"mat-icon",57),a(2,"more_horiz"),r()()),i&2){let e=c().$implicit,t=c(4);f("matTooltip",t.getStepName(e)+": Pending")}}function ke(i,s){if(i&1&&x(0,Ie,3,1,"div",52)(1,Be,3,1,"div",53)(2,Te,3,1,"div",54),i&2){let e,t=s.$implicit,n=c().$implicit,m=c(3);u((e=m.getRowStepStatus(n,t.sequence))==="completed"?0:e==="failed"?1:2)}}function Fe(i,s){if(i&1){let e=P();o(0,"div",47),w("click",function(){let n=S(e).$implicit,m=c(3);return y(m.selectRow(n))}),o(1,"div",3)(2,"div",8)(3,"div",48),a(4),r(),o(5,"div")(6,"p",49),a(7),r(),o(8,"p",50),a(9),R(10,"titlecase"),r()()(),o(11,"div",51),b(12,ke,3,1,null,null,F),r()()()}if(i&2){let e,t=s.$implicit,n=c(3);V("bg-indigo-50",((e=n.selectedRow())==null?null:e.rowIndex)===t.rowIndex),l(4),_(" #",t.rowIndex+1," "),l(3),_(" ",(t.inputData==null?null:t.inputData.documentNumber)||(t.inputData==null?null:t.inputData.name)||"Row "+(t.rowIndex+1)," "),l(2),_(" ",k(10,5,t.status)," "),l(3),v(n.configSteps())}}function $e(i,s){if(i&1&&b(0,Fe,14,7,"div",46,N),i&2){let e=c(2);v(e.pendingRows())}}function je(i,s){i&1&&(o(0,"div",40)(1,"mat-icon",45),a(2,"hourglass_empty"),r(),o(3,"p"),a(4,"No completed records yet"),r()())}function Me(i,s){if(i&1&&(o(0,"div",52)(1,"mat-icon",55),a(2,"check"),r()()),i&2){let e=s.$implicit,t=c(4);f("matTooltip",t.getStepName(e))}}function Ve(i,s){if(i&1){let e=P();o(0,"div",47),w("click",function(){let n=S(e).$implicit,m=c(3);return y(m.selectRow(n))}),o(1,"div",3)(2,"div",8)(3,"div",59)(4,"mat-icon",60),a(5,"check"),r()(),o(6,"div")(7,"p",49),a(8),r(),o(9,"p",61),a(10,"Verified"),r()()(),o(11,"div",51),b(12,Me,3,1,"div",52,F),r()()()}if(i&2){let e,t=s.$implicit,n=c(3);V("bg-indigo-50",((e=n.selectedRow())==null?null:e.rowIndex)===t.rowIndex),l(8),_(" ",(t.inputData==null?null:t.inputData.documentNumber)||(t.inputData==null?null:t.inputData.name)||"Row "+(t.rowIndex+1)," "),l(4),v(n.configSteps())}}function qe(i,s){if(i&1&&(o(0,"div",52)(1,"mat-icon",55),a(2,"check"),r()()),i&2){let e=c().$implicit,t=c(4);f("matTooltip",t.getStepName(e)+": Completed")}}function De(i,s){if(i&1&&(o(0,"div",53)(1,"mat-icon",56),a(2,"close"),r()()),i&2){let e=c().$implicit,t=c(4);f("matTooltip",t.getStepName(e)+": Failed")}}function Ne(i,s){if(i&1&&(o(0,"div",54)(1,"mat-icon",57),a(2,"remove"),r()()),i&2){let e=c().$implicit,t=c(4);f("matTooltip",t.getStepName(e)+": Skipped")}}function Ae(i,s){if(i&1&&x(0,qe,3,1,"div",52)(1,De,3,1,"div",53)(2,Ne,3,1,"div",54),i&2){let e,t=s.$implicit,n=c().$implicit,m=c(3);u((e=m.getRowStepStatus(n,t.sequence))==="completed"?0:e==="failed"?1:2)}}function Oe(i,s){if(i&1){let e=P();o(0,"div",47),w("click",function(){let n=S(e).$implicit,m=c(3);return y(m.selectRow(n))}),o(1,"div",3)(2,"div",8)(3,"div",62)(4,"mat-icon",63),a(5,"close"),r()(),o(6,"div")(7,"p",49),a(8),r(),o(9,"p",64),a(10),r()()(),o(11,"div",51),b(12,Ae,3,1,null,null,F),r()()()}if(i&2){let e,t=s.$implicit,n=c(3);V("bg-red-50",((e=n.selectedRow())==null?null:e.rowIndex)===t.rowIndex),l(8),_(" ",(t.inputData==null?null:t.inputData.documentNumber)||(t.inputData==null?null:t.inputData.name)||"Row "+(t.rowIndex+1)," "),l(2),_(" ",(t.errors==null||t.errors[0]==null?null:t.errors[0].message)||"Failed"," "),l(2),v(n.configSteps())}}function Ue(i,s){if(i&1&&(b(0,Ve,14,3,"div",46,N),b(2,Oe,14,4,"div",58,N)),i&2){let e=c(2);v(e.completedRows()),l(2),v(e.failedRows())}}function Le(i,s){if(i&1){let e=P();o(0,"button",73),w("click",function(){S(e);let n=c(3);return y(n.generateRowReport(n.selectedRow()))}),o(1,"mat-icon",74),a(2,"picture_as_pdf"),r(),a(3," Generate PDF Report "),r()}}function ze(i,s){if(i&1&&(o(0,"div",84)(1,"span",85),a(2),r(),o(3,"span",86),a(4),r()()),i&2){let e=s.$implicit;l(2),T(e.label),l(2),T(e.value)}}function Ge(i,s){if(i&1&&(o(0,"div",82)(1,"div",83),b(2,ze,5,2,"div",84,_e),r()()),i&2){let e,t=c().$implicit,n=c(4);l(2),v(n.getStepResultFields((e=n.selectedRow())==null||e.results==null?null:e.results[t.sequence]))}}function Je(i,s){if(i&1&&(o(0,"div",77)(1,"div",78)(2,"div",66)(3,"div",79),a(4),r(),o(5,"span",80),a(6),r()(),o(7,"span",81),a(8),R(9,"titlecase"),r()(),x(10,Ge,4,0,"div",82),r()),i&2){let e,t=s.$implicit,n=c(4);l(3),q(n.getRowStepStatus(n.selectedRow(),t.sequence)==="completed"?"bg-emerald-100 text-emerald-600":n.getRowStepStatus(n.selectedRow(),t.sequence)==="failed"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-500"),l(),_(" ",t.sequence," "),l(2),T(n.getStepName(t)),l(),q(n.getRowStepStatus(n.selectedRow(),t.sequence)==="completed"?"bg-emerald-100 text-emerald-600":n.getRowStepStatus(n.selectedRow(),t.sequence)==="failed"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-500"),l(),_(" ",k(9,8,n.getRowStepStatus(n.selectedRow(),t.sequence))," "),l(2),u(!((e=n.selectedRow())==null||e.results==null)&&e.results[t.sequence]?10:-1)}}function Ze(i,s){if(i&1&&(o(0,"div",69)(1,"h4",75),a(2,"Step Results"),r(),o(3,"div",76),b(4,Je,11,10,"div",77,F),r()()),i&2){let e=c(3);l(4),v(e.configSteps())}}function He(i,s){if(i&1&&(o(0,"div",89)(1,"p",90),a(2),r(),o(3,"p",91),a(4),r()()),i&2){let e=s.$implicit;l(2),L(" Step ",e.step,": ",e.code," "),l(2),_(" ",e.message," ")}}function Ke(i,s){if(i&1&&(o(0,"div")(1,"h4",87),a(2,"Errors"),r(),o(3,"div",88),b(4,He,5,3,"div",89,ue),r()()),i&2){let e=c(3);l(4),v(e.selectedRow().errors)}}function Qe(i,s){if(i&1){let e=P();o(0,"div",44)(1,"div",65)(2,"h3",38),a(3),r(),o(4,"div",66),x(5,Le,4,0,"button",67),o(6,"button",68),w("click",function(){S(e);let n=c(2);return y(n.selectedRow.set(null))}),o(7,"mat-icon"),a(8,"close"),r()()()(),x(9,Ze,6,0,"div",69),o(10,"div",70)(11,"div")(12,"h4",71),a(13,"Input Data"),r(),o(14,"pre",72),a(15),R(16,"json"),r()(),x(17,Ke,6,0,"div"),r()()}if(i&2){let e,t,n,m,d,p=c(2);l(3),_(" Row #",((e=(e=p.selectedRow())==null?null:e.rowIndex)!==null&&e!==void 0?e:0)+1," Details "),l(2),u(((t=p.selectedRow())==null?null:t.status)==="completed"?5:-1),l(4),u(p.configSteps().length>0&&((n=p.selectedRow())!=null&&n.results)?9:-1),l(6),T(k(16,5,(m=p.selectedRow())==null?null:m.inputData)),l(2),u((d=p.selectedRow())!=null&&d.errors&&p.selectedRow().errors.length>0?17:-1)}}function We(i,s){if(i&1&&(o(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",8)(4,"div",36)(5,"mat-icon",37),a(6,"pending"),r()(),o(7,"div")(8,"h2",38),a(9,"Pending"),r(),o(10,"p",7),a(11),r()()()(),o(12,"div",39),x(13,Re,5,0,"div",40)(14,$e,2,0),r()(),o(15,"div",34)(16,"div",41)(17,"div",8)(18,"div",42)(19,"mat-icon",43),a(20,"check_circle"),r()(),o(21,"div")(22,"h2",38),a(23,"Completed"),r(),o(24,"p",7),a(25),r()()()(),o(26,"div",39),x(27,je,5,0,"div",40)(28,Ue,4,0),r()()(),x(29,Qe,18,7,"div",44)),i&2){let e=c();l(11),_(" ",e.pendingRows().length," records waiting "),l(2),u(e.pendingRows().length===0?13:14),l(12),_(" ",e.completedRows().length," records verified "),l(2),u(e.completedRows().length===0&&e.failedRows().length===0?27:28),l(2),u(e.selectedRow()?29:-1)}}var ft=(()=>{class i{constructor(){this._route=M(K),this._router=M(Q),this._smartBatchService=M(de),this._destroy$=new O,this._processingAborted=!1,this.configId=C(null),this.batchId=C(null),this.batch=C(null),this.configuration=C(null),this.isLoading=C(!0),this.isProcessing=C(!1),this.isStarting=C(!1),this.currentRowIndex=C(null),this.currentStepIndex=C(null),this.configSteps=I(()=>{let e=this.configuration();return e?.steps?e.steps.filter(t=>t.enabled).sort((t,n)=>t.sequence-n.sequence):[]}),this.pendingRows=I(()=>{let e=this.batch();return e?.rows?e.rows.filter(t=>t.status==="pending"||t.status==="processing"):[]}),this.completedRows=I(()=>{let e=this.batch();return e?.rows?e.rows.filter(t=>t.status==="completed"):[]}),this.failedRows=I(()=>{let e=this.batch();return e?.rows?e.rows.filter(t=>t.status==="failed"):[]}),this.progress=I(()=>{let e=this.batch();return!e||e.totalRows===0?0:Math.round((e.completedRows+e.failedRows)/e.totalRows*100)}),this.selectedRow=C(null)}ngOnInit(){this._route.params.subscribe(e=>{this.configId.set(e.configId),this.batchId.set(e.batchId),this._loadConfiguration(),this._loadBatch()})}ngOnDestroy(){this._processingAborted=!0,this._destroy$.next(),this._destroy$.complete()}_loadConfiguration(){let e=this.configId();e&&this._smartBatchService.getConfiguration(e).subscribe({next:t=>{this.configuration.set(t.data)}})}_loadBatch(){let e=this.batchId();e&&(this.isLoading.set(!0),this._smartBatchService.getSmartBatch(e).subscribe({next:t=>{this.batch.set(t.data),this.isLoading.set(!1),t.data.status==="processing"&&!this.isProcessing()&&(console.log("Resuming processing for batch:",e),this.isProcessing.set(!0),this._processRows())},error:t=>{console.error("Failed to load batch:",t),this.isLoading.set(!1)}}))}startProcessing(){return $(this,null,function*(){let e=this.batchId();if(e){this.isStarting.set(!0),this._processingAborted=!1;try{let t=yield j(this._smartBatchService.updateSmartBatch(e,{status:"processing"}));this.batch.set(t.data),this.isStarting.set(!1),this.isProcessing.set(!0),yield this._processRows()}catch(t){console.error("Failed to start processing:",t),this.isStarting.set(!1)}}})}_processRows(){return $(this,null,function*(){for(;!this.configuration()&&!this._processingAborted;)yield new Promise(n=>setTimeout(n,100));let e=this.batch(),t=this.configSteps();if(!e||t.length===0){this.isProcessing.set(!1);return}console.log(`Starting/Resuming processing for ${e.rows.length} rows`);for(let n of e.rows){if(this._processingAborted)break;n.status==="completed"||n.status==="failed"||(this.currentRowIndex.set(n.rowIndex),yield this._processRow(n,t))}this._loadBatch(),this.isProcessing.set(!1),this.currentRowIndex.set(null),this.currentStepIndex.set(null)})}_processRow(e,t){return $(this,null,function*(){let n=this.batchId();if(!n)return;let m={},d=[],p=!1;for(let g of t){if(this._processingAborted||p)break;this.currentStepIndex.set(g.sequence);try{let h=this._buildStepParams(e.inputData,g),E=g.appFeature,B=E?.url,me=E?.method||"GET";if(!B)throw new Error(`Step ${g.sequence} has no URL configured`);let pe=yield j(this._smartBatchService.executeFeatureRequest(B,me,h));m[g.sequence]=pe.data}catch(h){console.error(`Step ${g.sequence} failed for row ${e.rowIndex}:`,h),d.push({step:g.sequence,message:h?.error?.message||h?.message||"Step execution failed",code:h?.error?.code||"STEP_ERROR"}),this.configuration()?.mergeStrategy==="sequential"&&(p=!0)}}try{let g=yield j(this._smartBatchService.updateBatchRow(n,e.rowIndex,{status:p?"failed":"completed",results:m,errors:d}));this.batch.set(g.data)}catch(g){console.error(`Failed to update row ${e.rowIndex}:`,g)}})}_buildStepParams(e,t){let n=A({},e);if(t.parameterDefaults&&Object.assign(n,t.parameterDefaults),t.inputFieldMapping){let m=t.inputFieldMapping;m instanceof Map?m.forEach((d,p)=>{e[p]!==void 0&&(n[d]=e[p])}):Object.entries(m).forEach(([d,p])=>{e[d]!==void 0&&(n[p]=e[d])})}return n}pauseProcessing(){this._processingAborted=!0,this.isProcessing.set(!1)}generateReport(){let e=this.configId(),t=this.batchId();e&&t&&this._router.navigate(["/smart-batch",e,"batch",t,"report"])}generateRowReport(e){let t=this.configId(),n=this.batchId();t&&n&&this._router.navigate(["/smart-batch",t,"batch",n,"report"],{queryParams:{rowIndex:e.rowIndex}})}goBack(){let e=this.configId();e&&this._router.navigate(["/smart-batch",e])}selectRow(e){this.selectedRow.set(e)}getStatusColor(e){switch(e){case"completed":return"text-emerald-600";case"failed":return"text-red-600";case"processing":return"text-amber-600";default:return"text-gray-400"}}getStatusIcon(e){switch(e){case"completed":return"check_circle";case"failed":return"error";case"processing":return"sync";default:return"pending"}}getStepName(e){let t=e.appFeature;return t?.name||t?.code||`Step ${e.sequence}`}getStepUrl(e){let t=e.appFeature;return t?.url||t?.endpoint||""}getStepPrice(e){let t=e.appFeature;return t?.price??t?.smartCheckPrice??0}getStepResultFields(e){if(e==null||typeof e!="object")return[{label:"Result",value:e!=null?String(e):"\u2014"}];let t=[];for(let n of Object.keys(e)){let m=n.replace(/([A-Z])/g," $1").replace(/^./,g=>g.toUpperCase()).trim(),d=e[n],p;d==null?p="\u2014":Array.isArray(d)?p=d.length===0?"\u2014":`[${d.length} item${d.length===1?"":"s"}]`:typeof d=="object"?p=typeof d=="object"&&d!==null&&Object.keys(d).length>0?`{ ${Object.keys(d).slice(0,3).join(", ")}${Object.keys(d).length>3?"\u2026":""} }`:"\u2014":p=String(d),t.push({label:m,value:p})}return t}getRowStepStatus(e,t){if(this.isProcessing()&&this.currentRowIndex()===e.rowIndex&&this.currentStepIndex()===t)return"pending";if(!e.results||typeof e.results!="object")return e.errors?.find(d=>d.step===t)?"failed":"pending";let n=e.results[t];return n==null?e.errors?.find(d=>d.step===t)?"failed":"pending":"completed"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=U({type:i,selectors:[["batch-processing"]],decls:25,vars:13,consts:[[1,"min-h-screen","w-full","bg-gray-50"],[1,"bg-white","border-b","border-gray-200","sticky","top-0","z-10"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],["mat-icon-button","","matTooltip","Back to Dashboard",3,"click"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-3"],["mat-flat-button","","color","primary",1,"!rounded-xl",3,"disabled"],["mat-stroked-button","",1,"!rounded-xl"],["mat-flat-button","","color","accent",1,"!rounded-xl","!bg-indigo-600"],[1,"mt-4"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"flex","items-center","justify-center","h-64"],["mat-flat-button","","color","primary",1,"!rounded-xl",3,"click","disabled"],[1,"inline-flex","items-center","gap-2"],[1,"animate-spin"],["mat-stroked-button","",1,"!rounded-xl",3,"click"],["mat-flat-button","","color","accent",1,"!rounded-xl","!bg-indigo-600",3,"click"],[1,"flex","justify-between","text-sm","text-gray-600","mb-1"],["mode","determinate",1,"!rounded-full",3,"value"],[1,"bg-white","rounded-xl","border","border-gray-200","p-4"],[1,"text-sm","font-semibold","text-gray-500","uppercase","tracking-wider","mb-3"],[1,"flex","items-stretch","gap-2","flex-wrap"],[1,"flex","items-center","gap-2","min-w-0","max-w-[320px]","sm:max-w-[360px]","px-3","py-2.5","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"shrink-0","w-7","h-7","rounded-full","bg-indigo-100","flex","items-center","justify-center","text-xs","font-bold","text-indigo-600"],[1,"min-w-0","flex-1","flex","flex-col","gap-0.5"],[1,"text-sm","font-medium","text-gray-900","truncate",3,"matTooltip"],["matTooltipPosition","below",1,"text-xs","text-gray-500","font-mono","truncate",3,"matTooltip"],[1,"text-xs","text-indigo-600","font-medium","mt-0.5"],["aria-hidden","true",1,"text-gray-300","!text-base","shrink-0","self-center"],["diameter","48"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-2xl","border","border-gray-200","overflow-hidden"],[1,"bg-amber-50","border-b","border-amber-100","px-6","py-4"],[1,"w-10","h-10","rounded-xl","bg-amber-100","flex","items-center","justify-center"],[1,"text-amber-600"],[1,"font-semibold","text-gray-900"],[1,"max-h-[500px]","overflow-y-auto"],[1,"p-8","text-center","text-gray-400"],[1,"bg-emerald-50","border-b","border-emerald-100","px-6","py-4"],[1,"w-10","h-10","rounded-xl","bg-emerald-100","flex","items-center","justify-center"],[1,"text-emerald-600"],[1,"mt-6","bg-white","rounded-2xl","border","border-gray-200","p-6"],[1,"!text-5xl","!w-12","!h-12","mb-2"],[1,"px-6","py-4","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors",3,"bg-indigo-50"],[1,"px-6","py-4","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors",3,"click"],[1,"w-8","h-8","rounded-lg","bg-gray-100","flex","items-center","justify-center","text-sm","font-medium","text-gray-600"],[1,"font-medium","text-gray-900","text-sm"],[1,"text-xs","text-gray-400"],[1,"flex","items-center","gap-1"],[1,"w-5","h-5","rounded-full","bg-emerald-100","flex","items-center","justify-center",3,"matTooltip"],[1,"w-5","h-5","rounded-full","bg-red-100","flex","items-center","justify-center",3,"matTooltip"],[1,"w-5","h-5","rounded-full","bg-gray-100","flex","items-center","justify-center",3,"matTooltip"],[1,"text-emerald-600","!text-xs","!w-3","!h-3"],[1,"text-red-600","!text-xs","!w-3","!h-3"],[1,"text-gray-400","!text-xs","!w-3","!h-3"],[1,"px-6","py-4","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors",3,"bg-red-50"],[1,"w-8","h-8","rounded-lg","bg-emerald-100","flex","items-center","justify-center"],[1,"text-emerald-600","!text-base"],[1,"text-xs","text-emerald-600"],[1,"w-8","h-8","rounded-lg","bg-red-100","flex","items-center","justify-center"],[1,"text-red-600","!text-base"],[1,"text-xs","text-red-600"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center","gap-2"],["mat-flat-button","","color","primary",1,"!rounded-lg"],["mat-icon-button","",3,"click"],[1,"mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-sm","font-medium","text-gray-500","mb-2"],[1,"bg-gray-50","rounded-xl","p-4","text-sm","overflow-auto","max-h-64"],["mat-flat-button","","color","primary",1,"!rounded-lg",3,"click"],[1,"mr-2","icon-size-4"],[1,"text-sm","font-medium","text-gray-500","mb-3"],[1,"space-y-3"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],[1,"flex","items-center","justify-between","px-4","py-3","bg-gray-50"],[1,"w-6","h-6","rounded-full","flex","items-center","justify-center","text-xs","font-bold"],[1,"font-medium","text-gray-700"],[1,"text-xs","font-medium","px-2","py-1","rounded-full"],[1,"px-4","py-3","bg-white","border-t","border-gray-100"],[1,"space-y-0"],[1,"flex","gap-4","py-2","border-b","border-gray-100","last:border-0","text-sm"],[1,"text-gray-500","min-w-[140px]","shrink-0"],[1,"text-gray-900","font-medium","break-words"],[1,"text-sm","font-medium","text-red-500","mb-2"],[1,"space-y-2"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-3"],[1,"text-sm","font-medium","text-red-700"],[1,"text-sm","text-red-600"]],template:function(t,n){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),w("click",function(){return n.goBack()}),o(6,"mat-icon"),a(7,"arrow_back"),r()(),o(8,"div")(9,"h1",6),a(10),r(),o(11,"p",7),a(12),o(13,"span"),a(14),R(15,"titlecase"),r()()()(),o(16,"div",8),x(17,fe,4,2,"button",9)(18,he,5,0,"button",10)(19,Ce,5,0,"button",11),r()(),x(20,be,7,2,"div",12),r()(),x(21,Pe,7,0,"div",2),o(22,"div",13),x(23,Ee,2,0,"div",14)(24,We,30,5),r()()),t&2){let m,d,p,g,h,E,B;l(10),_(" ",((m=n.batch())==null?null:m.name)||"Batch Processing"," "),l(2),_(" ",((d=n.batch())==null?null:d.totalRows)||0," records \u2022 Status: "),l(),q(n.getStatusColor(((p=n.batch())==null?null:p.status)||"pending")),l(),_(" ",k(15,11,(g=n.batch())==null?null:g.status)," "),l(3),u(((h=n.batch())==null?null:h.status)==="draft"||((h=n.batch())==null?null:h.status)==="pending"?17:-1),l(),u(((E=n.batch())==null?null:E.status)==="processing"?18:-1),l(),u(((B=n.batch())==null?null:B.status)==="completed"?19:-1),l(),u(n.isProcessing()?20:-1),l(),u(n.configSteps().length>0?21:-1),l(2),u(n.isLoading()?23:24)}},dependencies:[H,J,Z,G,W,ee,Y,X,ie,te,oe,ne,ce,se,ae,re],encapsulation:2,data:{animation:[le]}})}}return i})();export{ft as BatchProcessingComponent};
