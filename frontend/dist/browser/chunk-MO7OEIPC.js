import{a as ni,c as ai,d as ri,e as oi}from"./chunk-WYCCYY5Z.js";import{a as ii}from"./chunk-CE5WN7WZ.js";import{b as ti}from"./chunk-JWCJQSM3.js";import"./chunk-SQ2NQHES.js";import"./chunk-3RK6DDJD.js";import"./chunk-NJIOGT5G.js";import{a as Jt,b as ei}from"./chunk-EA7553OK.js";import{a as Fe}from"./chunk-5EMO6V7L.js";import"./chunk-CUN3WPHV.js";import"./chunk-7RWCIHFI.js";import{c as Xt,d as Yt}from"./chunk-KZVB35JW.js";import{b as Bt}from"./chunk-QAYTNEMP.js";import{d as Nt}from"./chunk-AR6BYMPL.js";import{b as xt,d as _t,e as bt,i as vt}from"./chunk-5HIRALMD.js";import{e as It}from"./chunk-YQHVOEV4.js";import{D as Ut,E as Gt,L as Kt,M as Wt,N as Zt,b as we,d as Dt,e as Ft,g as Tt,h as At,l as Pt,m as Ot,p as Ht,r as K,s as Vt,u as Qt,v as jt,y as qt,z as $t}from"./chunk-QQUVC3UU.js";import{b as be,e as ve,f as ye}from"./chunk-ELGVYL4R.js";import{D as Mt,E as J,F as Ee,I as Me,N as oe,O as Ie,R as wt,S as kt,U as zt,V as Rt,X as Lt,Z as ke,_ as De,d as yt,g as Ct,l as Ce,n as Se,o as St,z as Et}from"./chunk-RMO4OYE5.js";import{$c as ft,A as Xe,Aa as v,B as re,Ba as le,Bb as ue,Bc as _e,Cb as he,Db as fe,Ea as Q,Eb as a,Fb as r,Fc as ct,Ga as w,Gb as z,H as Ye,Ha as Z,Hb as ot,Ib as st,Jb as X,Ka as pe,Kb as Y,Lb as ie,Mb as y,Nb as h,Nc as mt,Ob as $,Oc as ut,Pb as k,Qb as S,Rb as U,Sb as _,Sc as Ne,Tb as b,V as F,W as Je,Wa as l,Wb as ze,Wc as ht,X as B,Xa as j,Xb as s,Yb as g,Za as de,Zb as E,_b as lt,a as ee,aa as et,ab as ce,ad as gt,ba as H,da as V,ec as L,f as R,fb as D,ga as c,gb as q,ha as tt,hb as f,hc as Re,ia as it,j as Ke,jb as P,l as We,lb as u,mc as ge,nc as pt,pa as te,pc as Le,q as Ze,qa as T,ra as A,rb as O,rc as dt,sa as nt,sb as m,tb as me,ua as W,ub as C,wb as Oe,wc as G,xa as at,xb as rt,yc as M,zb as I,zc as xe}from"./chunk-QTVKNRSK.js";import"./chunk-MG3ERZGY.js";var Be=new V("CdkAccordion"),si=(()=>{class t{_stateChanges=new R;_openCloseAllActions=new R;id=c(J).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",M]},exportAs:["cdkAccordion"],features:[L([{provide:Be,useExisting:t}]),te]})}return t})(),li=(()=>{class t{accordion=c(Be,{optional:!0,skipSelf:!0});_changeDetectorRef=c(G);_expansionDispatcher=c(Fe);_openCloseAllSubscription=ee.EMPTY;closed=new v;opened=new v;destroyed=new v;expandedChange=new v;id=c(J).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",M],disabled:[2,"disabled","disabled",M]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[L([{provide:Be,useValue:void 0}])]})}return t})(),pi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=q({type:t});static \u0275inj=H({})}return t})();var wi=["body"],Ii=["bodyWrapper"],ki=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Di=["mat-expansion-panel-header","*","mat-action-row"];function Fi(t,p){}var Ti=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Ai=["mat-panel-title","mat-panel-description","*"];function Pi(t,p){t&1&&(a(0,"span",1),nt(),a(1,"svg",2),z(2,"path",3),r()())}var He=new V("MAT_ACCORDION"),mi=new V("MAT_EXPANSION_PANEL"),Oi=(()=>{class t{_template=c(j);_expansionPanel=c(mi,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),ui=new V("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Ve=(()=>{class t extends li{_viewContainerRef=c(ce);_animationsDisabled=c(pe,{optional:!0})==="NoopAnimations";_document=c(ct);_ngZone=c(le);_elementRef=c(Q);_renderer=c(de);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new v;afterCollapse=new v;_inputChanges=new R;accordion=c(He,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=c(J).getId("mat-expansion-panel-header-");constructor(){super();let e=c(ui,{optional:!0});this._expansionDispatcher=c(Fe),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(F(null),re(()=>this.expanded&&!this._portal),Ye(1)).subscribe(()=>{this._portal=new be(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:i})=>{e===this._bodyWrapper?.nativeElement&&i==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(i,n,o){if(i&1&&S(o,Oi,5),i&2){let d;_(d=b())&&(n._lazyContent=d.first)}},viewQuery:function(i,n){if(i&1&&(U(wi,5),U(Ii,5)),i&2){let o;_(o=b())&&(n._body=o.first),_(o=b())&&(n._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,n){i&2&&C("mat-expanded",n.expanded)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",M],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[L([{provide:He,useValue:void 0},{provide:mi,useExisting:t}]),P,te],ngContentSelectors:Di,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,n){i&1&&($(ki),k(0),a(1,"div",2,0)(3,"div",3,1)(5,"div",4),k(6,1),u(7,Fi,0,0,"ng-template",5),r(),k(8,2),r()()),i&2&&(l(),O("inert",n.expanded?null:""),l(2),m("id",n.id),O("aria-labelledby",n._headerId),l(4),m("cdkPortalOutlet",n._portal))},dependencies:[ve],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return t})();var Qe=(()=>{class t{panel=c(Ve,{host:!0});_element=c(Q);_focusMonitor=c(Ce);_changeDetectorRef=c(G);_parentChangeSubscription=ee.EMPTY;constructor(){c(Se).load(Ie);let e=this.panel,i=c(ui,{optional:!0}),n=c(new at("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(re(d=>!!(d.hideToggle||d.togglePosition))):Ke;this.tabIndex=parseInt(n||"")||0,this._parentChangeSubscription=Xe(e.opened,e.closed,o,e._inputChanges.pipe(re(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(re(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ee(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,n){i&1&&y("click",function(){return n._toggle()})("keydown",function(d){return n._keydown(d)}),i&2&&(O("id",n.panel._headerId)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),me("height",n._getHeaderHeight()),C("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after",n._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",n._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:xe(e)]},ngContentSelectors:Ai,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,n){i&1&&($(Ti),a(0,"span",0),k(1),k(2,1),k(3,2),r(),u(4,Pi,3,0,"span",1)),i&2&&(C("mat-content-hide-toggle",!n._showToggle()),l(4),I(n._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return t})(),hi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return t})(),fi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})(),gi=(()=>{class t extends si{_keyManager;_ownHeaders=new Z;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(F(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Me(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=W(t)))(n||t)}})();static \u0275dir=f({type:t,selectors:[["mat-accordion"]],contentQueries:function(i,n,o){if(i&1&&S(o,Qe,5),i&2){let d;_(d=b())&&(n._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,n){i&2&&C("mat-accordion-multi",n.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",M],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[L([{provide:He,useExisting:t}]),P]})}return t})(),xi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=q({type:t});static \u0275inj=H({imports:[oe,pi,ye]})}return t})();var Ri=["*"];function Li(t,p){t&1&&k(0)}var je=(()=>{class t{_elementRef=c(Q);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return t})(),qe=(()=>{class t{template=c(j);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["","cdkStepLabel",""]]})}return t})();var N={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},Ni=new V("STEPPER_GLOBAL_OPTIONS"),Ae=(()=>{class t{_stepperOptions;_stepper=c(ne);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new v;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let e=c(Ni,{optional:!0});this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["cdk-step"]],contentQueries:function(i,n,o){if(i&1&&(S(o,qe,5),S(o,Vt,5)),i&2){let d;_(d=b())&&(n.stepLabel=d.first),_(d=b())&&(n._childForms=d)}},viewQuery:function(i,n){if(i&1&&U(j,7),i&2){let o;_(o=b())&&(n.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",M],optional:[2,"optional","optional",M],completed:[2,"completed","completed",M],hasError:[2,"hasError","hasError",M]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[te],ngContentSelectors:Ri,decls:1,vars:0,template:function(i,n){i&1&&($(),u(0,Li,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),ne=(()=>{class t{_dir=c(Et,{optional:!0});_changeDetectorRef=c(G);_elementRef=c(Q);_destroyed=new R;_keyManager;_steps;steps=new Z;_stepHeader;_sortedHeaders=new Z;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?(this._isValidIndex(e),this._selectedIndex!==e&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e))):this._selectedIndex=e}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}selectionChange=new v;selectedIndexChange=new v;_groupId=c(J).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(F(this._steps),B(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(F(this._stepHeader),B(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,n)=>i._elementRef.nativeElement.compareDocumentPosition(n._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Me(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:We()).pipe(F(this._layoutDirection()),B(this._destroyed)).subscribe(e=>this._keyManager?.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let e=this.steps.toArray().slice(0,this._selectedIndex);for(let i of e)i._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`${this._groupId}-label-${e}`}_getStepContentId(e){return`${this._groupId}-content-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let i=e-this._selectedIndex;return i<0?this._layoutDirection()==="rtl"?"next":"previous":i>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,i=N.NUMBER){let n=this.steps.toArray()[e],o=this._isCurrentStep(e);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,o):this._getGuidelineLogic(n,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?N.ERROR:!e.completed||i?N.NUMBER:e.editable?N.EDIT:N.DONE}_getGuidelineLogic(e,i,n=N.NUMBER){return e._showError()&&e.hasError&&!i?N.ERROR:e.completed&&!i?N.DONE:e.completed&&i?n:e.editable&&i?N.EDIT:n}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e)),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let i=Ee(e),n=e.keyCode,o=this._keyManager;o?.activeItemIndex!=null&&!i&&(n===32||n===13)?(this.selectedIndex=o.activeItemIndex,e.preventDefault()):o?.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(i=>{let n=i.stepControl;return(n?n.invalid||n.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,i=yt();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(i,n,o){if(i&1&&(S(o,Ae,5),S(o,je,5)),i&2){let d;_(d=b())&&(n._steps=d),_(d=b())&&(n._stepHeader=d)}},inputs:{linear:[2,"linear","linear",M],selectedIndex:[2,"selectedIndex","selectedIndex",xe],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return t})(),_i=(()=>{class t{_stepper=c(ne);type="submit";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(i,n){i&1&&y("click",function(){return n._stepper.next()}),i&2&&ie("type",n.type)},inputs:{type:"type"}})}return t})(),bi=(()=>{class t{_stepper=c(ne);type="button";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(i,n){i&1&&y("click",function(){return n._stepper.previous()}),i&2&&ie("type",n.type)},inputs:{type:"type"}})}return t})(),vi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=q({type:t});static \u0275inj=H({imports:[Mt]})}return t})();function Bi(t,p){if(t&1&&X(0,2),t&2){let e=h();m("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function Hi(t,p){if(t&1&&(a(0,"span",7),s(1),r()),t&2){let e=h(2);l(),g(e._getDefaultTextForState(e.state))}}function Vi(t,p){if(t&1&&(a(0,"span",8),s(1),r()),t&2){let e=h(3);l(),g(e._intl.completedLabel)}}function Qi(t,p){if(t&1&&(a(0,"span",8),s(1),r()),t&2){let e=h(3);l(),g(e._intl.editableLabel)}}function ji(t,p){if(t&1&&(u(0,Vi,2,1,"span",8)(1,Qi,2,1,"span",8),a(2,"mat-icon",7),s(3),r()),t&2){let e=h(2);I(e.state==="done"?0:e.state==="edit"?1:-1),l(3),g(e._getDefaultTextForState(e.state))}}function qi(t,p){if(t&1&&u(0,Hi,2,1,"span",7)(1,ji,4,2),t&2){let e,i=h();I((e=i.state)==="number"?0:1)}}function $i(t,p){t&1&&(a(0,"div",4),X(1,9),r()),t&2&&(l(),m("ngTemplateOutlet",p.template))}function Ui(t,p){if(t&1&&(a(0,"div",4),s(1),r()),t&2){let e=h();l(),g(e.label)}}function Gi(t,p){if(t&1&&(a(0,"div",5),s(1),r()),t&2){let e=h();l(),g(e._intl.optionalLabel)}}function Ki(t,p){if(t&1&&(a(0,"div",6),s(1),r()),t&2){let e=h();l(),g(e.errorMessage)}}var yi=["*"];function Wi(t,p){}function Zi(t,p){if(t&1&&(k(0),u(1,Wi,0,0,"ng-template",0)),t&2){let e=h();l(),m("cdkPortalOutlet",e._portal)}}var Xi=["animatedContainer"],Ci=(t,p)=>({step:t,i:p});function Yi(t,p){t&1&&k(0)}function Ji(t,p){t&1&&z(0,"div",7)}function en(t,p){if(t&1&&(X(0,6),u(1,Ji,1,0,"div",7)),t&2){let e=p.$implicit,i=p.$index,n=p.$index,o=p.$count;h(2);let d=ze(4);m("ngTemplateOutlet",d)("ngTemplateOutletContext",Re(3,Ci,e,i)),l(),I(n!==o-1?1:-1)}}function tn(t,p){if(t&1&&(a(0,"div",8,1),X(2,9),r()),t&2){let e=p.$implicit,i=p.$index,n=h(2);Oe("mat-horizontal-stepper-content-"+n._getAnimationDirection(i)),m("id",n._getStepContentId(i)),O("aria-labelledby",n._getStepLabelId(i))("inert",n.selectedIndex===i?null:""),l(2),m("ngTemplateOutlet",e.content)}}function nn(t,p){if(t&1&&(a(0,"div",2)(1,"div",3),he(2,en,2,6,null,null,ue),r(),a(4,"div",4),he(5,tn,3,6,"div",5,ue),r()()),t&2){let e=h();l(2),fe(e.steps),l(3),fe(e.steps)}}function an(t,p){if(t&1&&(a(0,"div",10),X(1,6),a(2,"div",11,1)(4,"div",12)(5,"div",13),X(6,9),r()()()()),t&2){let e=p.$implicit,i=p.$index,n=p.$index,o=p.$count,d=h(2),x=ze(4);l(),m("ngTemplateOutlet",x)("ngTemplateOutletContext",Re(10,Ci,e,i)),l(),C("mat-stepper-vertical-line",n!==o-1)("mat-vertical-content-container-active",d.selectedIndex===i),O("inert",d.selectedIndex===i?null:""),l(2),m("id",d._getStepContentId(i)),O("aria-labelledby",d._getStepLabelId(i)),l(2),m("ngTemplateOutlet",e.content)}}function rn(t,p){if(t&1&&he(0,an,7,13,"div",10,ue),t&2){let e=h();fe(e.steps)}}function on(t,p){if(t&1){let e=Y();a(0,"mat-step-header",14),y("click",function(){let n=T(e).step;return A(n.select())})("keydown",function(n){T(e);let o=h();return A(o._onKeydown(n))}),r()}if(t&2){let e=p.step,i=p.i,n=h();C("mat-horizontal-stepper-header",n.orientation==="horizontal")("mat-vertical-stepper-header",n.orientation==="vertical"),m("tabIndex",n._getFocusIndex()===i?0:-1)("id",n._getStepLabelId(i))("index",i)("state",n._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",n.selectedIndex===i)("active",n._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",n._iconOverrides)("disableRipple",n.disableRipple||!n._stepIsNavigable(i,e))("color",e.color||n.color),O("aria-posinset",i+1)("aria-setsize",n.steps.length)("aria-controls",n._getStepContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",n._stepIsNavigable(i,e)?null:!0)}}var se=(()=>{class t extends qe{static \u0275fac=(()=>{let e;return function(n){return(e||(e=W(t)))(n||t)}})();static \u0275dir=f({type:t,selectors:[["","matStepLabel",""]],features:[P]})}return t})(),Pe=(()=>{class t{changes=new R;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(i){return new(i||t)};static \u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sn(t){return t||new Pe}var ln={provide:Pe,deps:[[new tt,new it,Pe]],useFactory:sn},$e=(()=>{class t extends je{_intl=c(Pe);_focusMonitor=c(Ce);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let e=c(Se);e.load(Ie),e.load(St);let i=c(G);this._intlSubscription=this._intl.changes.subscribe(()=>i.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof se?null:this.label}_templateLabel(){return this.label instanceof se?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,n){i&2&&Oe("mat-"+(n.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[P],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(z(0,"div",0),a(1,"div")(2,"div",1),u(3,Bi,1,2,"ng-container",2)(4,qi,2,1),r()(),a(5,"div",3),u(6,$i,2,1,"div",4)(7,Ui,2,1,"div",4)(8,Gi,2,1,"div",5)(9,Ki,2,1,"div",6),r()),i&2){let o;m("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),l(),rt("mat-step-icon-state-",n.state," mat-step-icon"),C("mat-step-icon-selected",n.selected),l(2),I(n.iconOverrides&&n.iconOverrides[n.state]?3:4),l(2),C("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error",n.state=="error"),l(),I((o=n._templateLabel())?6:n._stringLabel()?7:-1,o),l(2),I(n.optional&&n.state!="error"?8:-1),l(),I(n.state==="error"?9:-1)}},dependencies:[wt,Ne,ke],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return t})(),pn=(()=>{class t{templateRef=c(j);name;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return t})(),dn=(()=>{class t{_template=c(j);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=f({type:t,selectors:[["ng-template","matStepContent",""]]})}return t})(),Ue=(()=>{class t extends Ae{_errorStateMatcher=c(we,{skipSelf:!0});_viewContainerRef=c(ce);_isSelected=ee.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Je(()=>this._stepper.selectionChange.pipe(Ze(e=>e.selectedStep===this),F(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new be(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){let n=this._errorStateMatcher.isErrorState(e,i),o=!!(e&&e.invalid&&this.interacted);return n||o}static \u0275fac=(()=>{let e;return function(n){return(e||(e=W(t)))(n||t)}})();static \u0275cmp=D({type:t,selectors:[["mat-step"]],contentQueries:function(i,n,o){if(i&1&&(S(o,se,5),S(o,dn,5)),i&2){let d;_(d=b())&&(n.stepLabel=d.first),_(d=b())&&(n._lazyContent=d.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[L([{provide:we,useExisting:t},{provide:Ae,useExisting:t}]),P],ngContentSelectors:yi,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,n){i&1&&($(),u(0,Zi,2,1,"ng-template"))},dependencies:[ve],encapsulation:2,changeDetection:0})}return t})(),Ge=(()=>{class t extends ne{_ngZone=c(le);_renderer=c(de);_animationsModule=c(pe,{optional:!0});_cleanupTransition;_isAnimating=w(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new Z;_icons;animationDone=new v;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}_animationDuration="";_isServer=!c(Ct).isBrowser;constructor(){super();let i=c(Q).nativeElement.nodeName.toLowerCase();this.orientation=i==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(B(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(B(this._destroyed)).subscribe(()=>{let e=this._getAnimationDuration();e==="0ms"||e==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let e=!1;this._animatedContainers.changes.pipe(F(null),B(this._destroyed)).subscribe(()=>queueMicrotask(()=>{e||(e=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=e=>{let i=e.target;if(!i)return;let n=this.orientation==="horizontal"&&e.propertyName==="transform"&&i.classList.contains("mat-horizontal-stepper-content-current"),o=this.orientation==="vertical"&&e.propertyName==="grid-template-rows"&&i.classList.contains("mat-vertical-content-container-active");(n||o)&&this._animatedContainers.find(x=>x.nativeElement===i)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,n,o){if(i&1&&(S(o,Ue,5),S(o,pn,5)),i&2){let d;_(d=b())&&(n._steps=d),_(d=b())&&(n._icons=d)}},viewQuery:function(i,n){if(i&1&&(U($e,5),U(Xi,5)),i&2){let o;_(o=b())&&(n._stepHeader=o),_(o=b())&&(n._animatedContainers=o)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(i,n){i&2&&(O("aria-orientation",n.orientation),me("--mat-stepper-animation-duration",n._getAnimationDuration()),C("mat-stepper-horizontal",n.orientation==="horizontal")("mat-stepper-vertical",n.orientation==="vertical")("mat-stepper-label-position-end",n.orientation==="horizontal"&&n.labelPosition=="end")("mat-stepper-label-position-bottom",n.orientation==="horizontal"&&n.labelPosition=="bottom")("mat-stepper-header-position-bottom",n.headerPosition==="bottom")("mat-stepper-animating",n._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[L([{provide:ne,useExisting:t}]),P],ngContentSelectors:yi,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,n){if(i&1&&($(),u(0,Yi,1,0)(1,nn,7,0,"div",2)(2,rn,2,0)(3,on,1,23,"ng-template",null,0,dt)),i&2){let o;I(n._isServer?0:-1),l(),I((o=n.orientation)==="horizontal"?1:o==="vertical"?2:-1)}},dependencies:[Ne,$e],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return t})(),Si=(()=>{class t extends _i{static \u0275fac=(()=>{let e;return function(n){return(e||(e=W(t)))(n||t)}})();static \u0275dir=f({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(i,n){i&2&&ie("type",n.type)},features:[P]})}return t})(),Ei=(()=>{class t extends bi{static \u0275fac=(()=>{let e;return function(n){return(e||(e=W(t)))(n||t)}})();static \u0275dir=f({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(i,n){i&2&&ie("type",n.type)},features:[P]})}return t})(),Mi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=q({type:t});static \u0275inj=H({providers:[ln,we],imports:[oe,ye,vi,De,kt,Ge,$e,oe]})}return t})();function mn(t,p){t&1&&s(0,"Basic Information")}function un(t,p){if(t&1&&(a(0,"mat-option",80),s(1),r()),t&2){let e=p.$implicit;m("value",e.code),l(),E(" ",e.name," ")}}function hn(t,p){t&1&&s(0,"Select Endpoints")}function fn(t,p){if(t&1&&(a(0,"span"),s(1),r()),t&2){let e=h();l(),lt("(",e.filteredAvailableFeatures().length," of ",e.availableFeaturesForCountry().length,")")}}function gn(t,p){if(t&1&&(a(0,"span"),s(1),r()),t&2){let e=h();l(),E("(",e.availableFeaturesForCountry().length,")")}}function xn(t,p){t&1&&(a(0,"div",81),s(1," Loading features... "),r())}function _n(t,p){if(t&1){let e=Y();a(0,"button",82),y("click",function(){T(e);let n=h();return A(n.endpointSearchQuery.set(""))}),a(1,"mat-icon",83),s(2,"close"),r()()}}function bn(t,p){t&1&&(a(0,"mat-icon",92),s(1,"check_circle"),r())}function vn(t,p){t&1&&(a(0,"mat-icon",93),s(1,"add_circle_outline"),r())}function yn(t,p){if(t&1){let e=Y();a(0,"div",84),y("click",function(){let n=T(e).$implicit,o=h();return A(o.toggleFeature(n))}),a(1,"div",6)(2,"div",85),s(3),ge(4,"slice"),ge(5,"uppercase"),r(),a(6,"div",86)(7,"span",87),s(8),r(),a(9,"span",88),s(10),r(),a(11,"span",89),s(12),ge(13,"slice"),r()()(),u(14,bn,2,0,"mat-icon",90)(15,vn,2,0,"mat-icon",91),r()}if(t&2){let e=p.$implicit,i=h();C("opacity-50",i.isSelected(e)),l(3),E(" ",pt(5,13,Le(4,9,e.code,0,2))," "),l(5),g(e.name),l(),m("title",i.getEndpointDisplay(e)),l(),g(i.getEndpointDisplay(e)),l(2),E("",Le(13,15,e.description,0,50),"..."),l(2),m("ngIf",i.isSelected(e)),l(),m("ngIf",!i.isSelected(e))}}function Cn(t,p){if(t&1&&(a(0,"div",94)(1,"mat-icon",95),s(2,"search_off"),r(),a(3,"span"),s(4),r()()),t&2){let e=h();l(4),E('No endpoints match "',e.endpointSearchQuery(),'"')}}function Sn(t,p){if(t&1){let e=Y();a(0,"div",96)(1,"div",97)(2,"span",98),s(3),r(),a(4,"div",86)(5,"span",87),s(6),r(),a(7,"span",88),s(8),r()()(),a(9,"button",99),y("click",function(n){let o=T(e).$implicit;return h().toggleFeature(o),A(n.stopPropagation())}),a(10,"mat-icon",83),s(11,"close"),r()()()}if(t&2){let e=p.$implicit,i=p.index,n=h();l(3),E(" ",i+1," "),l(3),g(e.name),l(),m("title",n.getEndpointDisplay(e)),l(),g(n.getEndpointDisplay(e))}}function En(t,p){t&1&&(a(0,"div",100)(1,"mat-icon",101),s(2,"playlist_add"),r(),a(3,"span",102),s(4,"Select features to add steps"),r()())}function Mn(t,p){t&1&&s(0,"Review Parameters")}function wn(t,p){t&1&&(a(0,"span",121),s(1,"Required"),r())}function In(t,p){if(t&1&&(ot(0),a(1,"span",118)(2,"span",119),s(3),r(),u(4,wn,2,0,"span",120),r(),st()),t&2){let e=p.$implicit;l(3),g(e.field),l(),m("ngIf",e.required)}}function kn(t,p){if(t&1&&(a(0,"div")(1,"h4",114),s(2," Required Parameters "),r(),a(3,"div",115),u(4,In,5,2,"ng-container",116),r(),a(5,"p",117),s(6," These parameters will be mapped from your input file when running the batch. "),r()()),t&2){let e=h().$implicit;l(4),m("ngForOf",e.dependencies)}}function Dn(t,p){t&1&&(a(0,"div",122),s(1," No parameters required for this endpoint. "),r())}function Fn(t,p){if(t&1&&(a(0,"mat-expansion-panel",103)(1,"mat-expansion-panel-header",104)(2,"mat-panel-title",105)(3,"span",106)(4,"span",107)(5,"span",108),s(6),r(),a(7,"span",109),s(8),r()(),a(9,"span",110),s(10),r()()(),z(11,"mat-panel-description",111),r(),a(12,"div",112),u(13,kn,7,1,"div",37)(14,Dn,2,0,"div",113),r()()),t&2){let e=p.$implicit,i=p.index,n=h();m("expanded",i===0),l(6),E("",i+1,"."),l(2),g(e.name),l(2),g(n.getEndpointDisplay(e)),l(3),m("ngIf",(e.dependencies==null?null:e.dependencies.length)>0),l(),m("ngIf",!e.dependencies||e.dependencies.length===0)}}function Tn(t,p){t&1&&s(0,"Review & Create")}function An(t,p){if(t&1&&(a(0,"div",123)(1,"span",124),s(2),r(),a(3,"span",68),s(4),r()()),t&2){let e=p.$implicit;l(2),g(e.name),l(2),E("$",(e.price||e.smartCheckPrice||0).toFixed(2),"")}}var Tr=(()=>{class t{constructor(){this._formBuilder=c(Kt),this._smartBatchService=c(ii),this._router=c(_t),this._route=c(xt),this.isEditMode=w(!1),this.editConfigId=w(null),this.isLoadingConfig=w(!1),this.countries=w([{code:"Colombia",name:"\u{1F1E8}\u{1F1F4} Colombia"},{code:"Peru",name:"\u{1F1F5}\u{1F1EA} Peru"},{code:"Mexico",name:"\u{1F1F2}\u{1F1FD} Mexico"},{code:"Brazil",name:"\u{1F1E7}\u{1F1F7} Brazil"},{code:"Chile",name:"\u{1F1E8}\u{1F1F1} Chile"},{code:"Argentina",name:"\u{1F1E6}\u{1F1F7} Argentina"},{code:"Ecuador",name:"\u{1F1EA}\u{1F1E8} Ecuador"},{code:"Venezuela",name:"\u{1F1FB}\u{1F1EA} Venezuela"},{code:"United States",name:"\u{1F1FA}\u{1F1F8} United States"},{code:"Spain",name:"\u{1F1EA}\u{1F1F8} Spain"}]),this.availableFeatures=w([]),this.isLoadingFeatures=w(!1),this.step1Form=this._formBuilder.group({name:["",[K.required,K.maxLength(150)]],description:["",[K.maxLength(800)]],country:["",K.required],inputFormat:["csv",K.required],outputFormat:["csv",K.required],mergeStrategy:["sequential",K.required]}),this.selectedFeatures=w([]),this.endpointSearchQuery=w(""),this.selectedCountryForEndpoints=w(""),this.availableFeaturesForCountry=_e(()=>{let i=this.availableFeatures(),n=this.selectedCountryForEndpoints();return n?i.filter(o=>o.country===n||o.country&&String(o.country).toLowerCase()==="world"):[]}),this.filteredAvailableFeatures=_e(()=>{let i=this.endpointSearchQuery().trim().toLowerCase(),n=this.availableFeaturesForCountry();return i?n.filter(o=>{let d=(o.name??"").toLowerCase(),x=this.getEndpointDisplay(o).toLowerCase(),ae=(o.code??"").toLowerCase();return d.includes(i)||x.includes(i)||ae.includes(i)}):n}),this.totalCostPerRecord=_e(()=>this.selectedFeatures().reduce((i,n)=>i+(n.price||n.smartCheckPrice||0),0));let e=this._route.snapshot.paramMap.get("id");e&&(this.isEditMode.set(!0),this.editConfigId.set(e),this.loadConfiguration(e)),this.step1Form.get("country")?.valueChanges.subscribe(i=>{i&&!this.isLoadingConfig()&&this.fetchFeatures(i)})}loadConfiguration(e){this.isLoadingConfig.set(!0),this._smartBatchService.getConfiguration(e).subscribe({next:i=>{let n=i.data;this.step1Form.patchValue({name:n.name,description:n.description||"",country:n.country,inputFormat:n.inputFormat,outputFormat:n.outputFormat,mergeStrategy:n.mergeStrategy}),this.selectedCountryForEndpoints.set(n.country),this._smartBatchService.getAvailableFeatures().subscribe({next:o=>{this.availableFeatures.set(o.data||[]);let d=n.steps.sort((x,ae)=>x.sequence-ae.sequence).map(x=>typeof x.appFeature=="object"&&x.appFeature?x.appFeature:o.data.find(ae=>ae._id===x.appFeature)).filter(Boolean);this.selectedFeatures.set(d),this.isLoadingConfig.set(!1)},error:()=>{this.isLoadingConfig.set(!1)}})},error:()=>{this.isLoadingConfig.set(!1),this._router.navigate(["/smart-batch"])}})}fetchFeatures(e){this.isLoadingFeatures.set(!0),this.selectedFeatures.set([]),this.endpointSearchQuery.set(""),this.selectedCountryForEndpoints.set(e),this._smartBatchService.getAvailableFeatures().subscribe({next:i=>{this.availableFeatures.set(i.data||[]),this.isLoadingFeatures.set(!1)},error:()=>{this.isLoadingFeatures.set(!1)}})}toggleFeature(e){this.selectedFeatures().findIndex(o=>o._id===e._id)>=0?this.selectedFeatures.update(o=>o.filter(d=>d._id!==e._id)):this.selectedFeatures.update(o=>[...o,e])}isSelected(e){return this.selectedFeatures().some(i=>i._id===e._id)}getEndpointDisplay(e){let i=e?.url;return i?i.startsWith("/")?i:"/"+i:e?.code??""}drop(e){let i=this.selectedFeatures();ni(i,e.previousIndex,e.currentIndex),this.selectedFeatures.set([...i])}submit(){if(this.step1Form.invalid||this.selectedFeatures().length===0)return;let e=this.step1Form.value,i=this.selectedFeatures().map((o,d)=>({appFeature:o._id,sequence:d+1,enabled:!0,parameterDefaults:{},maxRetries:3,inputFieldMapping:{},outputFieldsToKeep:[],retryDelayBaseSeconds:4,timeoutSeconds:30})),n={name:e.name,description:e.description,country:e.country,inputFormat:e.inputFormat,outputFormat:e.outputFormat,mergeStrategy:e.mergeStrategy,steps:i,isActive:!0};this.isEditMode()&&this.editConfigId()?this._smartBatchService.updateConfiguration(this.editConfigId(),n).subscribe({next:()=>{this._router.navigate(["/smart-batch"])},error:o=>{console.error("Error updating batch",o)}}):this._smartBatchService.createConfiguration(n).subscribe({next:()=>{this._router.navigate(["/smart-batch"])},error:o=>{console.error("Error creating batch",o)}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=D({type:t,selectors:[["create-batch-config"]],decls:157,vars:24,consts:[["stepper",""],[1,"flex","flex-col","w-full","h-full","min-h-screen","relative"],[1,"fixed","inset-0","bg-gradient-to-b","from-slate-50","to-white","dark:from-slate-900","dark:to-slate-950","pointer-events-none"],[1,"absolute","inset-0","bg-[radial-gradient(ellipse_at_20%_20%,rgba(99,102,241,0.08),transparent_50%),radial-gradient(ellipse_at_80%_80%,rgba(139,92,246,0.08),transparent_50%)]"],[1,"relative","z-10","flex","flex-col","w-full","h-full"],[1,"flex","items-center","justify-between","px-8","py-5","border-b","border-slate-200/80","dark:border-slate-800/80","bg-white/80","dark:bg-slate-900/80","backdrop-blur-xl"],[1,"flex","items-center","gap-3"],["mat-icon-button","","routerLink","/smart-batch"],[1,"text-xl","font-bold","text-slate-900","dark:text-white"],[1,"flex-1","overflow-auto","p-8","max-w-5xl","mx-auto","w-full"],[1,"bg-white/80","dark:bg-slate-900/80","backdrop-blur-xl","rounded-2xl","border","border-slate-200","dark:border-slate-800","shadow-lg","p-8"],["orientation","vertical",1,"bg-transparent",3,"linear"],[3,"stepControl"],["matStepLabel",""],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","pt-4",3,"formGroup"],["appearance","outline",1,"w-full","col-span-2"],["matInput","","formControlName","name","placeholder","e.g. Colombian ID Verification Batch"],["matInput","","formControlName","description","rows","3","placeholder","Describe the purpose of this batch..."],["appearance","outline",1,"w-full"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["formControlName","mergeStrategy"],["value","sequential"],["value","parallel-independent"],["value","parallel-with-fallback"],[1,"col-span-2","grid","grid-cols-2","gap-6"],["appearance","outline"],["formControlName","inputFormat"],["value","csv"],["value","xlsx"],["value","jsonl"],["formControlName","outputFormat"],[1,"col-span-2","pt-4"],["mat-flat-button","","color","primary","matStepperNext","",3,"disabled"],[1,"flex","flex-col","gap-6","pt-4","h-[600px]"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-slate-500","uppercase"],[4,"ngIf"],["class","text-xs text-blue-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","h-full","min-h-0"],[1,"flex","flex-col","border","border-slate-200/80","dark:border-slate-700/80","rounded-xl","overflow-hidden","bg-white/60","dark:bg-slate-800/60","backdrop-blur-sm"],[1,"bg-slate-50/80","dark:bg-slate-900/50","px-4","py-3","border-b","border-slate-200/80","dark:border-slate-700/80","font-medium","text-sm"],[1,"p-2","border-b","border-slate-200/80","dark:border-slate-700/80"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","!mb-0"],["matPrefix","",1,"text-slate-400","icon-size-5"],["matInput","","type","text","placeholder","Search by title or endpoint...",1,"!py-1",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search",3,"click",4,"ngIf"],[1,"flex-1","overflow-y-auto","p-2","space-y-2"],["class","flex items-center justify-between p-3 rounded-lg border border-transparent hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-600 cursor-pointer transition-all select-none",3,"opacity-50","click",4,"ngFor","ngForOf"],["class","flex flex-col items-center justify-center py-8 text-slate-400 text-sm",4,"ngIf"],[1,"flex","flex-col","border","border-blue-200/80","dark:border-blue-800/50","rounded-xl","overflow-hidden","bg-blue-50/60","dark:bg-blue-900/20","backdrop-blur-sm"],[1,"bg-blue-100/60","dark:bg-blue-900/30","px-4","py-3","border-b","border-blue-200/80","dark:border-blue-800/50","font-medium","text-sm","text-blue-700","dark:text-blue-300"],["cdkDropList","",1,"flex-1","overflow-y-auto","p-2","space-y-2",3,"cdkDropListDropped"],["cdkDrag","","class","flex items-center justify-between gap-3 p-3 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 shadow-sm cursor-move",4,"ngFor","ngForOf"],["class","flex flex-col items-center justify-center h-full text-slate-400 opacity-60",4,"ngIf"],[1,"pt-4","flex","gap-3"],["mat-button","","matStepperPrevious",""],[1,"pt-4","flex","flex-col","gap-4"],[1,"text-sm","text-slate-500","mb-2"],["multi",""],["class","!bg-white/60 dark:!bg-slate-800/60 !backdrop-blur-sm",3,"expanded",4,"ngFor","ngForOf"],[1,"pt-6","flex","gap-3"],["mat-flat-button","","color","primary","matStepperNext",""],[1,"pt-6","max-w-2xl"],[1,"text-lg","font-bold","mb-4"],[1,"bg-slate-50","dark:bg-slate-900","rounded-lg","p-6","border","border-slate-200","dark:border-slate-800","space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-xs","text-slate-500","uppercase"],[1,"font-medium","text-slate-900","dark:text-white"],[1,"font-medium","text-slate-900","dark:text-white","capitalize"],[1,"mt-8"],[1,"text-sm","font-bold","text-slate-500","uppercase","tracking-wider","mb-3"],[1,"bg-gradient-to-br","from-green-50","to-emerald-50","dark:from-green-900/20","dark:to-emerald-900/10","border","border-green-200","dark:border-green-800/30","rounded-xl","p-5"],[1,"space-y-2","mb-4"],["class","flex justify-between text-sm",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","pt-3","border-t","border-green-200","dark:border-green-800/50"],[1,"font-medium","text-green-700","dark:text-green-300"],[1,"text-2xl","font-bold","text-green-700","dark:text-green-300"],[1,"pt-8","flex","gap-3"],["mat-flat-button","","color","primary",3,"click"],[3,"value"],[1,"text-xs","text-blue-500"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search",3,"click"],[1,"icon-size-5"],[1,"flex","items-center","justify-between","p-3","rounded-lg","border","border-transparent","hover:bg-slate-50","dark:hover:bg-slate-700","hover:border-slate-200","dark:hover:border-slate-600","cursor-pointer","transition-all","select-none",3,"click"],[1,"w-8","h-8","rounded-full","bg-blue-100","text-blue-600","flex","items-center","justify-center","font-bold","text-xs"],[1,"flex","flex-col","min-w-0","flex-1"],[1,"font-medium","text-slate-900","dark:text-white","text-sm"],[1,"text-xs","font-mono","text-blue-600","dark:text-blue-400","truncate",3,"title"],[1,"text-xs","text-slate-500","truncate"],["class","text-green-500 icon-size-5",4,"ngIf"],["class","text-slate-300 icon-size-5",4,"ngIf"],[1,"text-green-500","icon-size-5"],[1,"text-slate-300","icon-size-5"],[1,"flex","flex-col","items-center","justify-center","py-8","text-slate-400","text-sm"],[1,"icon-size-10","mb-2"],["cdkDrag","",1,"flex","items-center","justify-between","gap-3","p-3","rounded-lg","border","border-slate-200","dark:border-slate-600","bg-white","dark:bg-slate-900","shadow-sm","cursor-move"],[1,"flex","items-center","gap-3","min-w-0","flex-1"],[1,"flex","items-center","justify-center","w-6","h-6","shrink-0","rounded-full","bg-slate-100","dark:bg-slate-800","text-slate-500","text-xs","font-bold","font-mono"],["mat-icon-button","","color","warn",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-full","text-slate-400","opacity-60"],[1,"icon-size-8","mb-2"],[1,"text-sm"],[1,"!bg-white/60","dark:!bg-slate-800/60","!backdrop-blur-sm",3,"expanded"],[1,"!h-auto","!min-h-[3.5rem]"],[1,"!flex-1","!min-w-0","!mr-4"],[1,"flex","flex-col","gap-0.5","w-full"],[1,"flex","items-center","gap-2","w-full"],[1,"font-mono","text-xs","text-slate-400","shrink-0"],[1,"font-medium","text-slate-900","dark:text-white","min-w-0","break-words"],[1,"text-xs","font-mono","text-blue-600","dark:text-blue-400","pl-5"],[1,"!flex-none"],[1,"pt-4"],["class","text-sm text-slate-400 italic",4,"ngIf"],[1,"text-xs","font-bold","text-slate-500","uppercase","tracking-wider","mb-3"],[1,"flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],[1,"text-xs","text-slate-400","mt-3"],[1,"inline-flex","items-center","gap-2","px-3","py-1.5","rounded-lg","bg-slate-100","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700"],[1,"font-medium","text-sm","text-slate-700","dark:text-slate-300"],["class","text-xs text-orange-500 font-medium",4,"ngIf"],[1,"text-xs","text-orange-500","font-medium"],[1,"text-sm","text-slate-400","italic"],[1,"flex","justify-between","text-sm"],[1,"text-slate-600","dark:text-slate-400"]],template:function(i,n){if(i&1){let o=Y();a(0,"div",1)(1,"div",2),z(2,"div",3),r(),a(3,"div",4)(4,"div",5)(5,"div",6)(6,"button",7)(7,"mat-icon"),s(8,"arrow_back"),r()(),a(9,"h1",8),s(10),r()()(),a(11,"div",9)(12,"div",10)(13,"mat-stepper",11,0)(15,"mat-step",12),u(16,mn,1,0,"ng-template",13),a(17,"form",14)(18,"mat-form-field",15)(19,"mat-label"),s(20,"Configuration Name"),r(),z(21,"input",16),a(22,"mat-error"),s(23,"Name is required"),r()(),a(24,"mat-form-field",15)(25,"mat-label"),s(26,"Description"),r(),z(27,"textarea",17),r(),a(28,"mat-form-field",18)(29,"mat-label"),s(30,"Country"),r(),a(31,"mat-select",19),u(32,un,2,2,"mat-option",20),r(),a(33,"mat-error"),s(34,"Country is required"),r()(),a(35,"mat-form-field",18)(36,"mat-label"),s(37,"Merge Strategy"),r(),a(38,"mat-select",21)(39,"mat-option",22),s(40,"Sequential (One by one)"),r(),a(41,"mat-option",23),s(42,"Parallel Independent"),r(),a(43,"mat-option",24),s(44,"Parallel with Fallback"),r()()(),a(45,"div",25)(46,"mat-form-field",26)(47,"mat-label"),s(48,"Input Fields Format"),r(),a(49,"mat-select",27)(50,"mat-option",28),s(51,"CSV"),r(),a(52,"mat-option",29),s(53,"Excel (XLSX)"),r(),a(54,"mat-option",30),s(55,"JSONL"),r()()(),a(56,"mat-form-field",26)(57,"mat-label"),s(58,"Result Output Format"),r(),a(59,"mat-select",31)(60,"mat-option",28),s(61,"CSV"),r(),a(62,"mat-option",29),s(63,"Excel (XLSX)"),r(),a(64,"mat-option",30),s(65,"JSONL"),r()()()(),a(66,"div",32)(67,"button",33),s(68," Next "),r()()()(),a(69,"mat-step"),u(70,hn,1,0,"ng-template",13),a(71,"div",34)(72,"div",35)(73,"h3",36),s(74," Available Features "),u(75,fn,2,2,"span",37)(76,gn,2,1,"span",37),r(),u(77,xn,2,0,"div",38),r(),a(78,"div",39)(79,"div",40)(80,"div",41),s(81," Available "),r(),a(82,"div",42)(83,"mat-form-field",43)(84,"mat-icon",44),s(85,"search"),r(),a(86,"input",45),y("ngModelChange",function(x){return T(o),A(n.endpointSearchQuery.set(x))}),r(),u(87,_n,3,0,"button",46),r()(),a(88,"div",47),u(89,yn,16,19,"div",48)(90,Cn,5,1,"div",49),r()(),a(91,"div",50)(92,"div",51),s(93," Selected Steps (Drag to reorder) "),r(),a(94,"div",52),y("cdkDropListDropped",function(x){return T(o),A(n.drop(x))}),u(95,Sn,12,4,"div",53)(96,En,5,0,"div",54),r()()(),a(97,"div",55)(98,"button",56),s(99,"Back"),r(),a(100,"button",33),s(101," Next "),r()()()(),a(102,"mat-step"),u(103,Mn,1,0,"ng-template",13),a(104,"div",57)(105,"p",58),s(106," Review the required parameters for each endpoint. These will be provided when running the batch. "),r(),a(107,"mat-accordion",59),u(108,Fn,15,6,"mat-expansion-panel",60),r(),a(109,"div",61)(110,"button",56),s(111,"Back"),r(),a(112,"button",62),s(113,"Next"),r()()()(),a(114,"mat-step"),u(115,Tn,1,0,"ng-template",13),a(116,"div",63)(117,"h3",64),s(118,"Summary"),r(),a(119,"div",65)(120,"div",66)(121,"div")(122,"span",67),s(123,"Configuration Name"),r(),a(124,"span",68),s(125),r()(),a(126,"div")(127,"span",67),s(128,"Country"),r(),a(129,"span",68),s(130),r()(),a(131,"div")(132,"span",67),s(133,"Strategy"),r(),a(134,"span",69),s(135),r()(),a(136,"div")(137,"span",67),s(138,"Total Steps"),r(),a(139,"span",68),s(140),r()()()(),a(141,"div",70)(142,"h4",71),s(143," Estimated Cost per Record "),r(),a(144,"div",72)(145,"div",73),u(146,An,5,2,"div",74),r(),a(147,"div",75)(148,"span",76),s(149,"Total per record"),r(),a(150,"span",77),s(151),r()()()(),a(152,"div",78)(153,"button",56),s(154,"Back"),r(),a(155,"button",79),y("click",function(){return T(o),A(n.submit())}),s(156),r()()()()()()()()()}if(i&2){let o,d,x;l(10),E(" ",n.isEditMode()?"Edit":"Create"," Batch Configuration "),l(3),m("linear",!0),l(2),m("stepControl",n.step1Form),l(2),m("formGroup",n.step1Form),l(15),m("ngForOf",n.countries()),l(35),m("disabled",n.step1Form.invalid),l(8),m("ngIf",n.endpointSearchQuery()),l(),m("ngIf",!n.endpointSearchQuery()),l(),m("ngIf",n.isLoadingFeatures()),l(9),m("ngModel",n.endpointSearchQuery()),l(),m("ngIf",n.endpointSearchQuery()),l(2),m("ngForOf",n.filteredAvailableFeatures()),l(),m("ngIf",!n.isLoadingFeatures()&&n.filteredAvailableFeatures().length===0),l(5),m("ngForOf",n.selectedFeatures()),l(),m("ngIf",n.selectedFeatures().length===0),l(4),m("disabled",n.selectedFeatures().length===0),l(8),m("ngForOf",n.selectedFeatures()),l(17),g((o=n.step1Form.get("name"))==null?null:o.value),l(5),g((d=n.step1Form.get("country"))==null?null:d.value),l(5),g((x=n.step1Form.get("mergeStrategy"))==null?null:x.value),l(5),E("",n.selectedFeatures().length," steps"),l(6),m("ngForOf",n.selectedFeatures()),l(5),E("$",n.totalCostPerRecord().toFixed(2),""),l(5),E(" ",n.isEditMode()?"Update":"Create"," Configuration ")}},dependencies:[gt,mt,ut,ht,ft,Wt,$t,Ht,Qt,jt,qt,Zt,Ut,Gt,vt,bt,Mi,Ue,se,Ge,Si,Ei,Lt,Rt,zt,Yt,Xt,Pt,Dt,Ft,Tt,At,Ot,ei,Jt,It,De,ke,ti,Bt,xi,gi,Ve,Qe,fi,hi,oi,ri,ai,Nt],encapsulation:2})}}return t})();export{Tr as CreateBatchConfigComponent};
