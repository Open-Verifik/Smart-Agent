import{g as Wt,h as Ut,i as Gt,j as $t,k as Ge}from"./chunk-J6WOIEFR.js";import{a as ge,b as Kt}from"./chunk-O7BLLMPM.js";import{a as Ye}from"./chunk-3T37D5WO.js";import{a as Dt}from"./chunk-3ZOGJEKE.js";import{a as Zt,c as Ht,d as Yt}from"./chunk-CUN3WPHV.js";import"./chunk-7RWCIHFI.js";import{d as Jt}from"./chunk-KZVB35JW.js";import{a as fe,b as he}from"./chunk-X2B33RZ7.js";import{c as Oe,d as Ot,f as Le}from"./chunk-NCGURMCY.js";import{a as We,b as Ue}from"./chunk-QAYTNEMP.js";import{a as re,c as oe,d as ae}from"./chunk-AR6BYMPL.js";import{b as It,d as Tt,e as Bt,i as Re}from"./chunk-5HIRALMD.js";import{e as Lt}from"./chunk-YQHVOEV4.js";import{B as Qt,D as ce,E as pe,F as qe,G as Qe,H as Ze,L as me,M as He,N as ue,p as se,r as T,u as le,v as de,y as qt,z as $e}from"./chunk-QQUVC3UU.js";import{k as Pt,l as X,m as Rt,n as at}from"./chunk-ELGVYL4R.js";import{F as jt,G as $,N as st,U as ze,V as ee,W as zt,X as te,Z as ie,_ as ne,g as je,i as ot,l as Ft,t as At,u as Vt,z as Nt}from"./chunk-RMO4OYE5.js";import{A as ft,Aa as z,B as Q,Ba as be,D as B,Ea as Me,Eb as a,F as ht,Fb as o,Fc as Ne,Gb as h,H as _t,Ha as vt,Hb as M,I as tt,Ib as F,Ka as yt,Kb as S,L as Z,Mb as v,Mc as Pe,Nb as g,Nc as Y,Oa as nt,Ob as W,Oc as J,Pb as N,Qb as we,Rb as U,Sa as xe,Sb as P,Tb as R,Tc as Et,V as L,Wa as r,Wb as G,X as w,Xb as s,Yb as E,Za as wt,Zb as c,_a as C,_b as ke,aa as Ie,ac as kt,ad as K,ba as Te,bc as St,cc as Ct,da as Be,ec as H,f as D,fa as bt,fb as A,ga as k,gb as Fe,hc as Se,ic as Ce,jb as ve,lb as f,m as y,mc as l,nc as d,nd as Mt,pa as xt,q as V,qa as b,ra as x,rb as rt,rc as Ve,sb as m,tb as Ae,ua as De,ub as I,wa as it,wc as j,x as gt,zb as ye}from"./chunk-QTVKNRSK.js";import{a as q}from"./chunk-MG3ERZGY.js";var lt=class{_document;_textarea;constructor(u,e){this._document=e;let i=this._textarea=this._document.createElement("textarea"),t=i.style;t.position="fixed",t.top=t.opacity="0",t.left="-999em",i.setAttribute("aria-hidden","true"),i.value=u,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let u=this._textarea,e=!1;try{if(u){let i=this._document.activeElement;u.select(),u.setSelectionRange(0,u.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){let u=this._textarea;u&&(u.remove(),this._textarea=void 0)}},Xt=(()=>{class n{_document=k(Ne);constructor(){}copy(e){let i=this.beginCopy(e),t=i.copy();return i.destroy(),t}beginCopy(e){return new lt(e,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ei=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Te({})}return n})();var Xe=["*"],vi=["content"],yi=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],wi=["mat-drawer","mat-drawer-content","*"];function ki(n,u){if(n&1){let e=S();a(0,"div",1),v("click",function(){b(e);let t=g();return x(t._onBackdropClicked())}),o()}if(n&2){let e=g();I("mat-drawer-shown",e._isShowingBackdrop())}}function Si(n,u){n&1&&(a(0,"mat-drawer-content"),N(1,2),o())}var Ci=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ei=["mat-sidenav","mat-sidenav-content","*"];function Ii(n,u){if(n&1){let e=S();a(0,"div",1),v("click",function(){b(e);let t=g();return x(t._onBackdropClicked())}),o()}if(n&2){let e=g();I("mat-drawer-shown",e._isShowingBackdrop())}}function Ti(n,u){n&1&&(a(0,"mat-sidenav-content"),N(1,2),o())}var Bi=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var Di=new Be("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Mi}),pt=new Be("MAT_DRAWER_CONTAINER");function Mi(){return!1}var Je=(()=>{class n extends X{_platform=k(je);_changeDetectorRef=k(j);_container=k(ct);constructor(){let e=k(Me),i=k(Pt),t=k(be);super(e,i,t)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=A({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,t){i&2&&(Ae("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px"),I("mat-drawer-content-hidden",t._shouldBeHidden()))},features:[H([{provide:X,useExisting:n}]),ve],ngContentSelectors:Xe,decls:1,vars:0,template:function(i,t){i&1&&(W(),N(0))},encapsulation:2,changeDetection:0})}return n})(),dt=(()=>{class n{_elementRef=k(Me);_focusTrapFactory=k(Vt);_focusMonitor=k(Ft);_platform=k(je);_ngZone=k(be);_renderer=k(wt);_interactivityChecker=k(At);_doc=k(Ne,{optional:!0});_container=k(pt,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=$(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=$(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle($(e))}_opened=!1;_openedVia;_animationStarted=new D;_animationEnd=new D;openedChange=new z(!0);_openedStream=this.openedChange.pipe(Q(e=>e),V(()=>{}));openedStart=this._animationStarted.pipe(Q(()=>this.opened),tt(void 0));_closedStream=this.openedChange.pipe(Q(e=>!e),V(()=>{}));closedStart=this._animationStarted.pipe(Q(()=>!this.opened),tt(void 0));_destroyed=new D;onPositionChanged=new z;_content;_modeChanged=new D;_injector=k(it);_changeDetectorRef=k(j);constructor(){this.openedChange.pipe(w(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;gt(e,"keydown").pipe(Q(i=>i.keyCode===27&&!this.disableClose&&!jt(i)),w(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let t=()=>{p(),_(),e.removeAttribute("tabindex")},p=this._renderer.listen(e,"blur",t),_=this._renderer.listen(e,"mousedown",t)})),e.focus(i)}_focusByCssSelector(e,i){let t=this._elementRef.nativeElement.querySelector(e);t&&this._forceFocus(t,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":nt(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let t=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),t}_setOpen(e,i,t){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(t),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(p=>{this.openedChange.pipe(_t(1)).subscribe(_=>p(_?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,t=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),t.insertBefore(this._anchor,i)),t.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=A({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,t){if(i&1&&U(vi,5),i&2){let p;P(p=R())&&(t._content=p.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,t){i&2&&(rt("align",null)("tabIndex",t.mode!=="side"?"-1":null),Ae("visibility",!t._container&&!t.opened?"hidden":null),I("mat-drawer-end",t.position==="end")("mat-drawer-over",t.mode==="over")("mat-drawer-push",t.mode==="push")("mat-drawer-side",t.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Xe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,t){i&1&&(W(),a(0,"div",1,0),N(2),o())},dependencies:[X],encapsulation:2,changeDetection:0})}return n})(),ct=(()=>{class n{_dir=k(Nt,{optional:!0});_element=k(Me);_ngZone=k(be);_changeDetectorRef=k(j);_animationMode=k(yt,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new vt;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=$(e)}_autosize=k(Di);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:$(e)}_backdropOverride;backdropClick=new z;_start;_end;_left;_right;_destroyed=new D;_doCheckSubject=new D;_contentMargins={left:null,right:null};_contentMarginChanges=new D;get scrollable(){return this._userContent||this._content}_injector=k(it);constructor(){let e=k(je),i=k(Rt);this._dir?.change.pipe(w(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(w(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(L(this._allDrawers),w(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(L(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ht(10),w(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let t=this._left._getWidth();e+=t,i-=t}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let t=this._right._getWidth();i+=t,e-=t}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(w(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(w(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(w(this._drawers.changes)).subscribe(()=>{nt({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(w(ft(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,t="mat-drawer-container-has-open";e?i.add(t):i.remove(t)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=A({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,t,p){if(i&1&&(we(p,Je,5),we(p,dt,5)),i&2){let _;P(_=R())&&(t._content=_.first),P(_=R())&&(t._allDrawers=_)}},viewQuery:function(i,t){if(i&1&&U(Je,5),i&2){let p;P(p=R())&&(t._userContent=p.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,t){i&2&&I("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[H([{provide:pt,useExisting:n}])],ngContentSelectors:wi,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,t){i&1&&(W(yi),f(0,ki,1,2,"div",0),N(1),N(2,1),f(3,Si,2,0,"mat-drawer-content")),i&2&&(ye(t.hasBackdrop?0:-1),r(3),ye(t._content?-1:3))},dependencies:[Je],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),Ke=(()=>{class n extends Je{static \u0275fac=(()=>{let e;return function(t){return(e||(e=De(n)))(t||n)}})();static \u0275cmp=A({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[H([{provide:X,useExisting:n}]),ve],ngContentSelectors:Xe,decls:1,vars:0,template:function(i,t){i&1&&(W(),N(0))},encapsulation:2,changeDetection:0})}return n})(),mt=(()=>{class n extends dt{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=$(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=ot(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=ot(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(t){return(e||(e=De(n)))(t||n)}})();static \u0275cmp=A({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(i,t){i&2&&(rt("tabIndex",t.mode!=="side"?"-1":null)("align",null),Ae("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),I("mat-drawer-end",t.position==="end")("mat-drawer-over",t.mode==="over")("mat-drawer-push",t.mode==="push")("mat-drawer-side",t.mode==="side")("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[H([{provide:dt,useExisting:n}]),ve],ngContentSelectors:Xe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,t){i&1&&(W(),a(0,"div",1,0),N(2),o())},dependencies:[X],encapsulation:2,changeDetection:0})}return n})(),ti=(()=>{class n extends ct{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(t){return(e||(e=De(n)))(t||n)}})();static \u0275cmp=A({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,t,p){if(i&1&&(we(p,Ke,5),we(p,mt,5)),i&2){let _;P(_=R())&&(t._content=_.first),P(_=R())&&(t._allDrawers=_)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,t){i&2&&I("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[H([{provide:pt,useExisting:n},{provide:ct,useExisting:n}]),ve],ngContentSelectors:Ei,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,t){i&1&&(W(Ci),f(0,Ii,1,2,"div",0),N(1),N(2,1),f(3,Ti,2,0,"mat-sidenav-content")),i&2&&(ye(t.hasBackdrop?0:-1),r(3),ye(t._content?-1:3))},dependencies:[Ke],styles:[Bi],encapsulation:2,changeDetection:0})}return n})(),ii=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fe({type:n});static \u0275inj=Te({imports:[st,at,at,st]})}return n})();var _e=(()=>{class n{constructor(e){this._httpWrapper=e,this.apiUrl=Mt.apiUrl}get accessToken(){return localStorage.getItem("accessToken")||""}set accessToken(e){localStorage.setItem("accessToken",e)}renewToken(e=1){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/auth/session`,t={origin:"refresh",expiresIn:e.toString()};return this._httpWrapper.sendRequest("get",i,t).pipe(V(p=>(p?.accessToken&&(this.accessToken=p.accessToken),p)),B(p=>(console.error("[SettingsService] Token renewal failed:",p),y(()=>p))))}revokeAndGenerateNew(){if(!this.accessToken)return y(()=>new Error("No access token available"));let e=`${this.apiUrl}/v2/auth/renew-and-revoke`;return this._httpWrapper.sendRequest("post",e,{}).pipe(V(i=>{let t=i?.token||i?.accessToken;return t&&(this.accessToken=t),i}),B(i=>(console.error("[SettingsService] Token revocation failed:",i),y(()=>i))))}getMaskedToken(e){if(!e)return"";let i=12;if(e.length<=i*2)return"\u2022".repeat(e.length);let t=e.substring(0,i),p=e.substring(e.length-i),_=e.length-i*2;return`${t}${"\u2022".repeat(Math.min(_,20))}${p}`}getStoredProfile(){let e=localStorage.getItem("verifik_account")||localStorage.getItem("user");return e?JSON.parse(e):null}updateStoredProfile(e){let i=localStorage.getItem("verifik_account")||localStorage.getItem("user"),t=i?JSON.parse(i):{},p=q(q({},t),e);localStorage.getItem("verifik_account")?localStorage.setItem("verifik_account",JSON.stringify(p)):localStorage.setItem("user",JSON.stringify(p))}updateProfile(e,i){if(!this.accessToken)return y(()=>new Error("No access token available"));let t=`${this.apiUrl}/v2/clients/${e}`;return this._httpWrapper.sendRequest("put",t,i).pipe(V(p=>(p?.data&&this.updateStoredProfile(p.data),p)),B(p=>(console.error("[SettingsService] Profile update failed:",p),y(()=>p))))}getBillingConfig(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/client-settings`,t={where_client:e,findOne:"true"};return this._httpWrapper.sendRequest("get",i,t).pipe(B(p=>(console.error("[SettingsService] Get billing config failed:",p),y(()=>p))))}saveBillingConfig(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/client-settings`;return this._httpWrapper.sendRequest("post",i,e).pipe(B(t=>(console.error("[SettingsService] Save billing config failed:",t),y(()=>t))))}getWorkspace(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/work-spaces`,t={where_client:e,findOne:"1"};return this._httpWrapper.sendRequest("get",i,t).pipe(B(p=>(console.error("[SettingsService] Get workspace failed:",p),y(()=>p))))}createWorkspace(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/work-spaces`;return this._httpWrapper.sendRequest("post",i,e).pipe(B(t=>(console.error("[SettingsService] Create workspace failed:",t),y(()=>t))))}updateWorkspace(e,i){if(!this.accessToken)return y(()=>new Error("No access token available"));let t=`${this.apiUrl}/v2/work-spaces/${e}`;return this._httpWrapper.sendRequest("put",t,i).pipe(B(p=>(console.error("[SettingsService] Update workspace failed:",p),y(()=>p))))}deleteWorkspace(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/work-spaces/${e}`;return this._httpWrapper.sendRequest("delete",i).pipe(B(t=>(console.error("[SettingsService] Delete workspace failed:",t),y(()=>t))))}getStaff(){if(!this.accessToken)return y(()=>new Error("No access token available"));let e=`${this.apiUrl}/v2/staff`;return this._httpWrapper.sendRequest("get",e,{}).pipe(B(i=>(console.error("[SettingsService] Get staff failed:",i),y(()=>i))))}createStaff(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/staff`;return this._httpWrapper.sendRequest("post",i,e).pipe(B(t=>(console.error("[SettingsService] Create staff failed:",t),y(()=>t))))}updateStaff(e,i){if(!this.accessToken)return y(()=>new Error("No access token available"));let t=`${this.apiUrl}/v2/staff/${e}`;return this._httpWrapper.sendRequest("put",t,i).pipe(B(p=>(console.error("[SettingsService] Update staff failed:",p),y(()=>p))))}deleteStaff(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/staff/${e}`;return this._httpWrapper.sendRequest("delete",i).pipe(B(t=>(console.error("[SettingsService] Delete staff failed:",t),y(()=>t))))}reinviteStaff(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/staff/reinvite`;return this._httpWrapper.sendRequest("post",i,e).pipe(B(t=>(console.error("[SettingsService] Reinvite staff failed:",t),y(()=>t))))}getMySubscription(e){if(!this.accessToken)return y(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/client-subscription-plans`,t={where_client:e,where_active:"true",findOne:"1"};return this._httpWrapper.sendRequest("get",i,t).pipe(B(p=>(console.error("[SettingsService] Get subscription failed:",p),y(()=>p))))}static{this.\u0275fac=function(i){return new(i||n)(bt(Dt))}}static{this.\u0275prov=Ie({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ni=(n,u)=>({"border-blue-500 bg-blue-50/50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":n,"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600":u});function Ai(n,u){n&1&&(a(0,"mat-icon",41),s(1,"check_circle"),o())}function Vi(n,u){n&1&&(a(0,"mat-icon",41),s(1,"check_circle"),o())}function Ni(n,u){if(n&1&&(a(0,"mat-option",55),s(1),o()),n&2){let e=u.$implicit;m("value",e.value),r(),c(" ",e.label," ")}}function Pi(n,u){if(n&1&&(a(0,"mat-option",55)(1,"div",56)(2,"span",57),s(3),o(),a(4,"span",58),s(5),o()()()),n&2){let e=u.$implicit;m("value",e),r(3),E(e.code),r(2),E(e.name)}}function Ri(n,u){if(n&1){let e=S();M(0),a(1,"div",30)(2,"label",31),s(3),l(4,"transloco"),o(),h(5,"input",42),l(6,"transloco"),o(),a(7,"div",33)(8,"label",31),s(9),l(10,"transloco"),o(),h(11,"input",43),l(12,"transloco"),a(13,"mat-autocomplete",44,0),f(15,Ni,2,2,"mat-option",45),l(16,"async"),o()(),a(17,"div",33)(18,"label",31),s(19),l(20,"transloco"),o(),h(21,"input",46),o(),a(22,"div",47)(23,"div",48)(24,"label",31),s(25),l(26,"transloco"),o(),a(27,"input",49),l(28,"transloco"),v("blur",function(){b(e);let t=g();return x(t.onCountryBlur("business"))}),o(),a(29,"mat-autocomplete",50,1),v("optionSelected",function(t){b(e);let p=g();return x(p.onCountryCodeSelected(t,"business"))}),f(31,Pi,6,3,"mat-option",45),l(32,"async"),o()(),a(33,"div",51)(34,"label",31),s(35),l(36,"transloco"),o(),h(37,"input",52),o()(),a(38,"div",33)(39,"label",31),s(40),l(41,"transloco"),o(),h(42,"input",53),o(),a(43,"div",33)(44,"label",31),s(45),l(46,"transloco"),o(),h(47,"input",54),o(),F()}if(n&2){let e=G(14),i=G(30),t=g();r(3),c(" ",d(4,16,"settings.billing.business_name")," "),r(2),m("placeholder",d(6,18,"settings.billing.business_name_placeholder")),r(4),c(" ",d(10,20,"settings.billing.document_type")," "),r(2),m("placeholder",d(12,22,"settings.billing.select_document_type"))("matAutocomplete",e),r(2),m("displayWith",t.displayDocumentTypeFn),r(2),m("ngForOf",d(16,24,t.filteredDocumentTypes)),r(4),c(" ",d(20,26,"settings.billing.document_number")," "),r(6),c(" ",d(26,28,"settings.billing.country_code")," "),r(2),m("placeholder",d(28,30,"settings.billing.search_country"))("matAutocomplete",i),r(2),m("displayWith",t.displayCountryCodeFn),r(2),m("ngForOf",d(32,32,t.filteredBusinessCountryCodes)),r(4),c(" ",d(36,34,"settings.billing.phone")," "),r(5),c(" ",d(41,36,"settings.billing.email")," "),r(5),c(" ",d(46,38,"settings.billing.legal_representative")," ")}}function ji(n,u){if(n&1&&(a(0,"mat-option",55),s(1),o()),n&2){let e=u.$implicit;m("value",e.value),r(),c(" ",e.label," ")}}function Oi(n,u){if(n&1&&(a(0,"mat-option",55)(1,"div",56)(2,"span",57),s(3),o(),a(4,"span",58),s(5),o()()()),n&2){let e=u.$implicit;m("value",e),r(3),E(e.code),r(2),E(e.name)}}function Li(n,u){if(n&1){let e=S();M(0),a(1,"div",30)(2,"label",31),s(3),l(4,"transloco"),o(),h(5,"input",59),l(6,"transloco"),o(),a(7,"div",33)(8,"label",31),s(9),l(10,"transloco"),o(),h(11,"input",60),l(12,"transloco"),a(13,"mat-autocomplete",44,2),f(15,ji,2,2,"mat-option",45),l(16,"async"),o()(),a(17,"div",33)(18,"label",31),s(19),l(20,"transloco"),o(),h(21,"input",61),o(),a(22,"div",47)(23,"div",48)(24,"label",31),s(25),l(26,"transloco"),o(),a(27,"input",62),l(28,"transloco"),v("blur",function(){b(e);let t=g();return x(t.onCountryBlur("person"))}),o(),a(29,"mat-autocomplete",50,3),v("optionSelected",function(t){b(e);let p=g();return x(p.onCountryCodeSelected(t,"person"))}),f(31,Oi,6,3,"mat-option",45),l(32,"async"),o()(),a(33,"div",51)(34,"label",31),s(35),l(36,"transloco"),o(),h(37,"input",63),o()(),a(38,"div",30)(39,"label",31),s(40),l(41,"transloco"),o(),h(42,"input",64),o(),F()}if(n&2){let e=G(14),i=G(30),t=g();r(3),c(" ",d(4,15,"settings.billing.full_name")," "),r(2),m("placeholder",d(6,17,"settings.billing.full_name_placeholder")),r(4),c(" ",d(10,19,"settings.billing.document_type")," "),r(2),m("placeholder",d(12,21,"settings.billing.select_document_type"))("matAutocomplete",e),r(2),m("displayWith",t.displayDocumentTypeFn),r(2),m("ngForOf",d(16,23,t.filteredDocumentTypes)),r(4),c(" ",d(20,25,"settings.billing.document_number")," "),r(6),c(" ",d(26,27,"settings.billing.country_code")," "),r(2),m("placeholder",d(28,29,"settings.billing.search_country"))("matAutocomplete",i),r(2),m("displayWith",t.displayCountryCodeFn),r(2),m("ngForOf",d(32,31,t.filteredPersonCountryCodes)),r(4),c(" ",d(36,33,"settings.billing.phone")," "),r(5),c(" ",d(41,35,"settings.billing.email")," ")}}function zi(n,u){n&1&&h(0,"mat-spinner",65)}var pi=(()=>{class n{constructor(e,i,t,p,_){this._formBuilder=e,this._settingsService=i,this._cdr=t,this._snackBar=p,this._translocoService=_,this._unsubscribeAll=new D,this.billingData=null,this.billingLoaded=!1,this.isSavingBilling=!1,this.personDocumentTypes=[],this.businessDocumentTypes=[],this.billingCountryCodes=[{code:"+1",name:"United States"},{code:"+1",name:"Canada"},{code:"+52",name:"Mexico"},{code:"+57",name:"Colombia"},{code:"+54",name:"Argentina"},{code:"+56",name:"Chile"},{code:"+55",name:"Brazil"},{code:"+51",name:"Peru"},{code:"+58",name:"Venezuela"},{code:"+593",name:"Ecuador"},{code:"+591",name:"Bolivia"},{code:"+595",name:"Paraguay"},{code:"+598",name:"Uruguay"},{code:"+507",name:"Panama"},{code:"+506",name:"Costa Rica"},{code:"+505",name:"Nicaragua"},{code:"+504",name:"Honduras"},{code:"+503",name:"El Salvador"},{code:"+502",name:"Guatemala"},{code:"+44",name:"United Kingdom"},{code:"+33",name:"France"},{code:"+49",name:"Germany"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+351",name:"Portugal"},{code:"+31",name:"Netherlands"},{code:"+32",name:"Belgium"},{code:"+41",name:"Switzerland"},{code:"+43",name:"Austria"},{code:"+46",name:"Sweden"},{code:"+47",name:"Norway"},{code:"+45",name:"Denmark"},{code:"+358",name:"Finland"},{code:"+48",name:"Poland"},{code:"+81",name:"Japan"},{code:"+82",name:"South Korea"},{code:"+86",name:"China"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+64",name:"New Zealand"},{code:"+971",name:"United Arab Emirates"},{code:"+966",name:"Saudi Arabia"},{code:"+972",name:"Israel"},{code:"+90",name:"Turkey"}],this._initBillingForms(),this._initDocumentTypes()}ngOnInit(){this.loadBillingData(),this._setupBillingFilters()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}_initBillingForms(){this.payerForm=this._formBuilder.group({type:["person"],business_name:[""],business_documentType:[""],business_documentNumber:[""],business_countryCode:[""],business_country:[""],business_phone:[""],business_email:[""],business_legalRepresentative:[""],person_name:[""],person_documentType:[""],person_documentNumber:[""],person_countryCode:[""],person_country:[""],person_phone:[""],person_email:[""]}),this.addressForm=this._formBuilder.group({address:["",T.required],city:["",T.required],province:["",T.required],country:["",T.required],postalCode:["",T.required]})}_initDocumentTypes(){this.personDocumentTypes=[{value:"CC",label:"settings.billing.document_types.CC"},{value:"CE",label:"settings.billing.document_types.CE"},{value:"TI",label:"settings.billing.document_types.TI"},{value:"NIT",label:"settings.billing.document_types.NIT"},{value:"PPT",label:"settings.billing.document_types.PPT"},{value:"DNI",label:"settings.billing.document_types.DNI"},{value:"RUC",label:"settings.billing.document_types.RUC"},{value:"CURP",label:"settings.billing.document_types.CURP"},{value:"RUT",label:"settings.billing.document_types.RUT"}],this.businessDocumentTypes=[{value:"NO_TAX",label:"settings.billing.document_types.NO_TAX"},{value:"INTERNATIONAL_TAX",label:"settings.billing.document_types.INTERNATIONAL_TAX"},{value:"NIT",label:"settings.billing.document_types.NIT"}]}loadBillingData(){!this.user?._id||this.billingLoaded||this._settingsService.getBillingConfig(this.user._id).pipe(w(this._unsubscribeAll)).subscribe({next:e=>{let i=e.data;if(this.billingData=i,this.billingLoaded=!0,i?.invoiceSettings){let t=i.invoiceSettings;this.payerForm.patchValue({type:t.type||"person"}),t.business&&this.payerForm.patchValue({business_name:t.business.business_name,business_documentType:t.business.business_documentType,business_documentNumber:t.business.business_documentNumber,business_countryCode:this._findCountryOption(t.business.business_countryCode),business_phone:t.business.business_phone,business_email:t.business.business_email,business_legalRepresentative:t.business.business_legalRepresentative}),t.person&&this.payerForm.patchValue({person_name:t.person.person_name,person_documentType:t.person.person_documentType,person_documentNumber:t.person.person_documentNumber,person_countryCode:this._findCountryOption(t.person.person_countryCode),person_phone:t.person.person_phone,person_email:t.person.person_email}),t.address&&this.addressForm.patchValue({address:t.address.address,city:t.address.city,province:t.address.province,country:t.address.country,postalCode:t.address.postalCode})}this._cdr.markForCheck()},error:()=>{this.billingLoaded=!0,this._cdr.markForCheck()}})}_findCountryOption(e){return e?this.billingCountryCodes.find(t=>t.code===e||t.name===e)||e:""}saveBillingConfig(){if(this.payerForm.invalid||this.addressForm.invalid||!this.user?._id)return;this.isSavingBilling=!0,this._cdr.markForCheck();let e=this.payerForm.value,i=this.addressForm.value,t=e.type,p={client:this.user._id,invoiceSettings:{type:t,address:i,business:t==="business"?{business_name:e.business_name,business_documentType:e.business_documentType,business_documentNumber:e.business_documentNumber,business_countryCode:typeof e.business_countryCode=="object"?e.business_countryCode.code:e.business_countryCode,business_country:"Colombia",business_phone:e.business_phone,business_email:e.business_email,business_legalRepresentative:e.business_legalRepresentative}:null,person:t==="person"?{person_name:e.person_name,person_documentType:e.person_documentType,person_documentNumber:e.person_documentNumber,person_countryCode:typeof e.person_countryCode=="object"?e.person_countryCode.code:e.person_countryCode,person_country:"Colombia",person_phone:e.person_phone,person_email:e.person_email}:null}};this._settingsService.saveBillingConfig(p).pipe(w(this._unsubscribeAll)).subscribe({next:_=>{this.billingData=_.data;let O=this._translocoService.translate("settings.billing.save_success");this._snackBar.open(O,null,{duration:3e3}),this.isSavingBilling=!1,this._cdr.markForCheck()},error:_=>{let O=_?.error?.message||this._translocoService.translate("settings.billing.save_error");this._snackBar.open(O,null,{duration:3e3}),this.isSavingBilling=!1,this._cdr.markForCheck()}})}isABusiness(){return this.payerForm.get("type").value==="business"}isAPerson(){return this.payerForm.get("type").value==="person"}_setupBillingFilters(){this.filteredDocumentTypes=this.payerForm.valueChanges.pipe(L(""),V(()=>{let e=this.isABusiness()?this.businessDocumentTypes:this.personDocumentTypes,t=(this.isABusiness()?this.payerForm.get("business_documentType"):this.payerForm.get("person_documentType"))?.value,p=typeof t=="string"?t.toLowerCase():"";return p?e.filter(_=>_.label.toLowerCase().includes(p)):e})),this.filteredBusinessCountryCodes=this.payerForm.get("business_countryCode").valueChanges.pipe(L(""),V(e=>this._filterCountryCodes(e))),this.filteredPersonCountryCodes=this.payerForm.get("person_countryCode").valueChanges.pipe(L(""),V(e=>this._filterCountryCodes(e)))}_filterCountryCodes(e){if(!e||typeof e=="string"&&e.trim().length===0)return this.billingCountryCodes;let i=typeof e=="string"?e.toLowerCase().trim():`${e.code} ${e.name}`.toLowerCase();return this.billingCountryCodes.filter(t=>t.name.toLowerCase().includes(i)||t.code.toLowerCase().includes(i)||t.code.replace("+","").includes(i))}displayCountryCodeFn(e){return e&&e.code?`${e.code} ${e.name}`:""}displayDocumentTypeFn(e){return e}onCountryBlur(e){let i=e==="business"?"business_countryCode":"person_countryCode",t=this.payerForm.get(i);if(t.value&&typeof t.value=="string"){let p=this.billingCountryCodes.find(_=>_.name.toLowerCase()===t.value.toLowerCase()||_.code===t.value||`${_.code} ${_.name}`.toLowerCase()===t.value.toLowerCase());p&&t.setValue(p)}}onCountryCodeSelected(e,i){}static{this.\u0275fac=function(i){return new(i||n)(C(me),C(_e),C(j),C(ge),C(re))}}static{this.\u0275cmp=A({type:n,selectors:[["app-billing-details"]],inputs:{user:"user"},decls:94,vars:70,consts:[["docTypeAuto","matAutocomplete"],["countryCodeAuto","matAutocomplete"],["docTypeAutoPerson","matAutocomplete"],["countryCodeAutoPerson","matAutocomplete"],[1,"flex","flex-col","h-full","bg-white","dark:bg-gray-900","overflow-hidden"],[1,"flex","flex-col","p-8","border-b","border-gray-100","dark:border-gray-800","bg-white","dark:bg-gray-900","shrink-0"],[1,"flex","items-center","gap-4"],[1,"p-3","rounded-2xl","bg-blue-50","dark:bg-blue-900/20","text-blue-600","dark:text-blue-400"],[1,"icon-size-8",2,"width","32px","height","32px","font-size","32px"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-gray-100"],[1,"text-secondary","text-lg","mt-1"],[1,"flex-1","overflow-y-auto","p-8"],[1,"max-w-4xl","mx-auto","flex","flex-col","gap-8"],[1,"flex","flex-col","gap-8",3,"formGroup"],[1,"bg-gray-50/50","dark:bg-gray-800/50","rounded-2xl","border","border-gray-200","dark:border-gray-800","p-8"],[1,"flex","items-center","gap-3","mb-6"],[1,"text-gray-400"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"ml-auto","text-xs","font-medium","px-2","py-1","rounded","bg-gray-100","dark:bg-gray-800","text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-8","gap-y-6"],[1,"md:col-span-2"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"grid","grid-cols-2","gap-4"],[1,"relative","flex","items-center","justify-center","gap-3","px-4","py-3","rounded-xl","border-2","cursor-pointer","transition-all","duration-200","group","hover:shadow-md",3,"ngClass"],["type","radio","formControlName","type","value","person",1,"hidden"],[1,"text-gray-400","group-hover:scale-110","transition-transform"],[1,"font-medium"],["class","absolute top-2 right-2 text-blue-500 icon-size-4","style","width: 16px; height: 16px; font-size: 16px",4,"ngIf"],["type","radio","formControlName","type","value","business",1,"hidden"],[4,"ngIf"],[1,"flex","flex-col","gap-1.5","md:col-span-2"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300"],["type","text","formControlName","address",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all",3,"placeholder"],[1,"flex","flex-col","gap-1.5"],["type","text","formControlName","city",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["type","text","formControlName","province",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["type","text","formControlName","country",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["type","text","formControlName","postalCode",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],[1,"flex","justify-end","pt-4","pb-12"],["mat-flat-button","","color","primary",1,"!bg-blue-600","hover:!bg-blue-700","text-white","rounded-xl","px-8","h-12","text-base","font-medium","transition-all","shadow-sm","hover:shadow-md","disabled:opacity-50","disabled:shadow-none",3,"click","disabled"],["diameter","24","class","mr-3",4,"ngIf"],[1,"absolute","top-2","right-2","text-blue-500","icon-size-4",2,"width","16px","height","16px","font-size","16px"],["type","text","formControlName","business_name",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all",3,"placeholder"],["type","text","formControlName","business_documentType",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all",3,"placeholder","matAutocomplete"],[3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","business_documentNumber",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],[1,"grid","grid-cols-3","gap-4","md:col-span-2"],[1,"flex","flex-col","gap-1.5","col-span-1"],["type","text","formControlName","business_countryCode",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all",3,"blur","placeholder","matAutocomplete"],[3,"optionSelected","displayWith"],[1,"flex","flex-col","gap-1.5","col-span-2"],["type","tel","formControlName","business_phone",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["type","email","formControlName","business_email",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["type","text","formControlName","business_legalRepresentative",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],[3,"value"],[1,"flex","items-center","gap-2"],[1,"text-lg"],[1,"text-gray-900","dark:text-white"],["type","text","formControlName","person_name",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all",3,"placeholder"],["type","text","formControlName","person_documentType",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all",3,"placeholder","matAutocomplete"],["type","text","formControlName","person_documentNumber",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["type","text","formControlName","person_countryCode",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all",3,"blur","placeholder","matAutocomplete"],["type","tel","formControlName","person_phone",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["type","email","formControlName","person_email",1,"h-11","px-4","bg-white","dark:bg-gray-900","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white","transition-all"],["diameter","24",1,"mr-3"]],template:function(i,t){i&1&&(a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"mat-icon",8),s(5,"credit_card"),o()(),a(6,"div")(7,"h2",9),s(8),l(9,"transloco"),o(),a(10,"p",10),s(11),l(12,"transloco"),o()()()(),a(13,"div",11)(14,"div",12)(15,"form",13)(16,"div",14)(17,"div",15)(18,"mat-icon",16),s(19,"person"),o(),a(20,"h3",17),s(21),l(22,"transloco"),o(),a(23,"span",18),s(24),l(25,"transloco"),o()(),a(26,"div",19)(27,"div",20)(28,"label",21),s(29),l(30,"transloco"),o(),a(31,"div",22)(32,"label",23),h(33,"input",24),a(34,"mat-icon",25),s(35,"person"),o(),a(36,"span",26),s(37),l(38,"transloco"),o(),f(39,Ai,2,0,"mat-icon",27),o(),a(40,"label",23),h(41,"input",28),a(42,"mat-icon",25),s(43,"business"),o(),a(44,"span",26),s(45),l(46,"transloco"),o(),f(47,Vi,2,0,"mat-icon",27),o()()(),f(48,Ri,48,40,"ng-container",29)(49,Li,43,37,"ng-container",29),o()()(),a(50,"form",13)(51,"div",14)(52,"div",15)(53,"mat-icon",16),s(54,"home"),o(),a(55,"h3",17),s(56),l(57,"transloco"),o(),a(58,"span",18),s(59),l(60,"transloco"),o()(),a(61,"div",19)(62,"div",30)(63,"label",31),s(64),l(65,"transloco"),o(),h(66,"input",32),l(67,"transloco"),o(),a(68,"div",33)(69,"label",31),s(70),l(71,"transloco"),o(),h(72,"input",34),o(),a(73,"div",33)(74,"label",31),s(75),l(76,"transloco"),o(),h(77,"input",35),o(),a(78,"div",33)(79,"label",31),s(80),l(81,"transloco"),o(),h(82,"input",36),o(),a(83,"div",33)(84,"label",31),s(85),l(86,"transloco"),o(),h(87,"input",37),o()()()(),a(88,"div",38)(89,"button",39),v("click",function(){return t.saveBillingConfig()}),f(90,zi,1,0,"mat-spinner",40),s(91),l(92,"transloco"),l(93,"transloco"),o()()()()()),i&2&&(r(8),c(" ",d(9,30,"settings.billing.title")," "),r(3),c(" ",d(12,32,"settings.billing.subtitle")," "),r(4),m("formGroup",t.payerForm),r(6),c(" ",d(22,34,"settings.billing.payer_info")," "),r(3),c(" ",d(25,36,"settings.billing.payer_info_desc")," "),r(5),c(" ",d(30,38,"settings.billing.type")," "),r(3),m("ngClass",Se(64,ni,t.payerForm.get("type").value==="person",t.payerForm.get("type").value!=="person")),r(2),I("text-blue-500",t.payerForm.get("type").value==="person"),r(3),E(d(38,40,"settings.billing.person")),r(2),m("ngIf",t.payerForm.get("type").value==="person"),r(),m("ngClass",Se(67,ni,t.payerForm.get("type").value==="business",t.payerForm.get("type").value!=="business")),r(2),I("text-blue-500",t.payerForm.get("type").value==="business"),r(3),E(d(46,42,"settings.billing.business")),r(2),m("ngIf",t.payerForm.get("type").value==="business"),r(),m("ngIf",t.isABusiness()),r(),m("ngIf",t.isAPerson()),r(),m("formGroup",t.addressForm),r(6),c(" ",d(57,44,"settings.billing.address_title")," "),r(3),c(" ",d(60,46,"settings.billing.address_desc")," "),r(5),c(" ",d(65,48,"settings.billing.address")," "),r(2),m("placeholder",d(67,50,"settings.billing.address_placeholder")),r(4),c(" ",d(71,52,"settings.billing.city")," "),r(5),c(" ",d(76,54,"settings.billing.province")," "),r(5),c(" ",d(81,56,"settings.billing.country")," "),r(5),c(" ",d(86,58,"settings.billing.postal_code")," "),r(4),m("disabled",t.isSavingBilling||t.payerForm.invalid||t.addressForm.invalid),r(),m("ngIf",t.isSavingBilling),r(),c(" ",t.isSavingBilling?d(92,60,"settings.billing.saving"):d(93,62,"settings.billing.save")," "))},dependencies:[K,Pe,Y,J,Et,He,$e,se,Qt,le,de,ue,ce,pe,te,ee,ne,ie,Jt,Yt,Zt,Lt,Ht,he,fe,ae,oe],encapsulation:2,changeDetection:0})}}return n})();var qi=["staffFormDialog"],Qi=(n,u,e)=>({"bg-blue-50 border border-blue-100 dark:bg-blue-900/20 dark:border-blue-800":n,"bg-amber-50 border border-amber-100 dark:bg-amber-900/20 dark:border-amber-800":u,"bg-red-50 border border-red-100 dark:bg-red-900/20 dark:border-red-800":e}),Zi=(n,u,e)=>({"text-blue-600 dark:text-blue-400":n,"text-amber-600 dark:text-amber-400":u,"text-red-600 dark:text-red-400":e}),Hi=(n,u,e)=>({"text-blue-900 dark:text-blue-100":n,"text-amber-900 dark:text-amber-100":u,"text-red-900 dark:text-red-100":e}),Yi=(n,u,e)=>({"text-blue-700 dark:text-blue-300":n,"text-amber-700 dark:text-amber-300":u,"text-red-700 dark:text-red-300":e}),Ji=(n,u)=>({"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":n,"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":u});function Ki(n,u){if(n&1){let e=S();a(0,"button",10),l(1,"transloco"),v("click",function(){b(e);let t=g();return x(t.canAddMoreStaff()?t.openStaffModal():null)}),a(2,"mat-icon",11),s(3,"add"),o(),s(4),l(5,"transloco"),o()}if(n&2){let e=g();I("!bg-gray-400",!e.canAddMoreStaff())("hover:!bg-gray-400",!e.canAddMoreStaff())("cursor-not-allowed",!e.canAddMoreStaff()),m("matTooltip",e.canAddMoreStaff()?"":d(1,8,"settings.team.limit_reached")),r(4),c(" ",d(5,10,"settings.team.add_member")," ")}}function Xi(n,u){if(n&1&&(M(0),s(1),l(2,"transloco"),a(3,"span",19),s(4),o(),s(5),l(6,"transloco"),a(7,"span",19),s(8),o(),s(9),l(10,"transloco"),a(11,"span",20),s(12),o(),s(13),l(14,"transloco"),F()),n&2){let e=g(2);r(),c(" ",d(2,8,"settings.team.limit_info_1")," "),r(3),E(e.selectedSubscription.name==="PyG"?"PAYG":e.selectedSubscription.name),r(),c(" ",d(6,10,"settings.team.limit_info_2")," "),r(3),E(e.staffLimit),r(),c(" ",d(10,12,"settings.team.limit_info_3")," ("),r(3),ke("",e.staffMembers.length,"/",e.staffLimit,""),r(),c(" ",d(14,14,"settings.team.used"),") ")}}function en(n,u){n&1&&(M(0),s(1),l(2,"transloco"),F()),n&2&&(r(),c(" ",d(2,1,"settings.team.no_plan_warning")," "))}function tn(n,u){if(n&1&&(a(0,"div",12)(1,"div",13)(2,"mat-icon",14),s(3,"info"),o(),a(4,"div",15)(5,"p",16),f(6,Xi,15,16,"ng-container",17)(7,en,3,3,"ng-container",17),a(8,"a",18),s(9),l(10,"transloco"),o()()()()()),n&2){let e=g();r(),m("ngClass",Ce(9,Qi,e.hasSubscription&&e.canAddMoreStaff(),e.hasSubscription&&!e.canAddMoreStaff(),!e.hasSubscription)),r(),m("ngClass",Ce(13,Zi,e.hasSubscription&&e.canAddMoreStaff(),e.hasSubscription&&!e.canAddMoreStaff(),!e.hasSubscription)),r(3),m("ngClass",Ce(17,Hi,e.hasSubscription&&e.canAddMoreStaff(),e.hasSubscription&&!e.canAddMoreStaff(),!e.hasSubscription)),r(),m("ngIf",e.hasSubscription),r(),m("ngIf",!e.hasSubscription),r(),m("ngClass",Ce(21,Yi,e.hasSubscription&&e.canAddMoreStaff(),e.hasSubscription&&!e.canAddMoreStaff(),!e.hasSubscription)),r(),c(" ",d(10,7,"settings.team.view_plans")," ")}}function nn(n,u){n&1&&(a(0,"div",21),h(1,"mat-spinner",22),o())}function rn(n,u){if(n&1&&h(0,"img",46),n&2){let e=g().$implicit;m("src",e.avatar,xe)}}function on(n,u){if(n&1&&(a(0,"span"),s(1),o()),n&2){let e=g().$implicit,i=g(2);r(),E(i.getStaffInitials(e.name))}}function an(n,u){if(n&1&&(a(0,"button",47)(1,"mat-icon",48),s(2,"more_vert"),o()()),n&2){g();let e=G(20);m("matMenuTriggerFor",e)}}function sn(n,u){if(n&1){let e=S();M(0),a(1,"div",32)(2,"div",33)(3,"div",34),f(4,rn,1,1,"img",35)(5,on,2,1,"span",17),o(),a(6,"div",36),s(7),o()(),a(8,"div",37),s(9),o(),a(10,"div",27)(11,"span",38),s(12),l(13,"transloco"),o()(),a(14,"div",39),s(15),l(16,"transloco"),o(),a(17,"div",40),f(18,an,3,1,"button",41),a(19,"mat-menu",null,1)(21,"button",42),v("click",function(){let t=b(e).$implicit,p=g(2);return x(p.openStaffModal(t))}),a(22,"mat-icon",43),s(23,"edit"),o(),s(24),l(25,"transloco"),o(),a(26,"button",42),v("click",function(){let t=b(e).$implicit,p=g(2);return x(p.reinviteStaff(t))}),a(27,"mat-icon",43),s(28,"send"),o(),s(29),l(30,"transloco"),o(),a(31,"button",44),v("click",function(){let t=b(e).$implicit,p=g(2);return x(p.deleteStaff(t))}),a(32,"mat-icon",45),s(33,"delete"),o(),s(34),l(35,"transloco"),o()()()(),F()}if(n&2){let e=u.$implicit,i=g(2);r(4),m("ngIf",e.avatar),r(),m("ngIf",!e.avatar),r(2),c(" ",e.name," "),r(),m("matTooltip",e.email),r(),c(" ",i.truncateEmail(e.email,25)," "),r(2),m("ngClass",Se(22,Ji,e.status==="active",e.status!=="active")),r(),c(" ",d(13,12,"settings.team.status_"+(e.status||"pending"))," "),r(3),c(" ",d(16,14,"settings.team.role_"+e.role)," "),r(3),m("ngIf",!(i.user!=null&&i.user.staff)||(i.user==null?null:i.user.role)==="administrador"),r(6),c(" ",d(25,16,"settings.team.edit")," "),r(5),c(" ",d(30,18,"settings.team.reinvite")," "),r(5),c(" ",d(35,20,"settings.team.remove")," ")}}function ln(n,u){n&1&&(a(0,"div",49)(1,"div",50)(2,"mat-icon",51),s(3,"group"),o()(),a(4,"h3",52),s(5),l(6,"transloco"),o(),a(7,"p",53),s(8),l(9,"transloco"),o()()),n&2&&(r(5),c(" ",d(6,2,"settings.team.no_members")," "),r(3),c(" ",d(9,4,"settings.team.no_members_desc")," "))}function dn(n,u){if(n&1&&(a(0,"div",23)(1,"div",24)(2,"div",25),s(3),l(4,"transloco"),o(),a(5,"div",26),s(6),l(7,"transloco"),o(),a(8,"div",27),s(9),l(10,"transloco"),o(),a(11,"div",27),s(12),l(13,"transloco"),o(),a(14,"div",28),s(15),l(16,"transloco"),o()(),a(17,"div",29),f(18,sn,36,25,"ng-container",30)(19,ln,10,6,"div",31),o()()),n&2){let e=g();r(3),E(d(4,7,"settings.team.name")),r(3),c(" ",d(7,9,"settings.team.email_label")," "),r(3),E(d(10,11,"settings.team.status")),r(3),E(d(13,13,"settings.team.role")),r(3),c(" ",d(16,15,"settings.team.actions")," "),r(3),m("ngForOf",e.staffMembers),r(),m("ngIf",!(e.staffMembers!=null&&e.staffMembers.length))}}function cn(n,u){if(n&1&&(a(0,"option",78),s(1),o()),n&2){let e=u.$implicit;m("value",e.dialCode),r(),ke(" ",e.dialCode," ",e.name," ")}}function pn(n,u){n&1&&h(0,"mat-spinner",79)}function mn(n,u){if(n&1){let e=S();a(0,"div",54)(1,"div",55)(2,"h2",56),s(3),l(4,"transloco"),o()(),a(5,"div",57)(6,"p",58),s(7),l(8,"transloco"),o(),a(9,"div",59)(10,"label",60),s(11),l(12,"transloco"),o(),h(13,"input",61),o(),a(14,"div",59)(15,"label",60),s(16),l(17,"transloco"),o(),h(18,"input",62),o(),a(19,"div",63)(20,"div",59)(21,"label",60),s(22),l(23,"transloco"),o(),a(24,"div",64)(25,"select",65),f(26,cn,2,3,"option",66),o(),a(27,"mat-icon",67),s(28,"expand_more"),o()()(),a(29,"div",59)(30,"label",60),s(31),l(32,"transloco"),o(),h(33,"input",68),o()(),a(34,"div",59)(35,"label",60),s(36),l(37,"transloco"),o(),a(38,"div",64)(39,"select",69)(40,"option",70),s(41),l(42,"transloco"),o(),a(43,"option",71),s(44),l(45,"transloco"),o(),a(46,"option",72),s(47),l(48,"transloco"),o(),a(49,"option",73),s(50),l(51,"transloco"),o()(),a(52,"mat-icon",67),s(53,"expand_more"),o()()()(),a(54,"div",74)(55,"button",75),v("click",function(){b(e);let t=g();return x(t.closeStaffDialog())}),s(56),l(57,"transloco"),o(),a(58,"button",76),v("click",function(){b(e);let t=g();return x(t.saveStaff())}),f(59,pn,1,0,"mat-spinner",77),s(60),l(61,"transloco"),l(62,"transloco"),o()()()}if(n&2){let e=g();r(3),c(" ",d(4,17,e.editingStaff?"settings.team.edit_member":"settings.team.add_member")," "),r(2),m("formGroup",e.staffForm),r(2),c(" ",d(8,19,"settings.team.form_description")," "),r(4),c(" ",d(12,21,"settings.team.full_name")," "),r(5),c(" ",d(17,23,"settings.team.email")," "),r(6),c(" ",d(23,25,"settings.team.country_code")," "),r(4),m("ngForOf",e.countryCodes),r(5),c(" ",d(32,27,"settings.team.phone")," "),r(5),c(" ",d(37,29,"settings.team.role")," "),r(5),c(" ",d(42,31,"settings.team.role_empleado")," "),r(3),c(" ",d(45,33,"settings.team.role_contabilidad")," "),r(3),c(" ",d(48,35,"settings.team.role_desarrollador")," "),r(3),c(" ",d(51,37,"settings.team.role_administrador")," "),r(6),c(" ",d(57,39,"settings.team.cancel")," "),r(2),m("disabled",e.isSavingStaff||e.staffForm.invalid),r(),m("ngIf",e.isSavingStaff),r(),c(" ",e.isSavingStaff?d(61,41,"settings.team.saving"):d(62,43,"settings.team.save")," ")}}var mi=(()=>{class n{constructor(e,i,t,p,_,O,et){this._cdr=e,this._settingsService=i,this._formBuilder=t,this._countryService=p,this._dialog=_,this._snackBar=O,this._translocoService=et,this.staffChanged=new z,this._unsubscribeAll=new D,this.staffMembers=[],this.staffLoaded=!1,this.isLoadingStaff=!1,this.isSavingStaff=!1,this.editingStaff=null,this.countryCodes=[],this.showStaffCountryDropdown=!1,this.selectedSubscription=null,this.staffLimit=0,this.hasSubscription=!1,this.countryCodes=this._countryService.countryDialCodes,this._initStaffForm()}ngOnInit(){this.loadStaffData()}ngOnChanges(e){e.user&&!e.user.firstChange&&this.user&&this.loadStaffData()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}_initStaffForm(){this.staffForm=this._formBuilder.group({name:["",[T.required,T.minLength(2)]],email:["",[T.required,T.email]],countryCode:["+1"],phone:["",[T.required,T.pattern(/^\d{8,15}$/)]],role:["empleado"]})}loadStaffData(){this.user?._id&&(this.isLoadingStaff=!0,this._cdr.markForCheck(),this._loadSubscription(),this._settingsService.getStaff().pipe(Z(()=>{this.isLoadingStaff=!1,this.staffLoaded=!0,this._cdr.markForCheck()}),w(this._unsubscribeAll)).subscribe({next:e=>{this.staffMembers=e?.data||[]},error:()=>{this.staffMembers=[]}}))}_loadSubscription(){this._settingsService.getMySubscription(this.user._id).pipe(w(this._unsubscribeAll)).subscribe({next:e=>{if(e?.data?.subscriptionPlan){this.selectedSubscription=e.data.subscriptionPlan,this.hasSubscription=!0;let i=this.selectedSubscription.changesInPrices?.find(t=>t?.addOn==="chairs");this.staffLimit=i?.count||0}else this.selectedSubscription={name:"PAYG"},this.hasSubscription=!1,this.staffLimit=0;this._cdr.markForCheck()},error:()=>{this.selectedSubscription={name:"PAYG"},this.hasSubscription=!1,this.staffLimit=0,this._cdr.markForCheck()}})}canAddMoreStaff(){return!this.hasSubscription||this.staffLimit===0?!1:this.staffMembers.length<this.staffLimit}openStaffModal(e){this._resetStaffForm(),e&&(this.editingStaff=e,this.staffForm.patchValue({name:e.name,email:e.email,countryCode:e.countryCode||"+1",phone:e.phone,role:e.role||"empleado"})),this.staffDialogRef=this._dialog.open(this.staffFormDialog,{width:"500px",maxWidth:"90vw"})}closeStaffDialog(){this.staffDialogRef&&this.staffDialogRef.close(),this._resetStaffForm()}_resetStaffForm(){this.editingStaff=null,this.staffForm.reset({name:"",email:"",countryCode:"+1",phone:"",role:"empleado"})}saveStaff(){if(this.staffForm.invalid||this.isSavingStaff)return;if(!this.editingStaff&&!this.canAddMoreStaff()){let p=this._translocoService.translate("settings.team.limit_reached");this._snackBar.open(p,null,{duration:4e3});return}this.isSavingStaff=!0,this._cdr.markForCheck();let e=this.staffForm.value,i={name:e.name,email:e.email,countryCode:e.countryCode,phone:String(e.phone),role:e.role,client:this.user._id};(this.editingStaff?this._settingsService.updateStaff(this.editingStaff._id,i):this._settingsService.createStaff(i)).pipe(Z(()=>{this.isSavingStaff=!1,this._cdr.markForCheck()}),w(this._unsubscribeAll)).subscribe({next:()=>{this.closeStaffDialog(),this.loadStaffData();let p=this._translocoService.translate("settings.team.save_success");this._snackBar.open(p,null,{duration:3e3}),this.staffChanged.emit()},error:p=>{let _=this._translocoService.translate("settings.team.save_error");(p?.error?.message==="cannot_create_staff"||p?.status===412)&&(_=this._translocoService.translate("settings.team.no_plan_error")),this._snackBar.open(_,null,{duration:4e3})}})}deleteStaff(e){e?._id&&this._settingsService.deleteStaff(e._id).pipe(w(this._unsubscribeAll)).subscribe({next:()=>{this.loadStaffData();let i=this._translocoService.translate("settings.team.delete_success");this._snackBar.open(i,null,{duration:3e3}),this.staffChanged.emit()},error:()=>{let i=this._translocoService.translate("settings.team.delete_error");this._snackBar.open(i,null,{duration:3e3})}})}reinviteStaff(e){e?._id&&this._settingsService.reinviteStaff(e).pipe(w(this._unsubscribeAll)).subscribe({next:()=>{let i=this._translocoService.translate("settings.team.reinvite_success");this._snackBar.open(i,null,{duration:3e3})},error:()=>{let i=this._translocoService.translate("settings.team.reinvite_error");this._snackBar.open(i,null,{duration:3e3})}})}getStaffInitials(e){return e?e.trim().split(/\s+/).slice(0,2).map(t=>t[0]?.toUpperCase()).join(""):""}truncateEmail(e,i=25){return!e||e.length<=i?e:e.substring(0,i)+"..."}static{this.\u0275fac=function(i){return new(i||n)(C(j),C(_e),C(me),C(Ye),C(Oe),C(ge),C(re))}}static{this.\u0275cmp=A({type:n,selectors:[["app-staff-list"]],viewQuery:function(i,t){if(i&1&&U(qi,5),i&2){let p;P(p=R())&&(t.staffFormDialog=p.first)}},inputs:{user:"user"},outputs:{staffChanged:"staffChanged"},features:[xt],decls:15,vars:10,consts:[["staffFormDialog",""],["staffMenu","matMenu"],[1,"flex","flex-col","h-full","min-h-[calc(100vh-200px)]"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-4","mb-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-gray-600","dark:text-gray-400"],["mat-flat-button","","color","primary","class","!bg-blue-600 hover:!bg-blue-700 text-white rounded-lg px-6 h-10",3,"!bg-gray-400","hover:!bg-gray-400","cursor-not-allowed","matTooltip","click",4,"ngIf"],["class","mb-6",4,"ngIf"],["class","flex-1 flex items-center justify-center py-12",4,"ngIf"],["class","content-card overflow-hidden flex-1 flex flex-col",4,"ngIf"],["mat-flat-button","","color","primary",1,"!bg-blue-600","hover:!bg-blue-700","text-white","rounded-lg","px-6","h-10",3,"click","matTooltip"],[1,"mr-2",2,"width","20px","height","20px","font-size","20px"],[1,"mb-6"],[1,"rounded-xl","p-4","flex","items-start","gap-4",3,"ngClass"],[1,"mt-0.5",2,"width","24px","height","24px","font-size","24px",3,"ngClass"],[1,"text-sm"],[3,"ngClass"],[4,"ngIf"],["routerLink","/subscription-plans",1,"underline","hover:opacity-80","ml-1","font-medium",3,"ngClass"],[1,"font-bold"],[1,"font-semibold"],[1,"flex-1","flex","items-center","justify-center","py-12"],["diameter","32"],[1,"content-card","overflow-hidden","flex-1","flex","flex-col"],[1,"hidden","md:grid","grid-cols-12","gap-4","border-b","border-gray-100","dark:border-gray-700","bg-gray-50/50","dark:bg-gray-800/50","px-6","py-4","text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"col-span-4"],[1,"col-span-3"],[1,"col-span-2"],[1,"col-span-1","text-right"],[1,"divide-y","divide-gray-100","dark:divide-gray-700"],[4,"ngFor","ngForOf"],["class","flex-1 p-12 flex flex-col items-center justify-center text-center",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-12","gap-4","px-6","py-4","items-center","hover:bg-gray-50","dark:hover:bg-gray-800/50","transition-colors"],[1,"col-span-4","flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-gradient-to-br","from-blue-500","to-purple-600","text-white","flex","items-center","justify-center","font-bold","text-sm","overflow-hidden","shrink-0"],["class","w-full h-full object-cover",3,"src",4,"ngIf"],[1,"font-medium","text-gray-900","dark:text-white","truncate"],[1,"col-span-3","text-sm","text-gray-600","dark:text-gray-400","truncate",3,"matTooltip"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"col-span-2","text-sm","text-gray-600","dark:text-gray-400","capitalize"],[1,"col-span-1","flex","justify-end"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"text-gray-400","mr-2"],["mat-menu-item","",1,"text-red-600",3,"click"],[1,"text-red-400","mr-2"],[1,"w-full","h-full","object-cover",3,"src"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"text-gray-400"],[1,"flex-1","p-12","flex","flex-col","items-center","justify-center","text-center"],[1,"w-16","h-16","bg-gray-50","dark:bg-gray-800","rounded-full","flex","items-center","justify-center","mb-4"],[1,"text-gray-400",2,"width","32px","height","32px","font-size","32px"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"text-gray-500","mt-1","max-w-sm"],[1,"staff-dialog","flex","flex-col","bg-white","dark:bg-gray-900"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-100","dark:border-gray-700"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"flex-1","p-6","flex","flex-col","gap-5","overflow-y-auto",3,"formGroup"],[1,"text-sm","text-gray-500","mb-2"],[1,"flex","flex-col","gap-1.5"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300"],["type","text","formControlName","name","placeholder","e.g. John Doe",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["type","email","formControlName","email","placeholder","e.g. john@example.com",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],[1,"grid","grid-cols-2","gap-4"],[1,"relative"],["formControlName","countryCode",1,"h-11","pl-4","pr-10","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","appearance-none","text-gray-900","dark:text-white"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","right-3","top-3","pointer-events-none","text-gray-400",2,"width","20px","height","20px","font-size","20px"],["type","tel","formControlName","phone",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["formControlName","role",1,"h-11","pl-4","pr-10","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","appearance-none","text-gray-900","dark:text-white","capitalize"],["value","empleado"],["value","contabilidad"],["value","desarrollador"],["value","administrador"],[1,"p-6","border-t","border-gray-100","dark:border-gray-700","flex","items-center","justify-end","gap-3","bg-gray-50/50","dark:bg-gray-800/50"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",1,"!bg-blue-600","hover:!bg-blue-700","text-white",3,"click","disabled"],["diameter","18","class","mr-2",4,"ngIf"],[3,"value"],["diameter","18",1,"mr-2"]],template:function(i,t){i&1&&(a(0,"div",2)(1,"div",3)(2,"div")(3,"h1",4),s(4),l(5,"transloco"),o(),a(6,"p",5),s(7),l(8,"transloco"),o()(),f(9,Ki,6,12,"button",6),o(),f(10,tn,11,25,"div",7)(11,nn,2,0,"div",8)(12,dn,20,17,"div",9),o(),f(13,mn,63,45,"ng-template",null,0,Ve)),i&2&&(r(4),c(" ",d(5,6,"settings.team.title")," "),r(3),c(" ",d(8,8,"settings.team.subtitle")," "),r(2),m("ngIf",!(t.user!=null&&t.user.staff)||(t.user==null?null:t.user.role)==="administrador"),r(),m("ngIf",t.selectedSubscription&&t.staffLoaded),r(),m("ngIf",t.isLoadingStaff),r(),m("ngIf",t.staffLoaded&&!t.isLoadingStaff))},dependencies:[K,Pe,Y,J,ue,Qe,Ze,se,qe,le,de,ce,pe,te,ee,ze,ne,ie,Ge,Gt,Ut,$t,Ue,We,he,fe,Le,ae,oe,Re,Bt],encapsulation:2,changeDetection:0})}}return n})();var un=["deleteWorkspaceDialog"];function gn(n,u){if(n&1&&(a(0,"span",30),s(1),l(2,"transloco"),o()),n&2){let e=g().$implicit;r(),c(" ",d(2,1,e.badge)," ")}}function fn(n,u){if(n&1){let e=S();a(0,"button",26),v("click",function(){let t=b(e).$implicit,p=g(2);return x(p.selectPanel(t.id))}),h(1,"mat-icon",27),a(2,"span",28),s(3),l(4,"transloco"),o(),f(5,gn,3,3,"span",29),o()}if(n&2){let e=u.$implicit,i=g(2);I("active",i.isPanelSelected(e.id))("disabled",e.disabled),r(),m("svgIcon",e.icon),r(2),E(d(4,7,e.title)),r(2),m("ngIf",e.badge)}}function hn(n,u){if(n&1&&(M(0),a(1,"div",22)(2,"h3",23),s(3),l(4,"transloco"),o(),a(5,"div",24),f(6,fn,6,9,"button",25),o()(),F()),n&2){let e=u.$implicit,i=u.last;r(),I("mb-0",i),r(2),c(" ",d(4,4,e.title)," "),r(3),m("ngForOf",e.panels)}}function _n(n,u){if(n&1&&(a(0,"div",31)(1,"div",32)(2,"div",33),s(3),o(),a(4,"div",34)(5,"p",35),s(6),o(),a(7,"p",36),s(8),o()()()()),n&2){let e=g();r(3),c(" ",(e.user==null||e.user.name==null?null:e.user.name.charAt(0))||"U"," "),r(3),c(" ",(e.user==null?null:e.user.name)||"User"," "),r(2),c(" ",(e.user==null?null:e.user.email)||(e.user==null?null:e.user.phone)||"Web2 Account"," ")}}function bn(n,u){if(n&1){let e=S();a(0,"div",74)(1,"div",75)(2,"div",76)(3,"mat-icon"),s(4,"check_circle"),o()(),a(5,"div",70)(6,"h3",77),s(7),l(8,"transloco"),o(),a(9,"p",78),s(10),l(11,"transloco"),o()(),a(12,"button",79),v("click",function(){b(e);let t=g(2);return x(t.dismissNewTokenAlert())}),a(13,"mat-icon"),s(14,"close"),o()()()()}n&2&&(r(7),c(" ",d(8,2,"settings.api_key.new_token_generated")," "),r(3),c(" ",d(11,4,"settings.api_key.copy_token_warning")," "))}function xn(n,u){if(n&1){let e=S();a(0,"div",80)(1,"button",81),v("click",function(){b(e);let t=g(2);return x(t.toggleRenewPanel())}),s(2),l(3,"transloco"),a(4,"mat-icon"),s(5,"arrow_forward"),o()()()}n&2&&(r(2),c(" ",d(3,1,"settings.api_key.extend_validity")," "))}function vn(n,u){if(n&1){let e=S();a(0,"button",91),v("click",function(){let t=b(e).$implicit,p=g(3);return x(p.selectedExpiration=t.value)}),s(1),a(2,"span",92),s(3),l(4,"transloco"),o()()}if(n&2){let e=u.$implicit,i=g(3);I("selected",i.selectedExpiration===e.value),r(),c(" ",e.label," "),r(2),E(d(4,4,"settings.api_key.months"))}}function yn(n,u){n&1&&h(0,"mat-spinner",93)}function wn(n,u){if(n&1){let e=S();a(0,"div",82)(1,"div",83)(2,"label",84),s(3),l(4,"transloco"),o(),a(5,"div",85),f(6,vn,5,6,"button",86),o(),a(7,"div",87)(8,"button",88),v("click",function(){b(e);let t=g(2);return x(t.toggleRenewPanel())}),s(9),l(10,"transloco"),o(),a(11,"button",89),v("click",function(){b(e);let t=g(2);return x(t.renewToken())}),f(12,yn,1,0,"mat-spinner",90),s(13),l(14,"transloco"),l(15,"transloco"),o()()()()}if(n&2){let e=g(2);r(3),c(" ",d(4,7,"settings.api_key.select_expiration")," "),r(3),m("ngForOf",e.expirationOptions),r(2),m("disabled",e.isRenewing),r(),c(" ",d(10,9,"settings.api_key.cancel")," "),r(2),m("disabled",e.isRenewing),r(),m("ngIf",e.isRenewing),r(),c(" ",e.isRenewing?d(14,11,"settings.api_key.renewing"):d(15,13,"settings.api_key.renew_now")," ")}}function kn(n,u){if(n&1){let e=S();a(0,"div",80)(1,"button",94),v("click",function(){b(e);let t=g(2);return x(t.toggleRevokeConfirm())}),s(2),l(3,"transloco"),a(4,"mat-icon"),s(5,"arrow_forward"),o()()()}n&2&&(r(2),c(" ",d(3,1,"settings.api_key.revoke_all")," "))}function Sn(n,u){n&1&&h(0,"mat-spinner",93)}function Cn(n,u){if(n&1){let e=S();a(0,"div",95)(1,"div",83)(2,"div",96)(3,"mat-icon",97),s(4,"warning"),o(),a(5,"div")(6,"p",98),s(7),l(8,"transloco"),o(),a(9,"p",99),s(10),l(11,"transloco"),o()()(),a(12,"div",87)(13,"button",88),v("click",function(){b(e);let t=g(2);return x(t.toggleRevokeConfirm())}),s(14),l(15,"transloco"),o(),a(16,"button",100),v("click",function(){b(e);let t=g(2);return x(t.revokeAndGenerateNew())}),f(17,Sn,1,0,"mat-spinner",90),s(18),l(19,"transloco"),l(20,"transloco"),o()()()()}if(n&2){let e=g(2);r(7),c(" ",d(8,7,"settings.api_key.warning_title")," "),r(3),c(" ",d(11,9,"settings.api_key.warning_text")," "),r(3),m("disabled",e.isRevoking),r(),c(" ",d(15,11,"settings.api_key.cancel")," "),r(2),m("disabled",e.isRevoking),r(),m("ngIf",e.isRevoking),r(),c(" ",e.isRevoking?d(19,13,"settings.api_key.revoking"):d(20,15,"settings.api_key.confirm_revoke")," ")}}function En(n,u){if(n&1){let e=S();M(0),a(1,"div",37)(2,"h1",38),s(3),l(4,"transloco"),o(),a(5,"p",39),s(6),l(7,"transloco"),o()(),f(8,bn,15,6,"div",40),a(9,"div",41)(10,"div",42)(11,"div",11)(12,"div",43)(13,"mat-icon"),s(14,"vpn_key"),o()(),a(15,"div")(16,"h2",44),s(17),l(18,"transloco"),o(),a(19,"p",45),s(20),l(21,"transloco"),o()()(),a(22,"div",46),h(23,"span",47),s(24),l(25,"transloco"),o()(),a(26,"div",48)(27,"div",49)(28,"div",50),v("click",function(){b(e);let t=g();return x(t.copyToken())}),a(29,"code",51),s(30),o()(),a(31,"div",52)(32,"button",53),l(33,"transloco"),l(34,"transloco"),v("click",function(){b(e);let t=g();return x(t.hidePassword=!t.hidePassword)}),a(35,"mat-icon"),s(36),o()(),a(37,"button",53),l(38,"transloco"),v("click",function(){b(e);let t=g();return x(t.copyToken())}),a(39,"mat-icon"),s(40,"content_copy"),o()()()(),a(41,"p",54)(42,"mat-icon",55),s(43,"info"),o(),s(44),l(45,"transloco"),o()()(),a(46,"div",56)(47,"div",57)(48,"div",58)(49,"div",59)(50,"mat-icon"),s(51,"autorenew"),o()(),a(52,"h3",60),s(53),l(54,"transloco"),o()(),a(55,"p",61),s(56),l(57,"transloco"),o(),f(58,xn,6,3,"div",62)(59,wn,16,15,"div",63),o(),a(60,"div",64)(61,"div",58)(62,"div",65)(63,"mat-icon"),s(64,"sync_problem"),o()(),a(65,"h3",60),s(66),l(67,"transloco"),o()(),a(68,"p",61),s(69),l(70,"transloco"),o(),f(71,kn,6,3,"div",62)(72,Cn,21,17,"div",66),o()(),a(73,"div",67)(74,"div",68)(75,"div",69)(76,"mat-icon"),s(77,"menu_book"),o()(),a(78,"div",70)(79,"h3",71),s(80),l(81,"transloco"),o(),a(82,"p",72),s(83),l(84,"transloco"),o()(),a(85,"a",73),s(86),l(87,"transloco"),a(88,"mat-icon"),s(89,"open_in_new"),o()()()(),F()}if(n&2){let e=g();r(3),c(" ",d(4,22,"settings.api_key.title")," "),r(3),c(" ",d(7,24,"settings.api_key.subtitle")," "),r(2),m("ngIf",e.showNewTokenAlert),r(9),c(" ",d(18,26,"settings.api_key.current_token")," "),r(3),c(" ",d(21,28,"settings.api_key.bearer_token_info")," "),r(4),c(" ",d(25,30,"settings.api_key.active")," "),r(6),c(" ",e.hidePassword?e.getMaskedToken():e.accessToken," "),r(2),m("matTooltip",e.hidePassword?d(33,32,"settings.api_key.show_token"):d(34,34,"settings.api_key.hide_token")),r(4),E(e.hidePassword?"visibility":"visibility_off"),r(),m("matTooltip",d(38,36,"settings.api_key.copy_token")),r(7),c(" ",d(45,38,"settings.api_key.usage_hint")," "),r(9),c(" ",d(54,40,"settings.api_key.renew_token")," "),r(3),c(" ",d(57,42,"settings.api_key.renew_description")," "),r(2),m("ngIf",!e.showRenewPanel),r(),m("ngIf",e.showRenewPanel),r(7),c(" ",d(67,44,"settings.api_key.revoke_generate")," "),r(3),c(" ",d(70,46,"settings.api_key.revoke_description")," "),r(2),m("ngIf",!e.showRevokeConfirm),r(),m("ngIf",e.showRevokeConfirm),r(8),c(" ",d(81,48,"settings.api_key.need_help")," "),r(3),c(" ",d(84,50,"settings.api_key.docs_description")," "),r(3),c(" ",d(87,52,"settings.api_key.view_docs")," ")}}function In(n,u){if(n&1&&h(0,"img",120),n&2){let e=g(2);m("src",e.avatar,xe)}}function Tn(n,u){if(n&1&&(a(0,"div",121),s(1),o()),n&2){let e=g(2);r(),c(" ",e.getUserInitial()," ")}}function Bn(n,u){if(n&1){let e=S();a(0,"div",122)(1,"button",123),v("click",function(){b(e);let t=g(2);return x(t.removeAvatar())}),s(2),l(3,"transloco"),o()()}n&2&&(r(2),c(" ",d(3,1,"settings.profile.remove_photo")," "))}function Dn(n,u){if(n&1&&(a(0,"option",142),s(1),l(2,"transloco"),o()),n&2){let e=u.$implicit;m("value",e.dialCode),r(),ke(" ",e.dialCode," ",d(2,3,e.name)," ")}}function Mn(n,u){n&1&&h(0,"mat-spinner",143)}function Fn(n,u){if(n&1){let e=S();a(0,"form",124)(1,"div",103)(2,"h3",14),s(3),l(4,"transloco"),o(),a(5,"p",104),s(6),l(7,"transloco"),o()(),a(8,"div",125)(9,"div",126)(10,"label",127),s(11),l(12,"transloco"),o(),h(13,"input",128),o(),a(14,"div",126)(15,"label",127),s(16),l(17,"transloco"),o(),h(18,"input",129),o(),a(19,"div",126)(20,"label",127),s(21),l(22,"transloco"),o(),a(23,"div",130)(24,"select",131),f(25,Dn,3,5,"option",132),o(),a(26,"mat-icon",133),s(27,"expand_more"),o()()(),a(28,"div",126)(29,"label",127),s(30),l(31,"transloco"),o(),h(32,"input",134),o(),a(33,"div",135)(34,"label",127),s(35),l(36,"transloco"),o(),h(37,"input",136),o(),a(38,"div",135)(39,"label",127),s(40),l(41,"transloco"),o(),h(42,"input",137),o()(),a(43,"div",122)(44,"button",138),v("click",function(){b(e);let t=g(2);return x(t.saveProfile())}),a(45,"span",139),f(46,Mn,1,0,"mat-spinner",140),a(47,"span",141),s(48),l(49,"transloco"),l(50,"transloco"),o()()()()()}if(n&2){let e=g(2);m("formGroup",e.profileForm),r(3),c(" ",d(4,13,"settings.profile.personal_info")," "),r(3),c(" ",d(7,15,"settings.profile.privacy_info")," "),r(5),c(" ",d(12,17,"settings.profile.full_name")," "),r(5),c(" ",d(17,19,"settings.profile.email")," "),r(5),c(" ",d(22,21,"settings.profile.prefix")," "),r(4),m("ngForOf",e.countryCodes),r(5),c(" ",d(31,23,"settings.profile.phone")," "),r(5),c(" ",d(36,25,"settings.profile.company")," "),r(5),c(" ",d(41,27,"settings.profile.address")," "),r(4),m("disabled",e.isSavingProfile||e.profileForm.invalid),r(2),m("ngIf",e.isSavingProfile),r(2),c(" ",e.isSavingProfile?d(49,29,"settings.profile.saving"):d(50,31,"settings.profile.save")," ")}}function An(n,u){if(n&1){let e=S();M(0),a(1,"div",37)(2,"h1",38),s(3),l(4,"transloco"),o(),a(5,"p",39),s(6),l(7,"transloco"),o()(),a(8,"div",41)(9,"div",101)(10,"div",102)(11,"div",103)(12,"h3",14),s(13),l(14,"transloco"),o(),a(15,"p",104),s(16),l(17,"transloco"),o()(),a(18,"div",105)(19,"div",106)(20,"div",107),f(21,In,1,1,"img",108)(22,Tn,2,1,"div",109),o()(),a(23,"div",110)(24,"input",111),v("change",function(t){b(e);let p=g();return x(p.onFileBrowse(t))}),o(),a(25,"label",112),v("drop",function(t){b(e);let p=g();return x(p.onFileDropped(t))})("dragover",function(t){b(e);let p=g();return x(p.onDragOver(t))}),a(26,"div",113)(27,"mat-icon",114),s(28,"cloud_upload"),o(),a(29,"p",115)(30,"span",116),s(31),l(32,"transloco"),o(),s(33),l(34,"transloco"),o(),a(35,"p",117),s(36),l(37,"transloco"),o()()(),f(38,Bn,4,3,"div",118),o()()(),f(39,Fn,51,33,"form",119),o()(),F()}if(n&2){let e=g();r(3),c(" ",d(4,11,"settings.profile.title")," "),r(3),c(" ",d(7,13,"settings.profile.subtitle")," "),r(7),c(" ",d(14,15,"settings.profile.photo")," "),r(3),c(" ",d(17,17,"settings.profile.photo_desc")," "),r(5),m("ngIf",e.avatar),r(),m("ngIf",!e.avatar),r(9),E(d(32,19,"settings.profile.drag_drop")),r(2),c(" ",d(34,21,"settings.profile.or_click")," "),r(3),c(" ",d(37,23,"settings.profile.file_types")," "),r(2),m("ngIf",e.avatar),r(),m("ngIf",e.profileLoaded)}}function Vn(n,u){if(n&1&&(M(0),h(1,"app-billing-details",144),F()),n&2){let e=g();r(),m("user",e.user)}}function Nn(n,u){n&1&&(a(0,"div",146),h(1,"mat-spinner",147),o())}function Pn(n,u){if(n&1&&h(0,"img",160),n&2){let e=g(3);m("src",e.workspaceLogo,xe)}}function Rn(n,u){n&1&&(a(0,"mat-icon",161),s(1,"business"),o())}function jn(n,u){if(n&1){let e=S();a(0,"div",122)(1,"button",123),v("click",function(){b(e);let t=g(3);return x(t.removeWorkspaceLogo())}),s(2),l(3,"transloco"),o()()}n&2&&(r(2),c(" ",d(3,1,"settings.general.remove_logo")," "))}function On(n,u){n&1&&h(0,"mat-spinner",162)}function Ln(n,u){if(n&1){let e=S();a(0,"div",163)(1,"div",164)(2,"div")(3,"h3",165),s(4),l(5,"transloco"),o(),a(6,"p",166),s(7),l(8,"transloco"),o()(),a(9,"button",167),v("click",function(){b(e);let t=g(3);return x(t.openDeleteWorkspaceDialog())}),s(10),l(11,"transloco"),o()()()}n&2&&(r(4),c(" ",d(5,3,"settings.general.delete_workspace")," "),r(3),c(" ",d(8,5,"settings.general.delete_warning")," "),r(3),c(" ",d(11,7,"settings.general.delete_workspace")," "))}function zn(n,u){if(n&1){let e=S();a(0,"div")(1,"div",41)(2,"div",101)(3,"div",102)(4,"div",103)(5,"h3",14),s(6),l(7,"transloco"),o(),a(8,"p",104),s(9),l(10,"transloco"),o()(),a(11,"div",105)(12,"div",106)(13,"div",107),f(14,Pn,1,1,"img",148)(15,Rn,2,0,"mat-icon",149),o()(),a(16,"div",110)(17,"input",150),v("change",function(t){b(e);let p=g(2);return x(p.onWorkspaceLogoBrowse(t))}),o(),a(18,"label",151),v("drop",function(t){b(e);let p=g(2);return x(p.onWorkspaceLogoDropped(t))})("dragover",function(t){b(e);let p=g(2);return x(p.onDragOver(t))}),a(19,"div",113)(20,"mat-icon",114),s(21,"cloud_upload"),o(),a(22,"p",115)(23,"span",116),s(24),l(25,"transloco"),o(),s(26),l(27,"transloco"),o(),a(28,"p",117),s(29),l(30,"transloco"),o()()(),f(31,jn,4,3,"div",118),o()()(),a(32,"div",152)(33,"div",103)(34,"h3",14),s(35),l(36,"transloco"),o(),a(37,"p",104),s(38),l(39,"transloco"),o()(),a(40,"div",153)(41,"div",126)(42,"label",127),s(43),l(44,"transloco"),o(),a(45,"input",154),l(46,"transloco"),Ct("ngModelChange",function(t){b(e);let p=g(2);return St(p.workspaceName,t)||(p.workspaceName=t),x(t)}),o()(),a(47,"div",122)(48,"button",155),v("click",function(){b(e);let t=g(2);return x(t.saveWorkspace())}),a(49,"span",156),f(50,On,1,0,"mat-spinner",157),a(51,"span",158),s(52),l(53,"transloco"),l(54,"transloco"),l(55,"transloco"),o()()()()()()()(),f(56,Ln,12,9,"div",159),o()}if(n&2){let e=g(2);r(6),c(" ",d(7,17,"settings.general.logo")," "),r(3),c(" ",d(10,19,"settings.general.logo_desc")," "),r(5),m("ngIf",e.workspaceLogo),r(),m("ngIf",!e.workspaceLogo),r(9),E(d(25,21,"settings.profile.drag_drop")),r(2),c(" ",d(27,23,"settings.profile.or_click")," "),r(3),c(" ",d(30,25,"settings.profile.file_types")," "),r(2),m("ngIf",e.workspaceLogo),r(4),c(" ",d(36,27,"settings.general.workspace_name")," "),r(3),c(" ",d(39,29,"settings.general.workspace_name_desc")," "),r(5),c(" ",d(44,31,"settings.general.name_label")," "),r(2),kt("ngModel",e.workspaceName),m("placeholder",d(46,33,"settings.general.name_placeholder")),r(3),m("disabled",e.isSavingWorkspace||!(e.workspaceName!=null&&e.workspaceName.trim())),r(2),m("ngIf",e.isSavingWorkspace),r(2),c(" ",e.isSavingWorkspace?d(53,35,"settings.general.saving"):e.workspace?d(54,37,"settings.general.update"):d(55,39,"settings.general.create")," "),r(4),m("ngIf",e.workspace&&!(e.user!=null&&e.user.role)&&!(e.user!=null&&e.user.staff))}}function Wn(n,u){if(n&1&&(M(0),a(1,"div",37)(2,"h1",38),s(3),l(4,"transloco"),o(),a(5,"p",39),s(6),l(7,"transloco"),o()(),f(8,Nn,2,0,"div",145)(9,zn,57,41,"div",21),F()),n&2){let e=g();r(3),c(" ",d(4,4,"settings.general.title")," "),r(3),c(" ",d(7,6,"settings.general.subtitle")," "),r(2),m("ngIf",!e.workspaceLoaded),r(),m("ngIf",e.workspaceLoaded)}}function Un(n,u){if(n&1&&(M(0),h(1,"app-staff-list",144),F()),n&2){let e=g();r(),m("user",e.user)}}function Gn(n,u){n&1&&h(0,"mat-spinner",93)}function $n(n,u){if(n&1){let e=S();a(0,"div",168)(1,"div",169)(2,"div",170)(3,"mat-icon",171),s(4,"warning"),o()(),a(5,"div")(6,"h2",172),s(7),l(8,"transloco"),o(),a(9,"p",173),s(10),l(11,"transloco"),o()()(),a(12,"div",174)(13,"button",175),s(14),l(15,"transloco"),o(),a(16,"button",176),v("click",function(){b(e);let t=g();return x(t.confirmDeleteWorkspace())}),f(17,Gn,1,0,"mat-spinner",90),s(18),l(19,"transloco"),l(20,"transloco"),o()()()}if(n&2){let e=g();r(7),c(" ",d(8,6,"settings.general.delete_workspace")," "),r(3),c(" ",d(11,8,"settings.general.delete_confirm_message")," "),r(4),c(" ",d(15,10,"settings.general.cancel")," "),r(2),m("disabled",e.isDeletingWorkspace),r(),m("ngIf",e.isDeletingWorkspace),r(),c(" ",e.isDeletingWorkspace?d(19,12,"settings.general.deleting"):d(20,14,"settings.general.delete_confirm")," ")}}var ui=(()=>{class n{constructor(e,i,t,p,_,O,et,gi,fi,hi,_i){this._cdr=e,this._fuseMediaWatcherService=i,this._snackBar=t,this._translocoService=p,this._settingsService=_,this._clipboard=O,this._formBuilder=et,this._countryService=gi,this._route=fi,this._router=hi,this._dialog=_i,this._unsubscribeAll=new D,this.drawerMode="side",this.drawerOpened=!0,this.selectedPanel="profile",this.isWeb2User=!1,this.hidePassword=!0,this.isRenewing=!1,this.isRevoking=!1,this.showRenewPanel=!1,this.showRevokeConfirm=!1,this.selectedExpiration=1,this.newlyGeneratedToken=null,this.showNewTokenAlert=!1,this.expirationOptions=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:6,label:"6"},{value:12,label:"12"},{value:24,label:"24"},{value:36,label:"36"}],this.profileLoaded=!1,this.isSavingProfile=!1,this.avatar=null,this.countryCodes=[],this.sections=[{id:"account",title:"settings.sections.account",panels:[{id:"profile",icon:"heroicons_outline:user-circle",title:"settings.panels.profile",description:"settings.panels.profile_desc"},{id:"security",icon:"heroicons_outline:lock-closed",title:"settings.panels.security",description:"settings.panels.security_desc",badge:"settings.coming_soon",disabled:!0}]},{id:"workspace",title:"settings.sections.workspace",panels:[{id:"general",icon:"heroicons_outline:building-office",title:"settings.panels.general",description:"settings.panels.general_desc"},{id:"team",icon:"heroicons_outline:user-group",title:"settings.panels.team",description:"settings.panels.team_desc"}]},{id:"billing",title:"settings.sections.billing",panels:[{id:"billing_details",icon:"heroicons_outline:credit-card",title:"settings.panels.billing_details",description:"settings.panels.billing_details_desc"}]},{id:"developers",title:"settings.sections.developers",panels:[{id:"api_key",icon:"heroicons_outline:key",title:"settings.panels.api_key",description:"settings.panels.api_key_desc"},{id:"webhooks",icon:"heroicons_outline:globe-alt",title:"settings.panels.webhooks",description:"settings.panels.webhooks_desc",badge:"settings.coming_soon",disabled:!0}]}],this._panelToSlug={profile:"profile",security:"security",general:"general",team:"team",billing_details:"billing-details",api_key:"api-key",webhooks:"webhooks"},this._slugToPanel={profile:"profile",security:"security",general:"general",team:"team","billing-details":"billing_details","api-key":"api_key",webhooks:"webhooks"},this.workspaceLoaded=!1,this.workspace=null,this.workspaceName="",this.workspaceLogo=null,this.isSavingWorkspace=!1,this.isDeletingWorkspace=!1,this.countryCodes=this._countryService.countryDialCodes,this._initProfileForm(),this._loadUserData()}ngOnInit(){this._observeMediaChanges(),this._observeRouteChanges()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}selectPanel(e){if(this._findPanel(e)?.disabled)return;let t=this._panelToSlug[e]||e;this._router.navigate(["/settings",t])}_onPanelChanged(e){this.selectedPanel=e,this._resetPanelStates(),e==="general"&&!this.workspaceLoaded&&this.loadWorkspaceData(),this.drawerMode==="over"&&(this.drawerOpened=!1),this._cdr.markForCheck()}isPanelSelected(e){return this.selectedPanel===e}copyToken(){let e=this.newlyGeneratedToken||this.accessToken;if(!e)return;this._clipboard.copy(e);let i=this._translocoService.translate("settings.api_key.token_copied");this._snackBar.open(i,null,{duration:2e3})}toggleRenewPanel(){this.showRenewPanel=!this.showRenewPanel,this.showRenewPanel&&(this.showRevokeConfirm=!1),this._cdr.markForCheck()}toggleRevokeConfirm(){this.showRevokeConfirm=!this.showRevokeConfirm,this.showRevokeConfirm&&(this.showRenewPanel=!1),this._cdr.markForCheck()}renewToken(){this.isRenewing=!0,this._cdr.markForCheck(),this._settingsService.renewToken(this.selectedExpiration).pipe(w(this._unsubscribeAll)).subscribe({next:e=>{if(e?.accessToken){this.accessToken=e.accessToken,this.newlyGeneratedToken=e.accessToken,this.showNewTokenAlert=!0,this.showRenewPanel=!1;let i=this._translocoService.translate("settings.api_key.token_renewed_success");this._snackBar.open(i,null,{duration:3e3})}this.isRenewing=!1,this._cdr.markForCheck()},error:()=>{let e=this._translocoService.translate("settings.api_key.token_renewal_failed");this._snackBar.open(e,null,{duration:3e3}),this.isRenewing=!1,this._cdr.markForCheck()}})}revokeAndGenerateNew(){this.isRevoking=!0,this._cdr.markForCheck(),this._settingsService.revokeAndGenerateNew().pipe(w(this._unsubscribeAll)).subscribe({next:e=>{let i=e?.token||e?.accessToken;if(i){this.accessToken=i,this.newlyGeneratedToken=i,this.showNewTokenAlert=!0,this.showRevokeConfirm=!1;let t=this._translocoService.translate("settings.api_key.tokens_revoked_success");this._snackBar.open(t,null,{duration:3e3})}this.isRevoking=!1,this._cdr.markForCheck()},error:()=>{let e=this._translocoService.translate("settings.api_key.token_revocation_failed");this._snackBar.open(e,null,{duration:3e3}),this.isRevoking=!1,this._cdr.markForCheck()}})}dismissNewTokenAlert(){this.showNewTokenAlert=!1,this.newlyGeneratedToken=null,this._cdr.markForCheck()}getMaskedToken(){if(!this.accessToken)return"";let e=12;if(this.accessToken.length<=e*2)return"\u2022".repeat(this.accessToken.length);let i=this.accessToken.substring(0,e),t=this.accessToken.substring(this.accessToken.length-e),p=this.accessToken.length-e*2;return`${i}${"\u2022".repeat(Math.min(p,20))}${t}`}saveProfile(){if(this.profileForm.invalid)return;this.isSavingProfile=!0,this._cdr.markForCheck();let e=this.profileForm.value,i={name:e.name,email:e.email,countryCode:e.countryCode,company:e.company,address:e.address,avatar:this.avatar};this._settingsService.updateProfile(this.user._id,i).pipe(w(this._unsubscribeAll)).subscribe({next:t=>{if(t?.data){this.user=q(q({},this.user),t.data);let p=this._translocoService.translate("settings.profile.save_success");this._snackBar.open(p,null,{duration:3e3})}this.isSavingProfile=!1,this._cdr.markForCheck()},error:()=>{let t=this._translocoService.translate("settings.profile.save_error");this._snackBar.open(t,null,{duration:3e3}),this.isSavingProfile=!1,this._cdr.markForCheck()}})}onFileDropped(e){e.preventDefault(),e.stopPropagation();let i=e.dataTransfer?.files;i&&i.length>0&&this._processFile(i[0])}onDragOver(e){e.preventDefault(),e.stopPropagation()}onFileBrowse(e){let i=e.target;i.files&&i.files.length>0&&this._processFile(i.files[0])}removeAvatar(){this.avatar=null,this._cdr.markForCheck()}getUserInitial(){return this.user?.name?.charAt(0)?.toUpperCase()||"U"}_processFile(e){if(!["image/png","image/jpeg","image/jpg"].includes(e.type)){let _=this._translocoService.translate("settings.profile.invalid_file_type");this._snackBar.open(_,null,{duration:3e3});return}let t=5*1024*1024;if(e.size>t){let _=this._translocoService.translate("settings.profile.file_too_large");this._snackBar.open(_,null,{duration:3e3});return}let p=new FileReader;p.readAsDataURL(e),p.onloadend=()=>{this.avatar=p.result,this._cdr.markForCheck()}}_initProfileForm(){this.profileForm=this._formBuilder.group({name:["",[T.required]],email:["",[T.required,T.email]],countryCode:[""],phone:[{value:"",disabled:!0}],company:[""],address:[""]})}_loadProfileData(){this.user&&(this.profileForm.patchValue({name:this.user.name||"",email:this.user.email||"",countryCode:this.user.countryCode||"+1",phone:this.user.phone||"",company:this.user.company||"",address:this.user.address||""}),this.avatar=this.user.avatar||null,this.profileLoaded=!0,this._cdr.markForCheck())}_loadUserData(){let e=localStorage.getItem("verifik_account")||localStorage.getItem("user");this.user=e?JSON.parse(e):null,this.accessToken=this._settingsService.accessToken,this.isWeb2User=!!this.user,this.user&&this._loadProfileData()}loadWorkspaceData(){!this.user?._id||this.workspaceLoaded||this._settingsService.getWorkspace(this.user._id).pipe(w(this._unsubscribeAll)).subscribe({next:e=>{e?.data&&(this.workspace=e.data,this.workspaceName=e.data.name||"",this.workspaceLogo=e.data.avatar||null),this.workspaceLoaded=!0,this._cdr.markForCheck()},error:()=>{this.workspace=null,this.workspaceLoaded=!0,this._cdr.markForCheck()}})}onWorkspaceLogoDropped(e){e.preventDefault(),e.stopPropagation();let i=e.dataTransfer?.files;i&&i.length>0&&this._processWorkspaceLogo(i[0])}onWorkspaceLogoBrowse(e){let i=e.target;i.files&&i.files.length>0&&this._processWorkspaceLogo(i.files[0])}_processWorkspaceLogo(e){if(!["image/png","image/jpeg","image/jpg"].includes(e.type)){let _=this._translocoService.translate("settings.profile.invalid_file_type");this._snackBar.open(_,null,{duration:3e3});return}let t=5*1024*1024;if(e.size>t){let _=this._translocoService.translate("settings.profile.file_too_large");this._snackBar.open(_,null,{duration:3e3});return}let p=new FileReader;p.readAsDataURL(e),p.onloadend=()=>{this.workspaceLogo=p.result,this._cdr.markForCheck()}}removeWorkspaceLogo(){this.workspaceLogo=null,this._cdr.markForCheck()}saveWorkspace(){if(this.isSavingWorkspace||!this.workspaceName?.trim())return;this.isSavingWorkspace=!0,this._cdr.markForCheck();let e={name:this.workspaceName.trim(),avatar:this.workspaceLogo,client:this.user._id};(this.workspace?this._settingsService.updateWorkspace(this.workspace._id,e):this._settingsService.createWorkspace(e)).pipe(Z(()=>{this.isSavingWorkspace=!1,this._cdr.markForCheck()}),w(this._unsubscribeAll)).subscribe({next:t=>{if(t?.data){this.workspace=t.data,this.user.workSpace=t.data,this._updateLocalStorage();let p=this._translocoService.translate("settings.general.save_success");this._snackBar.open(p,null,{duration:3e3})}},error:()=>{let t=this._translocoService.translate("settings.general.save_error");this._snackBar.open(t,null,{duration:3e3})}})}openDeleteWorkspaceDialog(){this.workspace&&this._dialog.open(this.deleteWorkspaceDialog,{width:"500px",maxWidth:"90vw"})}confirmDeleteWorkspace(){this.isDeletingWorkspace||!this.workspace||(this.isDeletingWorkspace=!0,this._cdr.markForCheck(),this._settingsService.deleteWorkspace(this.workspace._id).pipe(Z(()=>{this.isDeletingWorkspace=!1,this._cdr.markForCheck()}),w(this._unsubscribeAll)).subscribe({next:()=>{this._dialog.closeAll(),this.workspace=null,this.workspaceName="",this.workspaceLogo=null,delete this.user.workSpace,this._updateLocalStorage();let e=this._translocoService.translate("settings.general.delete_success");this._snackBar.open(e,null,{duration:3e3})},error:()=>{let e=this._translocoService.translate("settings.general.delete_error");this._snackBar.open(e,null,{duration:3e3})}}))}_updateLocalStorage(){let e=localStorage.getItem("verifik_account")?"verifik_account":"user";localStorage.setItem(e,JSON.stringify(this.user))}_observeMediaChanges(){this._fuseMediaWatcherService.onMediaChange$.pipe(w(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._cdr.markForCheck()})}_observeRouteChanges(){this._route.params.pipe(w(this._unsubscribeAll)).subscribe(e=>{let i=e.panel;if(i){let t=this._slugToPanel[i]||i,p=this._findPanel(t);p&&!p.disabled?this._onPanelChanged(t):this._router.navigate(["/settings","profile"],{replaceUrl:!0})}})}_findPanel(e){for(let i of this.sections){let t=i.panels.find(p=>p.id===e);if(t)return t}}_resetPanelStates(){this.showRenewPanel=!1,this.showRevokeConfirm=!1,this.showNewTokenAlert=!1,this.newlyGeneratedToken=null}static{this.\u0275fac=function(i){return new(i||n)(C(j),C(Wt),C(ge),C(re),C(_e),C(Xt),C(me),C(Ye),C(It),C(Tt),C(Oe))}}static{this.\u0275cmp=A({type:n,selectors:[["app-settings"]],viewQuery:function(i,t){if(i&1&&U(un,5),i&2){let p;P(p=R())&&(t.deleteWorkspaceDialog=p.first)}},decls:37,vars:18,consts:[["drawer",""],["deleteWorkspaceDialog",""],[1,"settings-container","flex","flex-col","flex-auto"],[1,"lg:hidden","flex","items-center","justify-between","p-4","border-b","border-gray-200","bg-white"],["mat-icon-button","",3,"click"],[1,"text-lg","font-semibold"],[1,"w-10"],[1,"flex-auto"],[1,"w-72","dark:bg-gray-900",3,"mode","opened"],[1,"flex","flex-col","h-full"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","gap-3"],[1,"settings-header-icon"],[1,"text-white"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex-1","overflow-y-auto","p-4"],[4,"ngFor","ngForOf"],["class","p-4 border-t border-gray-200 dark:border-gray-700",4,"ngIf"],[1,"flex","flex-col","bg-gray-50","dark:bg-gray-900"],[1,"flex-1","p-6","lg:p-8","max-w-4xl","mx-auto","w-full"],[4,"ngIf"],[1,"mb-6"],[1,"px-3","mb-2","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider"],[1,"space-y-1"],["class","nav-item w-full",3,"active","disabled","click",4,"ngFor","ngForOf"],[1,"nav-item","w-full",3,"click"],[1,"nav-icon",3,"svgIcon"],[1,"nav-label"],["class","nav-badge",4,"ngIf"],[1,"nav-badge"],[1,"p-4","border-t","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","gap-3","p-3","rounded-lg","bg-gray-50","dark:bg-gray-800"],[1,"w-10","h-10","rounded-full","bg-gradient-to-br","from-blue-500","to-purple-600","flex","items-center","justify-center","text-white","font-semibold"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","dark:text-white","truncate"],[1,"text-xs","text-gray-500","truncate"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-gray-600","dark:text-gray-400"],["class","new-token-alert mb-6",4,"ngIf"],[1,"content-card","mb-6"],[1,"card-header"],[1,"card-icon","blue"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"text-gray-500","text-xs"],[1,"token-status"],[1,"status-dot"],[1,"card-body"],[1,"token-display-wrapper"],[1,"token-display",3,"click"],[1,"token-text"],[1,"token-actions"],["mat-icon-button","",1,"action-btn",3,"click","matTooltip"],[1,"usage-hint"],[1,"inline-icon"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"action-card"],[1,"action-card-header"],[1,"action-icon","renew"],[1,"action-title"],[1,"action-description"],["class","action-footer",4,"ngIf"],["class","expand-panel",4,"ngIf"],[1,"action-card","danger"],[1,"action-icon","revoke"],["class","expand-panel danger",4,"ngIf"],[1,"docs-card","mt-6"],[1,"flex","items-center","gap-4"],[1,"docs-icon"],[1,"flex-1"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-gray-500","text-sm"],["href","https://docs.verifik.co/authentication/renew-your-token-jwt","target","_blank","rel","noopener noreferrer","mat-stroked-button","",1,"docs-button"],[1,"new-token-alert","mb-6"],[1,"flex","items-start","gap-4"],[1,"alert-icon-success"],[1,"font-semibold","text-green-800"],[1,"text-green-700","text-sm","mt-1"],["mat-icon-button","",1,"text-green-600",3,"click"],[1,"action-footer"],["mat-stroked-button","","color","primary",1,"action-button",3,"click"],[1,"expand-panel"],[1,"panel-content"],[1,"panel-label"],[1,"expiration-grid"],["class","expiration-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"panel-actions"],["mat-button","",3,"click","disabled"],["mat-flat-button","","color","primary",1,"confirm-btn",3,"click","disabled"],["diameter","18","class","mr-2",4,"ngIf"],[1,"expiration-option",3,"click"],[1,"expiration-unit"],["diameter","18",1,"mr-2"],["mat-stroked-button","","color","warn",1,"action-button","danger",3,"click"],[1,"expand-panel","danger"],[1,"warning-box"],[1,"warning-icon"],[1,"warning-title"],[1,"warning-text"],["mat-flat-button","","color","warn",1,"confirm-btn","danger",3,"click","disabled"],[1,"card-body","p-0"],[1,"p-6","border-b","border-gray-100","dark:border-gray-700"],[1,"flex","flex-col","gap-1","mb-6"],[1,"text-sm","text-gray-500"],[1,"flex","flex-col","md:flex-row","gap-8","items-start"],[1,"shrink-0"],[1,"w-32","h-32","rounded-full","bg-gray-50","dark:bg-gray-800","border-2","border-dashed","border-gray-300","dark:border-gray-600","flex","items-center","justify-center","overflow-hidden"],["class","w-full h-full object-cover","alt","Profile avatar",3,"src",4,"ngIf"],["class","w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white text-4xl font-semibold",4,"ngIf"],[1,"flex-1","w-full"],["id","avatarInput","type","file","accept",".png,.jpg,.jpeg",1,"hidden",3,"change"],["for","avatarInput",1,"dropzone","flex","flex-col","items-center","justify-center","w-full","h-32","bg-gray-50","dark:bg-gray-800","rounded-lg","border-2","border-dashed","border-gray-300","dark:border-gray-600","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","mb-3",3,"drop","dragover"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],[1,"text-gray-400","mb-2",2,"width","32px","height","32px","font-size","32px"],[1,"mb-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold","text-blue-600"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["class","flex justify-end",4,"ngIf"],["class","p-6",3,"formGroup",4,"ngIf"],["alt","Profile avatar",1,"w-full","h-full","object-cover",3,"src"],[1,"w-full","h-full","flex","items-center","justify-center","bg-gradient-to-br","from-blue-500","to-purple-600","text-white","text-4xl","font-semibold"],[1,"flex","justify-end"],["mat-stroked-button","","color","warn",1,"text-sm",3,"click"],[1,"p-6",3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-8"],[1,"flex","flex-col","gap-1.5"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300"],["type","text","formControlName","name",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["type","email","formControlName","email",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],[1,"relative"],["formControlName","countryCode",1,"h-11","pl-4","pr-10","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","appearance-none","text-gray-900","dark:text-white"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","right-3","top-3","pointer-events-none","text-gray-400",2,"width","20px","height","20px","font-size","20px"],["type","text","formControlName","phone",1,"h-11","px-4","bg-gray-100","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","text-gray-500","cursor-not-allowed","w-full","focus:outline-none"],[1,"col-span-1","md:col-span-2","flex","flex-col","gap-1.5"],["type","text","formControlName","company",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["type","text","formControlName","address",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["mat-flat-button","","color","primary",1,"!bg-blue-600","hover:!bg-blue-700","text-white","px-8","h-11","rounded-lg","profile-save-btn",3,"click","disabled"],[1,"profile-save-btn-content"],["diameter","18","class","profile-save-spinner",4,"ngIf"],[1,"profile-save-text"],[3,"value"],["diameter","18",1,"profile-save-spinner"],[3,"user"],["class","flex items-center justify-center py-12",4,"ngIf"],[1,"flex","items-center","justify-center","py-12"],["diameter","32"],["class","w-full h-full object-cover","alt","Workspace logo",3,"src",4,"ngIf"],["class","text-gray-400","style",`
                                                        width: 40px;
                                                        height: 40px;
                                                        font-size: 40px;
                                                    `,4,"ngIf"],["id","workspaceLogoInput","type","file","accept",".png,.jpg,.jpeg",1,"hidden",3,"change"],["for","workspaceLogoInput",1,"dropzone","flex","flex-col","items-center","justify-center","w-full","h-32","bg-gray-50","dark:bg-gray-800","rounded-lg","border-2","border-dashed","border-gray-300","dark:border-gray-600","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","mb-3",3,"drop","dragover"],[1,"p-6"],[1,"flex","flex-col","gap-4","max-w-lg"],["type","text",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white",3,"ngModelChange","ngModel","placeholder"],["mat-flat-button","","color","primary",1,"!bg-blue-600","hover:!bg-blue-700","text-white","px-8","h-11","rounded-lg","workspace-save-btn",3,"click","disabled"],[1,"workspace-save-btn-content"],["diameter","18","class","workspace-save-spinner",4,"ngIf"],[1,"workspace-save-text"],["class","danger-zone-card",4,"ngIf"],["alt","Workspace logo",1,"w-full","h-full","object-cover",3,"src"],[1,"text-gray-400",2,"width","40px","height","40px","font-size","40px"],["diameter","18",1,"workspace-save-spinner"],[1,"danger-zone-card"],[1,"flex","items-start","justify-between","gap-4"],[1,"text-lg","font-bold","text-red-700","dark:text-red-400","mb-2"],[1,"text-sm","text-red-600/80","dark:text-red-400/80","max-w-2xl","leading-relaxed"],["mat-stroked-button","","color","warn",1,"!bg-white","hover:!bg-red-50","dark:!bg-red-900/20","whitespace-nowrap",3,"click"],[1,"delete-dialog","flex","flex-col","bg-white","dark:bg-gray-900","p-6"],[1,"flex","items-start","gap-4","mb-6"],[1,"w-12","h-12","rounded-full","bg-red-100","dark:bg-red-900/30","flex","items-center","justify-center"],[1,"text-red-600","dark:text-red-400"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-end","gap-3"],["mat-stroked-button","","mat-dialog-close",""],["mat-flat-button","","color","warn",3,"click","disabled"]],template:function(i,t){if(i&1){let p=S();a(0,"div",2)(1,"div",3)(2,"button",4),v("click",function(){return b(p),x(t.drawerOpened=!t.drawerOpened)}),a(3,"mat-icon"),s(4,"menu"),o()(),a(5,"h1",5),s(6),l(7,"transloco"),o(),h(8,"div",6),o(),a(9,"mat-sidenav-container",7)(10,"mat-sidenav",8,0)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"mat-icon",13),s(17,"settings"),o()(),a(18,"div")(19,"h2",14),s(20),l(21,"transloco"),o(),a(22,"p",15),s(23),l(24,"transloco"),o()()()(),a(25,"div",16),f(26,hn,7,6,"ng-container",17),o(),f(27,_n,9,3,"div",18),o()(),a(28,"mat-sidenav-content",19)(29,"div",20),f(30,En,90,54,"ng-container",21)(31,An,40,25,"ng-container",21)(32,Vn,2,1,"ng-container",21)(33,Wn,10,8,"ng-container",21)(34,Un,2,1,"ng-container",21)(35,$n,21,16,"ng-template",null,1,Ve),o()()()()}i&2&&(r(6),E(d(7,12,"settings.title")),r(4),m("mode",t.drawerMode)("opened",t.drawerOpened),r(10),c(" ",d(21,14,"settings.title")," "),r(3),c(" ",d(24,16,"settings.subtitle")," "),r(3),m("ngForOf",t.sections),r(),m("ngIf",t.user),r(3),m("ngIf",t.selectedPanel==="api_key"),r(),m("ngIf",t.selectedPanel==="profile"),r(),m("ngIf",t.selectedPanel==="billing_details"),r(),m("ngIf",t.selectedPanel==="general"),r(),m("ngIf",t.selectedPanel==="team"))},dependencies:[K,Y,J,He,$e,Qe,Ze,se,qe,le,de,qt,ue,ce,pe,te,zt,ee,ze,ne,ie,ii,mt,ti,Ke,Kt,Ue,We,he,fe,Le,Ot,Ge,ae,oe,ei,Re,mi,pi],styles:[`.settings-container{height:100%;background:linear-gradient(180deg,#f8fafc,#fff)}:host-context(.dark) .settings-container{background:linear-gradient(180deg,#111827,#1f2937)}mat-sidenav{background:#fff;border-right:1px solid #e5e7eb}:host-context(.dark) mat-sidenav{background:#1f2937;border-right-color:#374151}.settings-header-icon{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,#6366f1,#8b5cf6);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 14px #6366f140}.nav-item{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:10px;text-align:left;transition:all .2s ease;background:transparent;border:none;cursor:pointer}.nav-item:hover:not(.disabled){background:#f3f4f6}:host-context(.dark) .nav-item:hover:not(.disabled){background:#374151}.nav-item.active{background:linear-gradient(135deg,#eef2ff,#e0e7ff)}:host-context(.dark) .nav-item.active{background:linear-gradient(135deg,#312e81,#3730a3)}.nav-item.active .nav-icon{color:#6366f1}.nav-item.active .nav-label{color:#6366f1;font-weight:600}.nav-item.disabled{opacity:.6;cursor:not-allowed}.nav-icon{width:20px;height:20px;color:#6b7280}:host-context(.dark) .nav-icon{color:#9ca3af}.nav-label{flex:1;font-size:14px;color:#374151}:host-context(.dark) .nav-label{color:#d1d5db}.nav-badge{font-size:10px;font-weight:600;padding:2px 8px;border-radius:10px;background:#f3f4f6;color:#6b7280;text-transform:uppercase}:host-context(.dark) .nav-badge{background:#374151;color:#9ca3af}.content-card{background:#fff;border-radius:20px;border:1px solid #e5e7eb;overflow:hidden;box-shadow:0 4px 24px #0000000a;transition:box-shadow .2s ease}:host-context(.dark) .content-card{background:#1f2937;border-color:#374151}.content-card:hover{box-shadow:0 8px 32px #00000014}.content-card:has(.country-autocomplete-wrapper){overflow:visible}.card-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:linear-gradient(135deg,#fafafa,#f5f5f5);border-bottom:1px solid #e5e7eb}:host-context(.dark) .card-header{background:linear-gradient(135deg,#1f2937,#111827);border-bottom-color:#374151}.card-icon{width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.card-icon.blue{background:linear-gradient(135deg,#3b82f6,#60a5fa);box-shadow:0 2px 8px #3b82f64d}.card-icon mat-icon{font-size:20px;width:20px;height:20px;color:#fff!important}.token-status{display:flex;align-items:center;gap:8px;font-size:13px;font-weight:500;color:#10b981;background:#10b9811a;padding:6px 12px;border-radius:20px}.token-status .status-dot{width:8px;height:8px;border-radius:50%;background:#10b981;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.card-body{padding:24px;overflow:visible;position:relative}.token-display-wrapper{display:flex;align-items:center;gap:12px;margin-bottom:16px}.token-display{flex:1;background:#1e1e2e;border-radius:12px;padding:16px 20px;cursor:pointer;transition:all .2s ease;overflow:hidden}.token-display:hover{background:#2d2d3f;transform:translateY(-1px)}.token-text{font-family:SF Mono,Monaco,Inconsolata,Roboto Mono,monospace;font-size:13px;color:#a5b4fc;word-break:break-all;line-height:1.6}.token-actions{display:flex;flex-direction:column;gap:4px}.action-btn{color:#6366f1!important;transition:all .2s ease}.action-btn:hover{background:#6366f11a;transform:scale(1.05)}.usage-hint{display:flex;align-items:center;gap:8px;font-size:13px;color:#6b7280;background:#f9fafb;padding:12px 16px;border-radius:10px;border:1px dashed #e5e7eb}:host-context(.dark) .usage-hint{background:#374151;border-color:#4b5563;color:#9ca3af}.usage-hint .inline-icon{font-size:16px;width:16px;height:16px;color:#9ca3af}.action-card{background:#fff;border-radius:20px;border:1px solid #e5e7eb;padding:24px;transition:all .2s ease;box-shadow:0 4px 24px #0000000a}:host-context(.dark) .action-card{background:#1f2937;border-color:#374151}.action-card:hover{border-color:#d1d5db;box-shadow:0 8px 32px #00000014}.action-card.danger:hover{border-color:#fecaca}.action-card-header{display:flex;align-items:center;gap:14px;margin-bottom:12px}.action-icon{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center}.action-icon.renew{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#2563eb}.action-icon.revoke{background:linear-gradient(135deg,#fee2e2,#fecaca);color:#dc2626}.action-icon mat-icon{font-size:22px;width:22px;height:22px}.action-title{font-size:16px;font-weight:600;color:#111827;margin:0}:host-context(.dark) .action-title{color:#f3f4f6}.action-description{font-size:14px;color:#6b7280;line-height:1.6;margin-bottom:20px}.action-footer{padding-top:8px}.action-button{border-radius:10px!important;font-weight:500;padding:8px 20px;height:auto;transition:all .2s ease}.action-button mat-icon{margin-left:8px;font-size:18px;width:18px;height:18px}.action-button:hover{transform:translate(2px)}.action-button.danger{border-color:#fca5a5;color:#dc2626}.action-button.danger:hover{background:#fef2f2}.expand-panel{margin-top:16px;padding-top:16px;border-top:1px solid #e5e7eb;animation:expandIn .3s ease-out}:host-context(.dark) .expand-panel{border-top-color:#374151}.expand-panel.danger{border-top-color:#fecaca}@keyframes expandIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.panel-content{display:flex;flex-direction:column;gap:16px}.panel-label{font-size:13px;font-weight:600;color:#374151;text-transform:uppercase;letter-spacing:.05em}:host-context(.dark) .panel-label{color:#d1d5db}.expiration-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(72px,1fr));gap:8px}.expiration-option{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:14px 8px;border:2px solid #e5e7eb;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s ease;font-size:18px;font-weight:600;color:#374151}:host-context(.dark) .expiration-option{background:#1f2937;border-color:#374151;color:#d1d5db}.expiration-option .expiration-unit{font-size:10px;font-weight:500;color:#9ca3af;text-transform:uppercase;margin-top:2px}.expiration-option:hover{border-color:#6366f1;background:#f5f3ff}:host-context(.dark) .expiration-option:hover{background:#312e81}.expiration-option.selected{border-color:#6366f1;background:linear-gradient(135deg,#eef2ff,#e0e7ff);color:#6366f1}:host-context(.dark) .expiration-option.selected{background:linear-gradient(135deg,#312e81,#3730a3);color:#a5b4fc}.expiration-option.selected .expiration-unit{color:#818cf8}.panel-actions{display:flex;justify-content:flex-end;gap:12px;margin-top:8px}.confirm-btn{border-radius:10px!important;padding:8px 24px;height:auto;font-weight:500;display:flex;align-items:center}.confirm-btn mat-spinner{margin-right:8px}.confirm-btn.danger{background:linear-gradient(135deg,#ef4444,#dc2626)}.warning-box{display:flex;gap:14px;padding:16px;background:linear-gradient(135deg,#fef3c7,#fde68a);border-radius:12px;border:1px solid #f59e0b}.warning-box .warning-icon{color:#d97706;font-size:24px;width:24px;height:24px}.warning-box .warning-title{font-weight:600;color:#92400e;margin:0 0 4px;font-size:14px}.warning-box .warning-text{font-size:13px;color:#a16207;margin:0;line-height:1.5}.new-token-alert{background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:1px solid #10b981;border-radius:16px;padding:20px;animation:slideDown .3s ease-out}.new-token-alert .alert-icon-success{width:40px;height:40px;border-radius:10px;background:#10b9811a;display:flex;align-items:center;justify-content:center;color:#10b981}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.docs-card{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:1px solid #bae6fd;border-radius:16px;padding:20px 24px}:host-context(.dark) .docs-card{background:linear-gradient(135deg,#0c4a6e,#075985);border-color:#0369a1}.docs-card .docs-icon{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,#0ea5e9,#0284c7);display:flex;align-items:center;justify-content:center;color:#fff}.docs-card .docs-button{border-radius:10px!important;border-color:#0ea5e9;color:#0369a1;font-weight:500}:host-context(.dark) .docs-card .docs-button{border-color:#38bdf8;color:#7dd3fc}.docs-card .docs-button mat-icon{margin-left:8px;font-size:16px;width:16px;height:16px}.docs-card .docs-button:hover{background:#0ea5e91a}.coming-soon-container{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:40px}.coming-soon-container .coming-soon-icon{width:80px;height:80px;border-radius:20px;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);display:flex;align-items:center;justify-content:center}:host-context(.dark) .coming-soon-container .coming-soon-icon{background:linear-gradient(135deg,#374151,#4b5563)}.coming-soon-container .coming-soon-icon mat-icon{font-size:40px;width:40px;height:40px;color:#9ca3af}@media (max-width: 640px){.token-display-wrapper{flex-direction:column;align-items:stretch}.token-actions{flex-direction:row;justify-content:flex-end}.card-header{flex-direction:column;align-items:flex-start;gap:12px}.expiration-grid{grid-template-columns:repeat(3,1fr)}.docs-card>div{flex-direction:column;text-align:center}.docs-card .docs-icon{margin:0 auto}.docs-card .docs-button{margin-top:16px;width:100%}}.dropzone{transition:all .2s ease}.dropzone:hover{border-color:#3b82f6;background:#eff6ff}:host-context(.dark) .dropzone:hover{border-color:#60a5fa;background:#3b82f61a}.dropzone.dragover{border-color:#3b82f6;background:#dbeafe;transform:scale(1.02)}:host-context(.dark) .dropzone.dragover{border-color:#60a5fa;background:#3b82f633}input:focus,select:focus{border-color:#3b82f6!important;box-shadow:0 0 0 3px #3b82f61a}.avatar-preview{position:relative;overflow:hidden}.avatar-preview:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,transparent 50%,rgba(0,0,0,.05) 100%);pointer-events:none}.card-icon.purple{background:linear-gradient(135deg,#8b5cf6,#a78bfa);box-shadow:0 2px 8px #8b5cf64d}.card-icon.green{background:linear-gradient(135deg,#10b981,#34d399);box-shadow:0 2px 8px #10b9814d}.billing-type-toggle{display:flex;gap:12px;padding:4px;background:#f3f4f6;border-radius:12px}:host-context(.dark) .billing-type-toggle{background:#374151}.type-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border:none;border-radius:10px;background:transparent;color:#6b7280;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.type-btn mat-icon{font-size:20px;width:20px;height:20px}.type-btn:hover:not(.active){background:#ffffff80}:host-context(.dark) .type-btn:hover:not(.active){background:#4b556380}.type-btn.active{background:#fff;color:#6366f1;box-shadow:0 2px 8px #00000014}:host-context(.dark) .type-btn.active{background:#1f2937;color:#a5b4fc}.form-field{display:flex;flex-direction:column;gap:6px;overflow:visible;position:relative;z-index:1}.form-field label{font-size:13px;font-weight:600;color:#374151}:host-context(.dark) .form-field label{color:#d1d5db}.form-field:has(.country-autocomplete-wrapper){overflow:visible;z-index:10}.form-input{height:44px;padding:0 16px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:10px;font-size:14px;color:#111827;transition:all .2s ease;width:100%}:host-context(.dark) .form-input{background:#1f2937;border-color:#374151;color:#f3f4f6}.form-input:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a;background:#fff}:host-context(.dark) .form-input:focus{background:#111827;box-shadow:0 0 0 3px #6366f133}.form-input::placeholder{color:#9ca3af}.form-input:is(select){appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px;cursor:pointer}.country-autocomplete-wrapper{position:relative;overflow:visible;z-index:1}.country-autocomplete-input{padding-right:48px!important;padding-left:16px!important;min-width:0;width:100%;box-sizing:border-box;text-overflow:ellipsis}.country-search-icon{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:#9ca3af;font-size:20px;width:20px;height:20px;pointer-events:none;z-index:1}.country-dropdown{position:absolute;top:calc(100% + 4px);left:0;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 10px 40px #0000001f;max-height:240px;overflow-y:auto;overflow-x:hidden;z-index:9999;min-width:100%;width:max-content;max-width:400px;box-sizing:border-box}:host-context(.dark) .country-dropdown{background:#1f2937;border-color:#374151}.country-dropdown::-webkit-scrollbar{width:8px}.country-dropdown::-webkit-scrollbar-track{background:#f3f4f6;border-radius:4px}:host-context(.dark) .country-dropdown::-webkit-scrollbar-track{background:#374151}.country-dropdown::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}:host-context(.dark) .country-dropdown::-webkit-scrollbar-thumb{background:#6b7280}.country-dropdown::-webkit-scrollbar-thumb:hover{background:#9ca3af}.country-option{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background .15s ease;width:100%;box-sizing:border-box;min-height:44px}.country-option:first-child{border-radius:12px 12px 0 0}.country-option:last-child{border-radius:0 0 12px 12px}.country-option:hover{background:#f3f4f6}:host-context(.dark) .country-option:hover{background:#374151}.country-option.no-results{color:#9ca3af;cursor:default;justify-content:center;white-space:normal}.country-option.no-results:hover{background:transparent}.country-option .country-code{font-weight:600;color:#6366f1;min-width:70px;flex-shrink:0;text-align:left;padding-right:8px}.country-option .country-name{color:#374151;flex:1;min-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host-context(.dark) .country-option .country-name{color:#d1d5db}.profile-save-btn{display:flex!important;align-items:center!important;justify-content:center!important}.profile-save-btn .profile-save-btn-content{display:flex;align-items:center;justify-content:center;gap:8px}.profile-save-btn .profile-save-spinner{flex-shrink:0;margin:0!important}.profile-save-btn .profile-save-text{white-space:nowrap}.billing-save-btn{background:linear-gradient(135deg,#3b82f6,#2563eb)!important;color:#fff!important;padding:0 32px!important;height:44px!important;border-radius:12px!important;font-weight:600!important;font-size:14px!important;box-shadow:0 4px 14px #3b82f659!important;transition:all .2s ease!important;display:flex!important;align-items:center!important;justify-content:center!important}.billing-save-btn:hover:not(.disabled){background:linear-gradient(135deg,#2563eb,#1d4ed8)!important;transform:translateY(-1px);box-shadow:0 6px 20px #3b82f666!important}.billing-save-btn.disabled,.billing-save-btn:disabled{background:#e5e7eb!important;color:#9ca3af!important;box-shadow:none!important;cursor:not-allowed!important;transform:none!important}:host-context(.dark) .billing-save-btn.disabled,:host-context(.dark) .billing-save-btn:disabled{background:#374151!important;color:#6b7280!important}.billing-save-btn .billing-save-btn-content{display:flex;align-items:center;justify-content:center;gap:8px}.billing-save-btn .billing-save-spinner{flex-shrink:0;margin:0!important}.billing-save-btn .billing-save-text{white-space:nowrap}@media (max-width: 1024px){.billing-type-toggle{flex-direction:column}.type-btn{justify-content:flex-start;padding:14px 16px}}.workspace-save-btn{display:flex!important;align-items:center!important;justify-content:center!important}.workspace-save-btn .workspace-save-btn-content{display:flex;align-items:center;justify-content:center;gap:8px}.workspace-save-btn .workspace-save-spinner{flex-shrink:0;margin:0!important}.workspace-save-btn .workspace-save-text{white-space:nowrap}.danger-zone-card{background:#ef44440d;border-radius:20px;border:1px solid rgba(239,68,68,.15);padding:24px}:host-context(.dark) .danger-zone-card{background:#ef44441a;border-color:#ef444433}.staff-dialog{min-width:400px;max-width:90vw;border-radius:20px;overflow:hidden}.delete-dialog{min-width:400px;max-width:90vw;border-radius:20px}@media (max-width: 768px){.staff-dialog,.delete-dialog{min-width:100%}}.content-card .divide-y>div:hover{background:#6366f105}:host-context(.dark) .content-card .divide-y>div:hover{background:#6366f10d}.status-badge{display:inline-flex;align-items:center;padding:4px 10px;border-radius:20px;font-size:12px;font-weight:500}.status-badge.active{background:#10b9811a;color:#10b981}.status-badge.pending{background:#f59e0b1a;color:#f59e0b}.status-badge.inactive{background:#6b72801a;color:#6b7280}
`],encapsulation:2,changeDetection:0})}}return n})();var Eo=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:":panel",component:ui}];export{Eo as default};
