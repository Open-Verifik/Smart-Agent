import{a as qe,b as Ze,c as Qe}from"./chunk-GOISRZR7.js";import{a as He,b as Ke,c as We,d as Ge,e as Je}from"./chunk-BDKC4BTW.js";import{a as Ue}from"./chunk-NROCMDI2.js";import{j as ke}from"./chunk-QQNGCN5G.js";import"./chunk-NJIOGT5G.js";import"./chunk-3RK6DDJD.js";import{a as $e,b as ze}from"./chunk-LLQ6WMTJ.js";import"./chunk-QD66ZOCP.js";import{a as Oe,b as je}from"./chunk-OYMRB6S7.js";import"./chunk-VC5VKYY6.js";import"./chunk-7RWCIHFI.js";import{c as Me,d as Ae}from"./chunk-IEVXMBCH.js";import{c as se,f as de}from"./chunk-UVXKGKGK.js";import{a as Se,b as we}from"./chunk-53WRULVM.js";import{a as he,c as Ce,d as ye}from"./chunk-YTRC6VXI.js";import{b as ae,d as le,i as pe}from"./chunk-QIQIZ3Q6.js";import{e as me}from"./chunk-DHV22PVR.js";import{d as ce,l as ue,m as _e}from"./chunk-CTJ3YQQD.js";import"./chunk-ZAUDAUJV.js";import{B as Le,b as Re,c as Be,e as j,h as Te,i as Ee,m as Ie,p as Fe,r as Pe,s as Ve,y as De,z as Ne}from"./chunk-QWR6CIPV.js";import"./chunk-MVN6OMHF.js";import{U as xe,V as ge,X as fe,Z as ve,_ as be}from"./chunk-KMUH6FME.js";import{$c as ne,Bb as X,Cb as L,Db as M,Dc as U,Eb as n,Fb as o,Ga as R,Gb as T,Kb as C,Mb as g,Nb as m,Sa as Z,Wa as i,Xb as l,Yb as x,Zb as _,_b as O,bd as oe,cd as re,fb as Q,ga as E,gc as Y,hc as ee,ic as te,lb as k,oc as s,pc as d,qa as f,qc as z,ra as v,rc as ie,sb as b,tb as $,ub as I,zb as h}from"./chunk-BMVGBJ55.js";import{a as B,b as A}from"./chunk-66YHNWRR.js";function H(r,c=""){let e=[];for(let[a,t]of Object.entries(r)){let p=c?`${c}.${a}`:a;if(t!=null&&typeof t=="object"&&!Array.isArray(t))e.push({path:p,value:"",type:"object"}),e.push(...H(t,p));else{let u=t==null?"\u2014":typeof t=="string"?t:Array.isArray(t)?JSON.stringify(t):String(t);e.push({path:p,value:u.length>60?u.slice(0,60)+"\u2026":u,type:"leaf"})}}return e}function Xe(r){let c=[];return r.inputData&&Object.keys(r.inputData).length>0&&(c.push({path:"inputData",value:"",type:"object"}),c.push(...H(r.inputData,"inputData"))),r.results&&Object.keys(r.results).length>0&&(c.push({path:"results",value:"",type:"object"}),c.push(...H(r.results,"results"))),c}var Ye=(r,c)=>({sections:r,primaryColor:c}),et=r=>({num:r}),tt=()=>["left","center","right"],it=(r,c)=>c.type,nt=(r,c)=>c.id,ot=(r,c)=>c.path;function rt(r,c){r&1&&(n(0,"mat-icon",67),l(1,"refresh"),o(),l(2),s(3,"transloco")),r&2&&(i(2),_(" ",d(3,1,"smartReport.sendingSample")," "))}function at(r,c){r&1&&(n(0,"mat-icon",68),l(1,"send"),o(),l(2),s(3,"transloco")),r&2&&(i(2),_(" ",d(3,1,"smartReport.sendSample")," "))}function lt(r,c){r&1&&(n(0,"mat-icon",67),l(1,"refresh"),o(),l(2),s(3,"transloco")),r&2&&(i(2),_(" ",d(3,1,"smartReport.saving")," "))}function pt(r,c){r&1&&(n(0,"mat-icon",68),l(1,"save"),o(),l(2),s(3,"transloco")),r&2&&(i(2),_(" ",d(3,1,"smartReport.saveTemplate")," "))}function st(r,c){if(r&1){let e=C();n(0,"div",4),T(1,"img",69),n(2,"button",70),g("click",function(){f(e);let t=m();return v(t.removeLogo())}),l(3),s(4,"transloco"),o()()}if(r&2){let e=m();i(),b("src",e.logoUrl(),Z),i(2),_(" ",d(4,2,"smartReport.remove")," ")}}function dt(r,c){if(r&1){let e=C();n(0,"label",71)(1,"mat-icon",72),l(2,"upload"),o(),l(3),s(4,"transloco"),n(5,"input",73),g("change",function(t){f(e);let p=m();return v(p.onLogoUpload(t))}),o()(),n(6,"p",74),l(7,"PNG, JPG, SVG \xB7 max 500KB"),o()}r&2&&(i(3),_(" ",d(4,1,"smartReport.uploadLogo")," "))}function mt(r,c){r&1&&(n(0,"mat-form-field",43)(1,"mat-label"),l(2),s(3,"transloco"),o(),n(4,"mat-select",75)(5,"mat-option",76),l(6,"\u2196 Top Left"),o(),n(7,"mat-option",77),l(8,"\u2191 Top Center"),o(),n(9,"mat-option",78),l(10,"\u2197 Top Right"),o(),n(11,"mat-option",79),l(12,"\u2199 Bottom Left"),o(),n(13,"mat-option",80),l(14,"\u2193 Bottom Center"),o(),n(15,"mat-option",81),l(16,"\u2198 Bottom Right"),o()()()),r&2&&(i(2),x(d(3,1,"smartReport.pageNumberPosition")))}function ct(r,c){r&1&&(n(0,"div"),T(1,"input",89),s(2,"transloco"),o()),r&2&&(i(),b("placeholder",d(2,1,"smartReport.watermarkTextPlaceholder")))}function ut(r,c){r&1&&(n(0,"p",84),l(1),s(2,"transloco"),o()),r&2&&(i(),_(" ",d(2,1,"smartReport.watermarkLogoHint")," "))}function _t(r,c){if(r&1){let e=C();n(0,"div",45)(1,"div",82)(2,"button",83),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkType"))==null?null:t.setValue("text"))}),l(3),s(4,"transloco"),o(),n(5,"button",83),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkType"))==null?null:t.setValue("logo"))}),l(6),s(7,"transloco"),o()(),k(8,ct,3,3,"div")(9,ut,3,3,"p",84),n(10,"div")(11,"div",85)(12,"label",57),l(13),s(14,"transloco"),o(),n(15,"span",86),l(16),s(17,"number"),o()(),T(18,"input",87),o(),n(19,"div")(20,"label",88),l(21),s(22,"transloco"),o(),n(23,"div",82)(24,"button",83),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkPattern"))==null?null:t.setValue("single"))}),l(25),s(26,"transloco"),o(),n(27,"button",83),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkPattern"))==null?null:t.setValue("repeated"))}),l(28),s(29,"transloco"),o()()()()}if(r&2){let e,a,t,p,u,S,w,P,V,F,D,y=m();i(2),I("bg-indigo-50",((e=y.templateForm.get("watermarkType"))==null?null:e.value)==="text")("border-indigo-300",((a=y.templateForm.get("watermarkType"))==null?null:a.value)==="text"),i(),_(" ",d(4,25,"smartReport.watermarkText")," "),i(2),I("bg-indigo-50",((t=y.templateForm.get("watermarkType"))==null?null:t.value)==="logo")("border-indigo-300",((p=y.templateForm.get("watermarkType"))==null?null:p.value)==="logo"),i(),_(" ",d(7,27,"smartReport.watermarkLogo")," "),i(2),h(((u=y.templateForm.get("watermarkType"))==null?null:u.value)==="text"?8:-1),i(),h(((S=y.templateForm.get("watermarkType"))==null?null:S.value)==="logo"&&!y.logoUrl()?9:-1),i(4),x(d(14,29,"smartReport.watermarkOpacity")),i(3),_("",z(17,31,((w=y.templateForm.get("watermarkOpacity"))==null?null:w.value)*100,"1.0-0"),"%"),i(5),x(d(22,34,"smartReport.watermarkPattern")),i(3),I("bg-indigo-50",((P=y.templateForm.get("watermarkPattern"))==null?null:P.value)==="single")("border-indigo-300",((V=y.templateForm.get("watermarkPattern"))==null?null:V.value)==="single"),i(),_(" ",d(26,36,"smartReport.watermarkSingle")," "),i(2),I("bg-indigo-50",((F=y.templateForm.get("watermarkPattern"))==null?null:F.value)==="repeated")("border-indigo-300",((D=y.templateForm.get("watermarkPattern"))==null?null:D.value)==="repeated"),i(),_(" ",d(29,38,"smartReport.watermarkRepeated")," ")}}function xt(r,c){r&1&&(n(0,"p",49),l(1),s(2,"transloco"),o()),r&2&&(i(),_(" ",d(2,1,"smartReport.openFromReportViewer")," "))}function gt(r,c){if(r&1){let e=C();n(0,"div",90)(1,"code",92),l(2),o(),n(3,"span",93),l(4),o(),n(5,"button",94),s(6,"transloco"),g("click",function(){f(e);let t=m().$implicit,p=m(2);return v(p.copyPathToClipboard(t.path))}),n(7,"mat-icon",95),l(8,"content_copy"),o()()()}if(r&2){let e=m().$implicit;i(2),x(e.path),i(),b("title",e.value),i(),x(e.value),i(),b("matTooltip",d(6,4,"smartReport.copyPath"))}}function ft(r,c){if(r&1){let e=C();n(0,"div",91)(1,"span",39),l(2),o(),n(3,"button",94),s(4,"transloco"),g("click",function(){f(e);let t=m().$implicit,p=m(2);return v(p.copyPathToClipboard(t.path))}),n(5,"mat-icon",95),l(6,"content_copy"),o()()()}if(r&2){let e=m().$implicit;i(2),x(e.path),i(),b("matTooltip",d(4,2,"smartReport.copyPathForTable"))}}function vt(r,c){if(r&1&&k(0,gt,9,6,"div",90)(1,ft,7,4,"div",91),r&2){let e=c.$implicit;h(e.type==="leaf"?0:1)}}function bt(r,c){if(r&1&&(n(0,"div",50),L(1,vt,2,1,null,null,ot),o()),r&2){let e=m();i(),M(e.helperDataPaths())}}function ht(r,c){if(r&1){let e=C();n(0,"button",96),g("click",function(){let t=f(e).$implicit,p=m();return v(p.addSection(t.type))}),n(1,"mat-icon",97),l(2),o(),l(3),s(4,"transloco"),o()}if(r&2){let e=c.$implicit;i(2),x(e.icon),i(),_(" ",d(4,2,e.labelKey)," ")}}function Ct(r,c){r&1&&(n(0,"div",60)(1,"mat-icon",98),l(2,"add_box"),o(),n(3,"p",99),l(4),s(5,"transloco"),o()()),r&2&&(i(4),_(" ",d(5,1,"smartReport.addSectionsFromAbove")," "))}function yt(r,c){if(r&1&&l(0),r&2){let e=m().$implicit;_(" ",e.label," ")}}function St(r,c){if(r&1&&(l(0),s(1,"slice")),r&2){let e=m().$implicit;O(" ",ie(1,2,e.staticContent,0,30),"",e.staticContent.length>30?"...":""," ")}}function wt(r,c){if(r&1&&l(0),r&2){let e=m().$implicit;_(" ",e.dataPath," ")}}function kt(r,c){if(r&1&&(l(0),s(1,"transloco")),r&2){let e=m().$implicit;_(" ",z(1,1,"smartReport.sectionNumber",ee(4,et,e.order+1))," ")}}function Rt(r,c){if(r&1){let e=C();n(0,"div",100),g("click",function(){let t=f(e).$implicit,p=m();return v(p.selectSection(t))}),n(1,"div",101)(2,"mat-icon",102),l(3,"drag_indicator"),o()(),n(4,"div",103)(5,"mat-icon",72),l(6),o()(),n(7,"div",104)(8,"p",105),l(9),o(),n(10,"p",106),k(11,yt,1,1)(12,St,2,6)(13,wt,1,1)(14,kt,2,6),o()(),n(15,"div",107)(16,"button",108),s(17,"transloco"),g("click",function(t){let p=f(e).$implicit;return m().duplicateSection(p),v(t.stopPropagation())}),n(18,"mat-icon",109),l(19,"content_copy"),o()(),n(20,"button",108),s(21,"transloco"),g("click",function(t){let p=f(e).$implicit;return m().deleteSection(p.id),v(t.stopPropagation())}),n(22,"mat-icon",110),l(23,"delete"),o()()()()}if(r&2){let e,a,t,p,u,S=c.$implicit,w=m();I("ring-2",((e=w.currentSelectedSection())==null?null:e.id)===S.id)("ring-indigo-500",((a=w.currentSelectedSection())==null?null:a.id)===S.id)("bg-indigo-50",((t=w.currentSelectedSection())==null?null:t.id)===S.id),i(4),$("background",((p=w.templateForm.get("primaryColor"))==null?null:p.value)+"15"),i(),$("color",(u=w.templateForm.get("primaryColor"))==null?null:u.value),i(),x(w.getSectionIcon(S.type)),i(3),_(" ",w.getSectionLabel(S.type)," "),i(2),h(S.label?11:S.staticContent?12:S.dataPath?13:14),i(5),b("matTooltip",d(17,15,"smartReport.duplicate")),i(4),b("matTooltip",d(21,17,"smartReport.delete"))}}function Bt(r,c){if(r&1){let e=C();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",115),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{staticContent:t.target.value,label:t.target.value}))}),o()()}if(r&2){let e=m();i(2),x(d(3,3,"smartReport.titleText")),i(2),b("value",e.staticContent||"")("placeholder",d(5,5,"smartReport.reportTitle"))}}function Tt(r,c){if(r&1){let e=C();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"textarea",116),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{staticContent:t.target.value}))}),o()()}if(r&2){let e=m();i(2),x(d(3,3,"smartReport.content")),i(2),b("value",e.staticContent||"")("placeholder",d(5,5,"smartReport.enterTextContent"))}}function Et(r,c){if(r&1){let e=C();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",115),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{label:t.target.value}))}),o()(),n(6,"div")(7,"label",36),l(8),s(9,"transloco"),o(),n(10,"input",117),s(11,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{dataPath:t.target.value}))}),o(),n(12,"p",74),l(13),s(14,"transloco"),o()()}if(r&2){let e=m();i(2),x(d(3,7,"smartReport.label")),i(2),b("value",e.label||"")("placeholder",d(5,9,"smartReport.fieldLabel")),i(4),x(d(9,11,"smartReport.dataPath")),i(2),b("value",e.dataPath||"")("placeholder",d(11,13,"smartReport.dataPathPlaceholder")),i(3),_(" ",d(14,15,"smartReport.dotSeparatedPath")," ")}}function It(r,c){if(r&1){let e=C();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",115),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{label:t.target.value}))}),o()(),n(6,"div")(7,"label",36),l(8),s(9,"transloco"),o(),n(10,"input",118),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{dataPath:t.target.value}))}),o(),n(11,"p",74),l(12),s(13,"transloco"),o()()}if(r&2){let e=m();i(2),x(d(3,6,"smartReport.tableTitle")),i(2),b("value",e.label||"")("placeholder",d(5,8,"smartReport.tableLabel")),i(4),x(d(9,10,"smartReport.dataPathObject")),i(2),b("value",e.dataPath||""),i(2),_(" ",d(13,12,"smartReport.pathToObject")," ")}}function Ft(r,c){if(r&1){let e=C();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",119),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{staticContent:t.target.value}))}),o()(),n(5,"div")(6,"label",36),l(7),s(8,"transloco"),o(),n(9,"input",115),s(10,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{label:t.target.value}))}),o()()}if(r&2){let e=m();i(2),x(d(3,5,"smartReport.imageUrl")),i(2),b("value",e.staticContent||""),i(3),x(d(8,7,"smartReport.altText")),i(2),b("value",e.label||"")("placeholder",d(10,9,"smartReport.companyLogo"))}}function Pt(r,c){if(r&1){let e=C();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",120),g("input",function(t){f(e);let p=m(2);return v(p.updateSectionStyle("padding",t.target.value))}),o()()}if(r&2){let e=m();i(2),x(d(3,2,"smartReport.heightPx")),i(2),b("value",(e.style==null?null:e.style.padding)||16)}}function Vt(r,c){if(r&1){let e=C();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",121),g("input",function(t){f(e);let p=m(2);return v(p.updateStyleColor(t.target.value))}),o()()}if(r&2){let e=m();i(2),x(d(3,2,"smartReport.color")),i(2),b("value",(e.style==null?null:e.style.color)||"#E5E7EB")}}function Dt(r,c){if(r&1){let e=C();n(0,"button",124),g("click",function(){let t=f(e).$implicit,p=m(3);return v(p.updateTextAlign(t))}),n(1,"mat-icon",72),l(2),o()()}if(r&2){let e=c.$implicit,a=m(2);I("bg-indigo-50",(a.style==null?null:a.style.textAlign)===e)("border-indigo-300",(a.style==null?null:a.style.textAlign)===e),i(2),_("format_align_",e,"")}}function Nt(r,c){if(r&1){let e=C();n(0,"div",114)(1,"h4",39),l(2),s(3,"transloco"),o(),n(4,"div")(5,"label",88),l(6),s(7,"transloco"),o(),n(8,"div",82),L(9,Dt,3,5,"button",122,X),o()(),n(11,"div")(12,"label",88),l(13),s(14,"transloco"),o(),n(15,"input",123),g("input",function(t){f(e);let p=m(2);return v(p.updateFontSize(+t.target.value))}),o()(),n(16,"div")(17,"label",88),l(18),s(19,"transloco"),o(),n(20,"div",82)(21,"button",124),g("click",function(){f(e);let t=m(2);return v(t.updateFontWeight("normal"))}),l(22),s(23,"transloco"),o(),n(24,"button",125),g("click",function(){f(e);let t=m(2);return v(t.updateFontWeight("bold"))}),l(25),s(26,"transloco"),o()()(),n(27,"div",4)(28,"label",57),l(29),s(30,"transloco"),o(),n(31,"input",126),g("input",function(t){f(e);let p=m(2);return v(p.updateStyleColor(t.target.value))}),o()()()}if(r&2){let e=m();i(2),_(" ",d(3,17,"smartReport.style")," "),i(4),x(d(7,19,"smartReport.textAlign")),i(3),M(Y(31,tt)),i(4),x(d(14,21,"smartReport.fontSize")),i(2),b("value",(e.style==null?null:e.style.fontSize)||14),i(3),x(d(19,23,"smartReport.fontWeight")),i(3),I("bg-indigo-50",(e.style==null?null:e.style.fontWeight)!=="bold")("border-indigo-300",(e.style==null?null:e.style.fontWeight)!=="bold"),i(),_(" ",d(23,25,"smartReport.normal")," "),i(2),I("bg-indigo-50",(e.style==null?null:e.style.fontWeight)==="bold")("border-indigo-300",(e.style==null?null:e.style.fontWeight)==="bold"),i(),_(" ",d(26,27,"smartReport.bold")," "),i(4),x(d(30,29,"smartReport.textColor")),i(2),b("value",(e.style==null?null:e.style.color)||"#111827")}}function Lt(r,c){if(r&1){let e=C();n(0,"div",14)(1,"div",111)(2,"h3",56),l(3),s(4,"transloco"),o(),n(5,"button",112),g("click",function(){f(e);let t=m();return v(t.selectedSection.set(null))}),n(6,"mat-icon",97),l(7,"close"),o()()(),n(8,"div",113),k(9,Bt,6,7,"div")(10,Tt,6,7,"div")(11,Et,15,17)(12,It,14,14)(13,Ft,11,11)(14,Pt,5,4,"div")(15,Vt,5,4,"div")(16,Nt,32,32,"div",114),o()()}if(r&2){let e=c,a=m();i(3),O(" ",d(4,10,"smartReport.edit")," ",a.getSectionLabel(e.type)," "),i(6),h(e.type==="header"?9:-1),i(),h(e.type==="text"?10:-1),i(),h(e.type==="field"?11:-1),i(),h(e.type==="table"?12:-1),i(),h(e.type==="image"?13:-1),i(),h(e.type==="spacer"?14:-1),i(),h(e.type==="divider"?15:-1),i(),h(e.type==="header"||e.type==="text"||e.type==="field"?16:-1)}}var fi=(()=>{class r{constructor(){this._route=E(ae),this._router=E(le),this._fb=E(Ne),this._snack=E(Oe),this._reportService=E(Ue),this._dialog=E(se),this._previewDataService=E(qe),this._transloco=E(he),this.configId=R(null),this.templateId=R(null),this.template=R(null),this.isLoading=R(!1),this.isSaving=R(!1),this.isSendingSample=R(!1),this.logoUrl=R(null),this.sections=R([]),this.selectedSection=R(null),this.currentSelectedSection=U(()=>{let e=this.selectedSection();return e?this.sections().find(a=>a.id===e.id)??null:null}),this.sectionTypes=[{type:"header",labelKey:"smartReport.sectionHeader",icon:"title"},{type:"text",labelKey:"smartReport.sectionText",icon:"notes"},{type:"field",labelKey:"smartReport.sectionField",icon:"data_object"},{type:"table",labelKey:"smartReport.sectionTable",icon:"table_chart"},{type:"image",labelKey:"smartReport.sectionImage",icon:"image"},{type:"divider",labelKey:"smartReport.sectionDivider",icon:"horizontal_rule"},{type:"spacer",labelKey:"smartReport.sectionSpacer",icon:"space_bar"}],this.previewData=R({batchName:"Background Check - Batch #47",rowIndex:0,inputData:{documentNumber:"1032386359",documentType:"CC",fullName:"JOHN DOE SMITH"},results:{1:{fullName:"JOHN DOE SMITH",firstName:"JOHN",lastName:"DOE SMITH",documentNumber:"1032386359",documentType:"CC",birthDate:"1990-05-15",gender:"Male",nationality:"Colombian",email:"john.doe@example.com",phone:"+57 300 123 4567",address:"Calle 100 #15-20, Bogota"},2:{isValid:!0,score:.95,status:"VERIFIED",verifiedAt:"2026-02-10T14:30:00Z"}}}),this._hasPreviewDataFromNavigation=!1,this.onPreviewSectionClick=e=>{this.selectSection(e)},this.helperDataPaths=U(()=>Xe(this.previewData())),this.templateForm=this._fb.group({name:["",[j.required,j.maxLength(150)]],description:["",j.maxLength(500)],primaryColor:["#4F46E5"],pageSize:["A4"],orientation:["portrait"],pdfEngine:["puppeteer"],legend:[""],showPageNumbers:[!1],pageNumberPosition:["bottom-center"],watermarkEnabled:[!1],watermarkType:["text"],watermarkText:["CONFIDENTIAL"],watermarkOpacity:[.08],watermarkPattern:["single"]})}ngOnInit(){this._applyPreviewDataFromRouterState(),this._route.params.subscribe(e=>{this.configId.set(e.configId),this.templateId.set(e.templateId),this.templateId()?this._loadTemplate():this._initDefaultSections()})}_applyPreviewDataFromRouterState(){let e=this._previewDataService.consumePendingPreviewData();if(e||(e=this._router.getCurrentNavigation()?.extras?.state?.previewData??void 0),e&&(e.inputData||e.results)){let a={batchName:e.batchName??"Batch",rowIndex:e.rowIndex??0,inputData:e.inputData??{},results:e.results??{}};this.previewData.set(a),this._hasPreviewDataFromNavigation=!0}}_loadTemplate(){let e=this.templateId();e&&(this.isLoading.set(!0),this._reportService.getTemplate(e).subscribe({next:a=>{this.template.set(a),this.sections.set(a.sections||[]),!this._hasPreviewDataFromNavigation&&a.sampleData&&(a.sampleData.inputData||a.sampleData.results)&&this.previewData.set({batchName:a.sampleData.batchName??"Batch",rowIndex:a.sampleData.rowIndex??0,inputData:a.sampleData.inputData??{},results:a.sampleData.results??{}}),this.templateForm.patchValue({name:a.name,description:a.description,primaryColor:a.primaryColor||"#4F46E5",pageSize:a.pageSize||"A4",orientation:a.orientation||"portrait",pdfEngine:a.pdfEngine||"puppeteer",legend:a.legend||"",showPageNumbers:a.showPageNumbers||!1,pageNumberPosition:a.pageNumberPosition||"bottom-center",watermarkEnabled:a.watermark?.enabled||!1,watermarkType:a.watermark?.type||"text",watermarkText:a.watermark?.text||"CONFIDENTIAL",watermarkOpacity:a.watermark?.opacity??.08,watermarkPattern:a.watermark?.pattern||"single"}),this.logoUrl.set(a.logo||null),this.isLoading.set(!1)},error:a=>{console.error("Failed to load template:",a),this.isLoading.set(!1),this._snack.open("Failed to load template","Close",{duration:3e3})}}))}_initDefaultSections(){this.sections.set([{id:this._generateId(),type:"header",order:0,label:"Verification Report",staticContent:"Verification Report",style:{fontSize:22,fontWeight:"bold",textAlign:"center"}},{id:this._generateId(),type:"divider",order:1,style:{color:"#4F46E5"}},{id:this._generateId(),type:"field",order:2,label:"Document Number",dataPath:"results.1.documentNumber"},{id:this._generateId(),type:"field",order:3,label:"Full Name",dataPath:"results.1.fullName"}])}onDrop(e){let a=[...this.sections()];He(a,e.previousIndex,e.currentIndex),a.forEach((t,p)=>t.order=p),this.sections.set(a)}addSection(e){let a={header:{staticContent:"Section Title",style:{fontSize:18,fontWeight:"bold",textAlign:"left"}},text:{staticContent:"Enter your text here...",style:{fontSize:12}},field:{label:"New Field",dataPath:""},table:{label:"Data Table",dataPath:"results.1"},image:{staticContent:"",style:{textAlign:"center"}},divider:{style:{color:this.templateForm.get("primaryColor")?.value||"#4F46E5"}},spacer:{style:{padding:"16"}}},t=B({id:this._generateId(),type:e,order:this.sections().length},a[e]);this.sections.update(p=>[...p,t]),this.selectSection(t)}selectSection(e){this.selectedSection.set(B({},e))}updateSection(e,a){this.sections.update(p=>p.map(u=>u.id===e?B(B({},u),a):u));let t=this.selectedSection();t?.id===e&&this.selectedSection.set(B(B({},t),a))}deleteSection(e){this.sections.update(a=>{let t=a.filter(p=>p.id!==e);return t.forEach((p,u)=>p.order=u),t}),this.selectedSection()?.id===e&&this.selectedSection.set(null)}duplicateSection(e){let a=A(B({},e),{id:this._generateId(),order:this.sections().length,label:e.label?e.label+" (copy)":void 0});this.sections.update(t=>[...t,a])}updateSectionStyle(e,a){let t=this.currentSelectedSection();t&&this.updateSection(t.id,{style:A(B({},t.style),{[e]:a})})}updateTextAlign(e){this.updateSectionStyle("textAlign",e)}updateFontSize(e){this.updateSectionStyle("fontSize",e)}updateFontWeight(e){this.updateSectionStyle("fontWeight",e)}updateStyleColor(e){this.updateSectionStyle("color",e)}updateBgColor(e){this.updateSectionStyle("backgroundColor",e)}save(){if(this.templateForm.invalid){this._snack.open("Please fill in all required fields","Close",{duration:3e3});return}this.isSaving.set(!0);let e=this.templateForm.value,a=A(B({},e),{sections:this.sections(),batchConfiguration:this.configId()||void 0,sampleData:this.previewData(),logo:this.logoUrl()||void 0,watermark:{enabled:e.watermarkEnabled??!1,type:e.watermarkType||"text",text:e.watermarkText||"CONFIDENTIAL",opacity:e.watermarkOpacity??.08,pattern:e.watermarkPattern||"single"}});delete a.watermarkEnabled,delete a.watermarkType,delete a.watermarkText,delete a.watermarkOpacity,delete a.watermarkPattern;let t=this.templateId();t?this._reportService.updateTemplate(t,a).subscribe({next:()=>{this._snack.open("Template saved!","Close",{duration:3e3}),this.isSaving.set(!1)},error:p=>{console.error("Save failed:",p),this._snack.open("Failed to save template","Close",{duration:3e3}),this.isSaving.set(!1)}}):this._reportService.createTemplate(a).subscribe({next:p=>{this._snack.open("Template created!","Close",{duration:3e3}),this.isSaving.set(!1),this._router.navigate(["/smart-batch",this.configId(),"report-builder",p._id])},error:p=>{console.error("Create failed:",p),this._snack.open("Failed to create template","Close",{duration:3e3}),this.isSaving.set(!1)}})}sendSample(){let e=this.templateId();if(!e){this._snack.open(this._transloco.translate("smartReport.saveTemplateFirst"),"Close",{duration:3500});return}let a=`Sample Report: ${this.templateForm.get("name")?.value||"Template Preview"}`;this._dialog.open(Qe,{panelClass:"send-sample-dialog",maxWidth:"560px",width:"95vw",disableClose:!1,autoFocus:!0,data:{defaultSubject:a,isSample:!0}}).afterClosed().subscribe(p=>{p?.recipients?.length&&(this.isSendingSample.set(!0),this._reportService.sendTemplateSample(e,{recipients:p.recipients,subject:p.subject,language:"en",sampleData:this.previewData()}).subscribe({next:u=>{u.success?this._snack.open(this._transloco.translate("smartReport.samplePdfSentSuccess"),"Close",{duration:3500}):this._snack.open(u.error||this._transloco.translate("smartReport.failedToSendSamplePdf"),"Close",{duration:4e3}),this.isSendingSample.set(!1)},error:u=>{console.error("Send sample failed:",u),this._snack.open(this._transloco.translate("smartReport.failedToSendSamplePdf"),"Close",{duration:4e3}),this.isSendingSample.set(!1)}}))})}goBack(){let e=this.configId();e?this._router.navigate(["/smart-batch",e]):this._router.navigate(["/smart-batch"])}getSectionIcon(e){return this.sectionTypes.find(a=>a.type===e)?.icon||"help"}getSectionLabel(e){let a=this.sectionTypes.find(t=>t.type===e)?.labelKey;return a?this._transloco.translate(a):e}copyPathToClipboard(e){navigator.clipboard.writeText(e).then(()=>this._snack.open(`${this._transloco.translate("smartReport.copied")}: ${e}`,"Close",{duration:2e3}),()=>this._snack.open(this._transloco.translate("smartReport.failedToCopy"),"Close",{duration:2e3}))}onLogoUpload(e){let t=e.target.files?.[0];if(!t)return;if(t.size>512e3){this._snack.open("Logo file must be less than 500KB","Close",{duration:3500});return}let p=new FileReader;p.onload=()=>{this.logoUrl.set(p.result)},p.readAsDataURL(t)}removeLogo(){this.logoUrl.set(null)}_generateId(){return"section_"+Math.random().toString(36).substring(2,11)}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=Q({type:r,selectors:[["report-builder"]],decls:150,vars:109,consts:[[1,"min-h-screen","w-full","bg-gray-50"],[1,"bg-white","border-b","border-gray-200","sticky","top-0","z-20"],[1,"max-w-[1600px]","mx-auto","px-4","sm:px-6","lg:px-8","py-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],["mat-icon-button","",3,"click","matTooltip"],[1,"text-lg","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],["mat-stroked-button","",1,"!rounded-xl",3,"click","disabled","matTooltip"],[1,"inline-flex","items-center","gap-2"],["mat-flat-button","",1,"!rounded-xl","!bg-indigo-600","!text-white",3,"click","disabled"],[1,"max-w-[1600px]","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"flex","gap-6","items-start"],[1,"w-full","lg:w-[440px]","shrink-0","space-y-4"],[1,"bg-white","rounded-2xl","border","border-gray-200","p-5"],[1,"text-sm","font-semibold","text-gray-900","mb-4"],[1,"space-y-4",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","name",3,"placeholder"],[1,"grid","grid-cols-3","gap-3"],["appearance","outline"],["formControlName","pageSize"],["value","A4"],["value","Letter"],["value","Legal"],["formControlName","orientation"],["value","portrait"],["value","landscape"],["formControlName","pdfEngine"],["value","puppeteer"],["value","pdfkit"],[1,"flex","items-center","gap-4"],[1,"text-sm","text-gray-600"],["type","color","formControlName","primaryColor",1,"w-9","h-9","rounded-lg","border","border-gray-200","cursor-pointer"],[1,"pt-3","border-t","border-gray-100"],[1,"text-xs","font-medium","text-gray-500","mb-2","block"],[1,"text-xs","font-medium","text-gray-500","mb-1","block"],["formControlName","legend","rows","2",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-xs","text-gray-600","resize-none",3,"placeholder"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-xs","font-medium","text-gray-500"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox","formControlName","showPageNumbers",1,"sr-only","peer"],[1,"w-9","h-5","bg-gray-200","peer-focus:outline-none","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-4","after:w-4","after:transition-all","peer-checked:bg-indigo-600"],["appearance","outline",1,"w-full","!text-xs"],["type","checkbox","formControlName","watermarkEnabled",1,"sr-only","peer"],[1,"space-y-3"],[1,"bg-white","rounded-2xl","border","border-gray-200","p-4"],[1,"text-sm","font-semibold","text-gray-900","mb-2"],[1,"text-xs","text-gray-500","mb-3"],[1,"text-xs","text-gray-400","italic"],[1,"max-h-[240px]","overflow-y-auto","space-y-1","pr-1"],[1,"text-sm","font-semibold","text-gray-900","mb-3"],[1,"flex","flex-wrap","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-2","rounded-lg","border","border-gray-200","hover:border-indigo-300","hover:bg-indigo-50","transition-colors","text-sm","text-gray-700"],[1,"bg-white","rounded-2xl","border","border-gray-200"],[1,"px-5","py-3","border-b","border-gray-100","flex","items-center","justify-between"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-xs","text-gray-400"],[1,"text-xs","font-medium","text-gray-400"],["cdkDropList","",1,"p-3","min-h-[200px]",3,"cdkDropListDropped"],[1,"flex","flex-col","items-center","justify-center","h-40","text-gray-300"],["cdkDrag","",1,"flex","items-center","gap-2","bg-white","border","rounded-lg","px-3","py-2.5","mb-2","cursor-pointer","hover:border-indigo-300","transition-colors","group",3,"ring-2","ring-indigo-500","bg-indigo-50"],[1,"flex-1","min-w-0"],[1,"sticky","top-20"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","font-semibold","text-gray-500"],[3,"template","previewData","primaryColor","orientation","clickable","selectedSectionId","sectionClick","logoUrl","legend","showPageNumbers","pageNumberPosition","watermarkEnabled","watermarkType","watermarkText","watermarkOpacity","watermarkPattern"],[1,"animate-spin","!text-lg"],[1,"!text-lg"],["alt","Logo",1,"h-10","max-w-[160px]","object-contain","rounded","border","border-gray-200","bg-gray-50","p-1",3,"src"],["type","button",1,"text-xs","text-red-500","hover:text-red-700","transition-colors",3,"click"],[1,"inline-flex","items-center","gap-2","px-3","py-2","rounded-lg","border","border-dashed","border-gray-300","hover:border-indigo-300","hover:bg-indigo-50","transition-colors","cursor-pointer","text-sm","text-gray-500"],[1,"!text-base"],["type","file","accept","image/png,image/jpeg,image/svg+xml,image/webp",1,"hidden",3,"change"],[1,"text-xs","text-gray-400","mt-1"],["formControlName","pageNumberPosition"],["value","top-left"],["value","top-center"],["value","top-right"],["value","bottom-left"],["value","bottom-center"],["value","bottom-right"],[1,"flex","gap-1"],["type","button",1,"flex-1","py-2","rounded-lg","border","text-xs","transition-colors",3,"click"],[1,"text-xs","text-amber-500"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","text-gray-500","font-mono"],["type","range","formControlName","watermarkOpacity","min","0.01","max","0.5","step","0.01",1,"w-full","h-1.5","bg-gray-200","rounded-lg","appearance-none","cursor-pointer","accent-indigo-600"],[1,"text-xs","text-gray-400","mb-1","block"],["type","text","formControlName","watermarkText","maxlength","100",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-xs",3,"placeholder"],[1,"group","flex","items-center","gap-2","py-1.5","px-2","rounded","hover:bg-gray-50","text-xs"],[1,"group","flex","items-center","gap-2","pt-1.5","pb-0.5"],[1,"flex-1","min-w-0","truncate","text-gray-700","font-mono"],[1,"text-gray-400","truncate","max-w-[120px]",3,"title"],["mat-icon-button","",1,"!w-6","!h-6","!rounded","opacity-0","group-hover:opacity-100","transition-opacity",3,"click","matTooltip"],[1,"!text-sm","!w-4","!h-4"],[1,"inline-flex","items-center","gap-1.5","px-3","py-2","rounded-lg","border","border-gray-200","hover:border-indigo-300","hover:bg-indigo-50","transition-colors","text-sm","text-gray-700",3,"click"],[1,"!text-base","text-gray-400"],[1,"!text-4xl","!w-10","!h-10","mb-2"],[1,"text-sm"],["cdkDrag","",1,"flex","items-center","gap-2","bg-white","border","rounded-lg","px-3","py-2.5","mb-2","cursor-pointer","hover:border-indigo-300","transition-colors","group",3,"click"],["cdkDragHandle","",1,"shrink-0","w-6","h-6","rounded","flex","items-center","justify-center","cursor-grab","text-gray-300","hover:text-gray-500"],[1,"!text-sm"],[1,"shrink-0","w-7","h-7","rounded-md","flex","items-center","justify-center"],[1,"min-w-0","flex-1"],[1,"text-sm","font-medium","text-gray-800","truncate"],[1,"text-xs","text-gray-400","truncate"],[1,"shrink-0","flex","items-center","gap-0.5","opacity-0","group-hover:opacity-100","transition-opacity"],["mat-icon-button","",1,"!w-7","!h-7",3,"click","matTooltip"],[1,"!text-sm","text-gray-400"],[1,"!text-sm","text-red-400"],[1,"flex","items-center","justify-between","mb-4"],["mat-icon-button","",1,"!w-7","!h-7",3,"click"],[1,"space-y-4"],[1,"pt-3","border-t","border-gray-100","space-y-3"],["type","text",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value","placeholder"],["rows","4",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value","placeholder"],["type","text",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm","font-mono",3,"input","value","placeholder"],["type","text","placeholder","results.1",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm","font-mono",3,"input","value"],["type","text","placeholder","https://example.com/logo.png",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm","font-mono",3,"input","value"],["type","number","min","4","max","200",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value"],["type","color",1,"w-9","h-9","rounded-lg","border","border-gray-200","cursor-pointer",3,"input","value"],[1,"flex-1","py-2","rounded-lg","border","text-sm","transition-colors",3,"bg-indigo-50","border-indigo-300"],["type","number","min","8","max","72",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value"],[1,"flex-1","py-2","rounded-lg","border","text-sm","transition-colors",3,"click"],[1,"flex-1","py-2","rounded-lg","border","text-sm","font-bold","transition-colors",3,"click"],["type","color",1,"w-8","h-8","rounded","border","border-gray-200","cursor-pointer",3,"input","value"]],template:function(a,t){if(a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),s(6,"transloco"),g("click",function(){return t.goBack()}),n(7,"mat-icon"),l(8,"arrow_back"),o()(),n(9,"div")(10,"h1",6),l(11),s(12,"transloco"),o(),n(13,"p",7),l(14),s(15,"transloco"),o()()(),n(16,"div",4)(17,"button",8),s(18,"transloco"),g("click",function(){return t.sendSample()}),n(19,"span",9),k(20,rt,4,3)(21,at,4,3),o()(),n(22,"button",10),g("click",function(){return t.save()}),n(23,"span",9),k(24,lt,4,3)(25,pt,4,3),o()()()()()(),n(26,"div",11)(27,"div",12)(28,"div",13)(29,"div",14)(30,"h3",15),l(31),s(32,"transloco"),o(),n(33,"form",16)(34,"mat-form-field",17)(35,"mat-label"),l(36),s(37,"transloco"),o(),T(38,"input",18),s(39,"transloco"),o(),n(40,"div",19)(41,"mat-form-field",20)(42,"mat-label"),l(43),s(44,"transloco"),o(),n(45,"mat-select",21)(46,"mat-option",22),l(47,"A4"),o(),n(48,"mat-option",23),l(49,"Letter"),o(),n(50,"mat-option",24),l(51,"Legal"),o()()(),n(52,"mat-form-field",20)(53,"mat-label"),l(54),s(55,"transloco"),o(),n(56,"mat-select",25)(57,"mat-option",26),l(58),s(59,"transloco"),o(),n(60,"mat-option",27),l(61),s(62,"transloco"),o()()(),n(63,"mat-form-field",20)(64,"mat-label"),l(65),s(66,"transloco"),o(),n(67,"mat-select",28)(68,"mat-option",29),l(69,"Puppeteer"),o(),n(70,"mat-option",30),l(71,"PDFKit"),o()()()(),n(72,"div",31)(73,"label",32),l(74),s(75,"transloco"),o(),T(76,"input",33),o(),n(77,"div",34)(78,"label",35),l(79),s(80,"transloco"),o(),k(81,st,5,4,"div",4)(82,dt,8,3),o(),n(83,"div",34)(84,"label",36),l(85),s(86,"transloco"),o(),T(87,"textarea",37),s(88,"transloco"),o(),n(89,"div",34)(90,"div",38)(91,"label",39),l(92),s(93,"transloco"),o(),n(94,"label",40),T(95,"input",41)(96,"div",42),o()(),k(97,mt,17,3,"mat-form-field",43),o(),n(98,"div",34)(99,"div",38)(100,"label",39),l(101),s(102,"transloco"),o(),n(103,"label",40),T(104,"input",44)(105,"div",42),o()(),k(106,_t,30,40,"div",45),o()()(),n(107,"div",46)(108,"h3",47),l(109),s(110,"transloco"),o(),n(111,"p",48),l(112),s(113,"transloco"),o(),k(114,xt,3,3,"p",49)(115,bt,3,0,"div",50),o(),n(116,"div",46)(117,"h3",51),l(118),s(119,"transloco"),o(),n(120,"div",52),L(121,ht,5,4,"button",53,it),o()(),n(123,"div",54)(124,"div",55)(125,"div")(126,"h3",56),l(127),s(128,"transloco"),o(),n(129,"p",57),l(130),s(131,"transloco"),o()(),n(132,"span",58),l(133),s(134,"transloco"),o()(),n(135,"div",59),g("cdkDropListDropped",function(u){return t.onDrop(u)}),k(136,Ct,6,3,"div",60),L(137,Rt,24,19,"div",61,nt),o()(),k(139,Lt,17,12,"div",14),o(),n(140,"div",62)(141,"div",63)(142,"div",64)(143,"h3",65),l(144),s(145,"transloco"),o(),n(146,"span",57),l(147),s(148,"transloco"),o()(),T(149,"report-preview",66),o()()()()()),a&2){let p,u,S,w,P,V,F,D,y,K,W,G,J,N,q;i(5),b("matTooltip",d(6,54,"smartReport.back")),i(6),_(" ",d(12,56,t.templateId()?"smartReport.editReportTemplate":"smartReport.newReportTemplate")," "),i(3),_(" ",d(15,58,"smartReport.designReportLayout")," "),i(3),b("disabled",!t.templateId()||t.isSendingSample())("matTooltip",t.templateId()?"":d(18,60,"smartReport.saveTemplateFirst")),i(3),h(t.isSendingSample()?20:21),i(2),b("disabled",t.isSaving()),i(2),h(t.isSaving()?24:25),i(7),_(" ",d(32,62,"smartReport.templateSettings")," "),i(2),b("formGroup",t.templateForm),i(3),x(d(37,64,"smartReport.templateName")),i(2),b("placeholder",d(39,66,"smartReport.templateNamePlaceholder")),i(5),x(d(44,68,"smartReport.pageSize")),i(11),x(d(55,70,"smartReport.orientation")),i(4),x(d(59,72,"smartReport.portrait")),i(3),x(d(62,74,"smartReport.landscape")),i(4),x(d(66,76,"smartReport.pdfEngine")),i(9),_("",d(75,78,"smartReport.primaryColor"),":"),i(5),x(d(80,80,"smartReport.workspaceLogo")),i(2),h(t.logoUrl()?81:82),i(4),x(d(86,82,"smartReport.footerLegend")),i(2),b("placeholder",d(88,84,"smartReport.footerLegendPlaceholder")),i(5),x(d(93,86,"smartReport.pageNumbers")),i(5),h((p=t.templateForm.get("showPageNumbers"))!=null&&p.value?97:-1),i(4),x(d(102,88,"smartReport.watermark")),i(5),h((u=t.templateForm.get("watermarkEnabled"))!=null&&u.value?106:-1),i(3),_(" ",d(110,90,"smartReport.helperData")," "),i(3),_(" ",d(113,92,"smartReport.helperDataHint")," "),i(2),h(t.helperDataPaths().length===0?114:115),i(4),_(" ",d(119,94,"smartReport.addSections")," "),i(3),M(t.sectionTypes),i(6),_(" ",d(128,96,"smartReport.reportLayout")," "),i(3),_(" ",d(131,98,"smartReport.dragToReorder")," "),i(3),O("",t.sections().length," ",d(134,100,"smartReport.sections"),""),i(3),h(t.sections().length===0?136:-1),i(),M(t.sections()),i(2),h((S=t.currentSelectedSection())?139:-1,S),i(5),_(" ",d(145,102,"smartReport.preview")," "),i(3),x(d(148,104,"smartReport.livePreviewWithSample")),i(2),b("template",te(106,Ye,t.sections(),(w=t.templateForm.get("primaryColor"))==null?null:w.value))("previewData",t.previewData())("primaryColor",((P=t.templateForm.get("primaryColor"))==null?null:P.value)||"#4F46E5")("orientation",((V=t.templateForm.get("orientation"))==null?null:V.value)||"portrait")("clickable",!0)("selectedSectionId",(F=(F=t.currentSelectedSection())==null?null:F.id)!==null&&F!==void 0?F:null)("sectionClick",t.onPreviewSectionClick)("logoUrl",t.logoUrl())("legend",((D=t.templateForm.get("legend"))==null?null:D.value)||"")("showPageNumbers",((y=t.templateForm.get("showPageNumbers"))==null?null:y.value)||!1)("pageNumberPosition",((K=t.templateForm.get("pageNumberPosition"))==null?null:K.value)||"bottom-center")("watermarkEnabled",((W=t.templateForm.get("watermarkEnabled"))==null?null:W.value)||!1)("watermarkType",((G=t.templateForm.get("watermarkType"))==null?null:G.value)||"text")("watermarkText",((J=t.templateForm.get("watermarkText"))==null?null:J.value)||"CONFIDENTIAL")("watermarkOpacity",(N=(N=t.templateForm.get("watermarkOpacity"))==null?null:N.value)!==null&&N!==void 0?N:.08)("watermarkPattern",((q=t.templateForm.get("watermarkPattern"))==null?null:q.value)||"single")}},dependencies:[re,oe,ne,pe,Le,Ie,Be,Fe,Re,Te,Ee,De,Pe,Ve,Je,Ge,We,Ke,fe,ge,xe,de,be,ve,_e,ue,ce,Ae,Me,ze,$e,me,we,Se,je,ye,Ce,Ze],encapsulation:2,data:{animation:[ke]}})}}return r})();export{fi as ReportBuilderComponent};
