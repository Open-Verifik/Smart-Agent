import{g as ft,h as Vt,i as At}from"./chunk-ZGPWI5BN.js";import{a as jt}from"./chunk-GZ4MYTHS.js";import{a as tt}from"./chunk-7BFAL4VN.js";import"./chunk-7RWCIHFI.js";import{a as Rt,b as Nt}from"./chunk-SWK5UODZ.js";import{a as vt,b as yt}from"./chunk-QWZJKSYX.js";import{b as Ke,d as et}from"./chunk-RZDHA4DS.js";import{Aa as Tt,Ba as Et,C as st,Ca as It,Da as Bt,E as Be,Ea as Dt,H as G,Ia as Ft,Ja as Mt,Ka as Pt,U as lt,V as J,W as dt,X as De,f as fe,fa as ct,ga as pt,h as Ie,ha as mt,ia as ut,k as nt,ka as gt,la as _t,oa as wt,qa as V,r as rt,s as ot,sa as kt,ta as Ct,w as at,xa as St}from"./chunk-OOCZQQMM.js";import{k as it}from"./chunk-KOOUHCQR.js";import{a as ht,b as bt,c as xt}from"./chunk-KXKVTZCA.js";import{$ as de,$b as B,$c as Ye,Aa as ie,B as Z,D as ze,Da as me,Db as Te,Eb as m,F as Ue,Fb as ge,G as ke,Ga as Ge,Gb as S,Hc as Y,J as Le,La as We,Lb as re,Qa as Se,Qb as a,Rb as r,Rc as _e,Sb as v,T as z,Tb as R,Ub as N,V as k,Wb as w,Yb as y,Zb as g,_ as le,_b as U,_c as He,ac as oe,ad as Je,ba as ce,bb as Qe,bc as Ee,cc as L,da as $e,dc as $,ea as x,f as M,fb as o,hc as s,ic as C,jb as qe,jc as p,kb as I,kc as Ze,l as T,ld as Xe,p as E,pa as h,qa as b,qc as H,rb as P,sb as ue,ta as pe,va as Ce,vb as ne,w as je,xb as f,y as Oe,yc as l,z as q,za as te,zc as d}from"./chunk-S7YYVX2B.js";import{a as Q}from"./chunk-GAL4ENT6.js";var Fe=class{_document;_textarea;constructor(u,e){this._document=e;let t=this._textarea=this._document.createElement("textarea"),i=t.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",t.setAttribute("aria-hidden","true"),t.value=u,t.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(t)}copy(){let u=this._textarea,e=!1;try{if(u){let t=this._document.activeElement;u.select(),u.setSelectionRange(0,u.value.length),e=this._document.execCommand("copy"),t&&t.focus()}}catch{}return e}destroy(){let u=this._textarea;u&&(u.remove(),this._textarea=void 0)}},Ot=(()=>{class n{_document=x(_e);constructor(){}copy(e){let t=this.beginCopy(e),i=t.copy();return t.destroy(),i}beginCopy(e){return new Fe(e,this._document)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=de({})}return n})();var xe=["*"],qt=["content"],Zt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ht=["mat-drawer","mat-drawer-content","*"];function Yt(n,u){if(n&1){let e=w();a(0,"div",1),y("click",function(){h(e);let i=g();return b(i._onBackdropClicked())}),r()}if(n&2){let e=g();S("mat-drawer-shown",e._isShowingBackdrop())}}function Jt(n,u){n&1&&(a(0,"mat-drawer-content"),B(1,2),r())}var Xt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Kt=["mat-sidenav","mat-sidenav-content","*"];function ei(n,u){if(n&1){let e=w();a(0,"div",1),y("click",function(){h(e);let i=g();return b(i._onBackdropClicked())}),r()}if(n&2){let e=g();S("mat-drawer-shown",e._isShowingBackdrop())}}function ti(n,u){n&1&&(a(0,"mat-sidenav-content"),B(1,2),r())}var ii=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var ni=new ce("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:ri}),Ae=new ce("MAT_DRAWER_CONTAINER");function ri(){return!1}var he=(()=>{class n extends J{_platform=x(fe);_changeDetectorRef=x(Y);_container=x(Ve);constructor(){let e=x(me),t=x(lt),i=x(ie);super(e,t,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:t}=this._container;return e!=null&&e.mode!=="over"&&e.opened||t!=null&&t.mode!=="over"&&t.opened}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(t,i){t&2&&(ge("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),S("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[H([{provide:J,useExisting:n}]),ne],ngContentSelectors:xe,decls:1,vars:0,template:function(t,i){t&1&&(U(),B(0))},encapsulation:2,changeDetection:0})}return n})(),Pe=(()=>{class n{_elementRef=x(me);_focusTrapFactory=x(ot);_focusMonitor=x(nt);_platform=x(fe);_ngZone=x(ie);_renderer=x(qe);_interactivityChecker=x(rt);_doc=x(_e,{optional:!0});_container=x(Ae,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=G(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=G(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(G(e))}_opened=!1;_openedVia;_animationStarted=new M;_animationEnd=new M;openedChange=new te(!0);_openedStream=this.openedChange.pipe(q(e=>e),E(()=>{}));openedStart=this._animationStarted.pipe(q(()=>this.opened),ke(void 0));_closedStream=this.openedChange.pipe(q(e=>!e),E(()=>{}));closedStart=this._animationStarted.pipe(q(()=>!this.opened),ke(void 0));_destroyed=new M;onPositionChanged=new te;_content;_modeChanged=new M;_injector=x(Ce);_changeDetectorRef=x(Y);constructor(){this.openedChange.pipe(k(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;je(e,"keydown").pipe(q(t=>t.keyCode===27&&!this.disableClose&&!at(t)),k(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{c(),_(),e.removeAttribute("tabindex")},c=this._renderer.listen(e,"blur",i),_=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Se(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);let i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,t,i){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&t&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(Ue(1)).subscribe(_=>c(_?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,i=t.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,t)),i.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}_handleTransitionEvent=e=>{let t=this._elementRef.nativeElement;e.target===t&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(t&1&&Ee(qt,5),t&2){let c;L(c=$())&&(i._content=c.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){t&2&&(Te("align",null)("tabIndex",i.mode!=="side"?"-1":null),ge("visibility",!i._container&&!i.opened?"hidden":null),S("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:xe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(U(),a(0,"div",1,0),B(2),r())},dependencies:[J],encapsulation:2,changeDetection:0})}return n})(),Ve=(()=>{class n{_dir=x(st,{optional:!0});_element=x(me);_ngZone=x(ie);_changeDetectorRef=x(Y);_animationMode=x(We,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new Ge;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=G(e)}_autosize=x(ni);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:G(e)}_backdropOverride;backdropClick=new te;_start;_end;_left;_right;_destroyed=new M;_doCheckSubject=new M;_contentMargins={left:null,right:null};_contentMarginChanges=new M;get scrollable(){return this._userContent||this._content}_injector=x(Ce);constructor(){let e=x(fe),t=x(dt);this._dir?.change.pipe(k(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),t.change().pipe(k(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(z(this._allDrawers),k(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(z(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ze(10),k(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();e+=i,t-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();t+=i,e-=i}}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(k(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(k(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(k(this._drawers.changes)).subscribe(()=>{Se({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(k(Oe(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=P({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,c){if(t&1&&(oe(c,he,5),oe(c,Pe,5)),t&2){let _;L(_=$())&&(i._content=_.first),L(_=$())&&(i._allDrawers=_)}},viewQuery:function(t,i){if(t&1&&Ee(he,5),t&2){let c;L(c=$())&&(i._userContent=c.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){t&2&&S("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[H([{provide:Ae,useExisting:n}])],ngContentSelectors:Ht,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(U(Zt),f(0,Yt,1,2,"div",0),B(1),B(2,1),f(3,Jt,2,0,"mat-drawer-content")),t&2&&(re(i.hasBackdrop?0:-1),o(3),re(i._content?-1:3))},dependencies:[he],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),be=(()=>{class n extends he{static \u0275fac=(()=>{let e;return function(i){return(e||(e=pe(n)))(i||n)}})();static \u0275cmp=P({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[H([{provide:J,useExisting:n}]),ne],ngContentSelectors:xe,decls:1,vars:0,template:function(t,i){t&1&&(U(),B(0))},encapsulation:2,changeDetection:0})}return n})(),Re=(()=>{class n extends Pe{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=G(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ie(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ie(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=pe(n)))(i||n)}})();static \u0275cmp=P({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(t,i){t&2&&(Te("tabIndex",i.mode!=="side"?"-1":null)("align",null),ge("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),S("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side")("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[H([{provide:Pe,useExisting:n}]),ne],ngContentSelectors:xe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(U(),a(0,"div",1,0),B(2),r())},dependencies:[J],encapsulation:2,changeDetection:0})}return n})(),Ut=(()=>{class n extends Ve{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=pe(n)))(i||n)}})();static \u0275cmp=P({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,c){if(t&1&&(oe(c,be,5),oe(c,Re,5)),t&2){let _;L(_=$())&&(i._content=_.first),L(_=$())&&(i._allDrawers=_)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){t&2&&S("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[H([{provide:Ae,useExisting:n},{provide:Ve,useExisting:n}]),ne],ngContentSelectors:Kt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(U(Xt),f(0,ei,1,2,"div",0),B(1),B(2,1),f(3,ti,2,0,"mat-sidenav-content")),t&2&&(re(i.hasBackdrop?0:-1),o(3),re(i._content?-1:3))},dependencies:[be],styles:[ii],encapsulation:2,changeDetection:0})}return n})(),Lt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ue({type:n});static \u0275inj=de({imports:[Be,De,De,Be]})}return n})();var $t=(()=>{class n{constructor(e){this._httpWrapper=e,this.apiUrl=it.apiUrl}get accessToken(){return localStorage.getItem("accessToken")||""}set accessToken(e){localStorage.setItem("accessToken",e)}renewToken(e=1){if(!this.accessToken)return T(()=>new Error("No access token available"));let t=`${this.apiUrl}/v2/auth/session`,i={origin:"refresh",expiresIn:e.toString()};return this._httpWrapper.sendRequest("get",t,i).pipe(E(c=>(c?.accessToken&&(this.accessToken=c.accessToken),c)),Z(c=>(console.error("[SettingsService] Token renewal failed:",c),T(()=>c))))}revokeAndGenerateNew(){if(!this.accessToken)return T(()=>new Error("No access token available"));let e=`${this.apiUrl}/v2/auth/renew-and-revoke`;return this._httpWrapper.sendRequest("post",e,{}).pipe(E(t=>{let i=t?.token||t?.accessToken;return i&&(this.accessToken=i),t}),Z(t=>(console.error("[SettingsService] Token revocation failed:",t),T(()=>t))))}getMaskedToken(e){if(!e)return"";let t=12;if(e.length<=t*2)return"\u2022".repeat(e.length);let i=e.substring(0,t),c=e.substring(e.length-t),_=e.length-t*2;return`${i}${"\u2022".repeat(Math.min(_,20))}${c}`}getStoredProfile(){let e=localStorage.getItem("verifik_account")||localStorage.getItem("user");return e?JSON.parse(e):null}updateStoredProfile(e){let t=localStorage.getItem("verifik_account")||localStorage.getItem("user"),i=t?JSON.parse(t):{},c=Q(Q({},i),e);localStorage.getItem("verifik_account")?localStorage.setItem("verifik_account",JSON.stringify(c)):localStorage.setItem("user",JSON.stringify(c))}updateProfile(e,t){if(!this.accessToken)return T(()=>new Error("No access token available"));let i=`${this.apiUrl}/v2/clients/${e}`;return this._httpWrapper.sendRequest("put",i,t).pipe(E(c=>(c?.data&&this.updateStoredProfile(c.data),c)),Z(c=>(console.error("[SettingsService] Profile update failed:",c),T(()=>c))))}getBillingConfig(e){if(!this.accessToken)return T(()=>new Error("No access token available"));let t=`${this.apiUrl}/v2/client-settings`,i={where_client:e,findOne:"true"};return this._httpWrapper.sendRequest("get",t,i).pipe(Z(c=>(console.error("[SettingsService] Get billing config failed:",c),T(()=>c))))}saveBillingConfig(e){if(!this.accessToken)return T(()=>new Error("No access token available"));let t=`${this.apiUrl}/v2/client-settings`;return this._httpWrapper.sendRequest("post",t,e).pipe(Z(i=>(console.error("[SettingsService] Save billing config failed:",i),T(()=>i))))}static{this.\u0275fac=function(t){return new(t||n)($e(tt))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function si(n,u){if(n&1&&(a(0,"span",29),s(1),l(2,"transloco"),r()),n&2){let e=g().$implicit;o(),p(" ",d(2,1,e.badge)," ")}}function li(n,u){if(n&1){let e=w();a(0,"button",25),y("click",function(){let i=h(e).$implicit,c=g(2);return b(c.selectPanel(i.id))}),v(1,"mat-icon",26),a(2,"span",27),s(3),l(4,"transloco"),r(),f(5,si,3,3,"span",28),r()}if(n&2){let e=u.$implicit,t=g(2);S("active",t.isPanelSelected(e.id))("disabled",e.disabled),o(),m("svgIcon",e.icon),o(2),C(d(4,7,e.title)),o(2),m("ngIf",e.badge)}}function di(n,u){if(n&1&&(R(0),a(1,"div",21)(2,"h3",22),s(3),l(4,"transloco"),r(),a(5,"div",23),f(6,li,6,9,"button",24),r()(),N()),n&2){let e=u.$implicit,t=u.last;o(),S("mb-0",t),o(2),p(" ",d(4,4,e.title)," "),o(3),m("ngForOf",e.panels)}}function ci(n,u){if(n&1&&(a(0,"div",30)(1,"div",31)(2,"div",32),s(3),r(),a(4,"div",33)(5,"p",34),s(6),r(),a(7,"p",35),s(8),r()()()()),n&2){let e=g();o(3),p(" ",(e.user==null||e.user.name==null?null:e.user.name.charAt(0))||"U"," "),o(3),p(" ",(e.user==null?null:e.user.name)||"User"," "),o(2),p(" ",(e.user==null?null:e.user.email)||(e.user==null?null:e.user.phone)||"Web2 Account"," ")}}function pi(n,u){if(n&1){let e=w();a(0,"div",73)(1,"div",74)(2,"div",75)(3,"mat-icon"),s(4,"check_circle"),r()(),a(5,"div",69)(6,"h3",76),s(7),l(8,"transloco"),r(),a(9,"p",77),s(10),l(11,"transloco"),r()(),a(12,"button",78),y("click",function(){h(e);let i=g(2);return b(i.dismissNewTokenAlert())}),a(13,"mat-icon"),s(14,"close"),r()()()()}n&2&&(o(7),p(" ",d(8,2,"settings.api_key.new_token_generated")," "),o(3),p(" ",d(11,4,"settings.api_key.copy_token_warning")," "))}function mi(n,u){if(n&1){let e=w();a(0,"div",79)(1,"button",80),y("click",function(){h(e);let i=g(2);return b(i.toggleRenewPanel())}),s(2),l(3,"transloco"),a(4,"mat-icon"),s(5,"arrow_forward"),r()()()}n&2&&(o(2),p(" ",d(3,1,"settings.api_key.extend_validity")," "))}function ui(n,u){if(n&1){let e=w();a(0,"button",90),y("click",function(){let i=h(e).$implicit,c=g(3);return b(c.selectedExpiration=i.value)}),s(1),a(2,"span",91),s(3),l(4,"transloco"),r()()}if(n&2){let e=u.$implicit,t=g(3);S("selected",t.selectedExpiration===e.value),o(),p(" ",e.label," "),o(2),C(d(4,4,"settings.api_key.months"))}}function gi(n,u){n&1&&v(0,"mat-spinner",92)}function _i(n,u){if(n&1){let e=w();a(0,"div",81)(1,"div",82)(2,"label",83),s(3),l(4,"transloco"),r(),a(5,"div",84),f(6,ui,5,6,"button",85),r(),a(7,"div",86)(8,"button",87),y("click",function(){h(e);let i=g(2);return b(i.toggleRenewPanel())}),s(9),l(10,"transloco"),r(),a(11,"button",88),y("click",function(){h(e);let i=g(2);return b(i.renewToken())}),f(12,gi,1,0,"mat-spinner",89),s(13),l(14,"transloco"),l(15,"transloco"),r()()()()}if(n&2){let e=g(2);o(3),p(" ",d(4,7,"settings.api_key.select_expiration")," "),o(3),m("ngForOf",e.expirationOptions),o(2),m("disabled",e.isRenewing),o(),p(" ",d(10,9,"settings.api_key.cancel")," "),o(2),m("disabled",e.isRenewing),o(),m("ngIf",e.isRenewing),o(),p(" ",e.isRenewing?d(14,11,"settings.api_key.renewing"):d(15,13,"settings.api_key.renew_now")," ")}}function fi(n,u){if(n&1){let e=w();a(0,"div",79)(1,"button",93),y("click",function(){h(e);let i=g(2);return b(i.toggleRevokeConfirm())}),s(2),l(3,"transloco"),a(4,"mat-icon"),s(5,"arrow_forward"),r()()()}n&2&&(o(2),p(" ",d(3,1,"settings.api_key.revoke_all")," "))}function hi(n,u){n&1&&v(0,"mat-spinner",92)}function bi(n,u){if(n&1){let e=w();a(0,"div",94)(1,"div",82)(2,"div",95)(3,"mat-icon",96),s(4,"warning"),r(),a(5,"div")(6,"p",97),s(7),l(8,"transloco"),r(),a(9,"p",98),s(10),l(11,"transloco"),r()()(),a(12,"div",86)(13,"button",87),y("click",function(){h(e);let i=g(2);return b(i.toggleRevokeConfirm())}),s(14),l(15,"transloco"),r(),a(16,"button",99),y("click",function(){h(e);let i=g(2);return b(i.revokeAndGenerateNew())}),f(17,hi,1,0,"mat-spinner",89),s(18),l(19,"transloco"),l(20,"transloco"),r()()()()}if(n&2){let e=g(2);o(7),p(" ",d(8,7,"settings.api_key.warning_title")," "),o(3),C(d(11,9,"settings.api_key.warning_text")),o(3),m("disabled",e.isRevoking),o(),p(" ",d(15,11,"settings.api_key.cancel")," "),o(2),m("disabled",e.isRevoking),o(),m("ngIf",e.isRevoking),o(),p(" ",e.isRevoking?d(19,13,"settings.api_key.revoking"):d(20,15,"settings.api_key.confirm_revoke")," ")}}function xi(n,u){if(n&1){let e=w();R(0),a(1,"div",36)(2,"h1",37),s(3),l(4,"transloco"),r(),a(5,"p",38),s(6),l(7,"transloco"),r()(),f(8,pi,15,6,"div",39),a(9,"div",40)(10,"div",41)(11,"div",10)(12,"div",42)(13,"mat-icon"),s(14,"vpn_key"),r()(),a(15,"div")(16,"h2",43),s(17),l(18,"transloco"),r(),a(19,"p",44),s(20),l(21,"transloco"),r()()(),a(22,"div",45),v(23,"span",46),s(24),l(25,"transloco"),r()(),a(26,"div",47)(27,"div",48)(28,"div",49),y("click",function(){h(e);let i=g();return b(i.copyToken())}),a(29,"code",50),s(30),r()(),a(31,"div",51)(32,"button",52),l(33,"transloco"),l(34,"transloco"),y("click",function(){h(e);let i=g();return b(i.hidePassword=!i.hidePassword)}),a(35,"mat-icon"),s(36),r()(),a(37,"button",52),l(38,"transloco"),y("click",function(){h(e);let i=g();return b(i.copyToken())}),a(39,"mat-icon"),s(40,"content_copy"),r()()()(),a(41,"p",53)(42,"mat-icon",54),s(43,"info"),r(),s(44),l(45,"transloco"),r()()(),a(46,"div",55)(47,"div",56)(48,"div",57)(49,"div",58)(50,"mat-icon"),s(51,"autorenew"),r()(),a(52,"h3",59),s(53),l(54,"transloco"),r()(),a(55,"p",60),s(56),l(57,"transloco"),r(),f(58,mi,6,3,"div",61)(59,_i,16,15,"div",62),r(),a(60,"div",63)(61,"div",57)(62,"div",64)(63,"mat-icon"),s(64,"sync_problem"),r()(),a(65,"h3",59),s(66),l(67,"transloco"),r()(),a(68,"p",60),s(69),l(70,"transloco"),r(),f(71,fi,6,3,"div",61)(72,bi,21,17,"div",65),r()(),a(73,"div",66)(74,"div",67)(75,"div",68)(76,"mat-icon"),s(77,"menu_book"),r()(),a(78,"div",69)(79,"h3",70),s(80),l(81,"transloco"),r(),a(82,"p",71),s(83),l(84,"transloco"),r()(),a(85,"a",72),s(86),l(87,"transloco"),a(88,"mat-icon"),s(89,"open_in_new"),r()()()(),N()}if(n&2){let e=g();o(3),p(" ",d(4,22,"settings.api_key.title")," "),o(3),p(" ",d(7,24,"settings.api_key.subtitle")," "),o(2),m("ngIf",e.showNewTokenAlert),o(9),p(" ",d(18,26,"settings.api_key.current_token")," "),o(3),p(" ",d(21,28,"settings.api_key.bearer_token_info")," "),o(4),p(" ",d(25,30,"settings.api_key.active")," "),o(6),p(" ",e.hidePassword?e.getMaskedToken():e.accessToken," "),o(2),m("matTooltip",e.hidePassword?d(33,32,"settings.api_key.show_token"):d(34,34,"settings.api_key.hide_token")),o(4),C(e.hidePassword?"visibility":"visibility_off"),o(),m("matTooltip",d(38,36,"settings.api_key.copy_token")),o(7),p(" ",d(45,38,"settings.api_key.usage_hint")," "),o(9),C(d(54,40,"settings.api_key.renew_token")),o(3),p(" ",d(57,42,"settings.api_key.renew_description")," "),o(2),m("ngIf",!e.showRenewPanel),o(),m("ngIf",e.showRenewPanel),o(7),C(d(67,44,"settings.api_key.revoke_generate")),o(3),p(" ",d(70,46,"settings.api_key.revoke_description")," "),o(2),m("ngIf",!e.showRevokeConfirm),o(),m("ngIf",e.showRevokeConfirm),o(8),p(" ",d(81,48,"settings.api_key.need_help")," "),o(3),p(" ",d(84,50,"settings.api_key.docs_description")," "),o(3),p(" ",d(87,52,"settings.api_key.view_docs")," ")}}function vi(n,u){if(n&1&&v(0,"img",119),n&2){let e=g(2);m("src",e.avatar,Qe)}}function yi(n,u){if(n&1&&(a(0,"div",120),s(1),r()),n&2){let e=g(2);o(),p(" ",e.getUserInitial()," ")}}function wi(n,u){if(n&1){let e=w();a(0,"div",121)(1,"button",122),y("click",function(){h(e);let i=g(2);return b(i.removeAvatar())}),s(2),l(3,"transloco"),r()()}n&2&&(o(2),p(" ",d(3,1,"settings.profile.remove_photo")," "))}function ki(n,u){if(n&1&&(a(0,"option",141),s(1),l(2,"transloco"),r()),n&2){let e=u.$implicit;m("value",e.dialCode),o(),Ze(" ",e.dialCode," ",d(2,3,e.name)," ")}}function Ci(n,u){n&1&&v(0,"mat-spinner",142)}function Si(n,u){if(n&1){let e=w();a(0,"form",123)(1,"div",102)(2,"h3",13),s(3),l(4,"transloco"),r(),a(5,"p",103),s(6),l(7,"transloco"),r()(),a(8,"div",124)(9,"div",125)(10,"label",126),s(11),l(12,"transloco"),r(),v(13,"input",127),r(),a(14,"div",125)(15,"label",126),s(16),l(17,"transloco"),r(),v(18,"input",128),r(),a(19,"div",125)(20,"label",126),s(21),l(22,"transloco"),r(),a(23,"div",129)(24,"select",130),f(25,ki,3,5,"option",131),r(),a(26,"mat-icon",132),s(27,"expand_more"),r()()(),a(28,"div",125)(29,"label",126),s(30),l(31,"transloco"),r(),v(32,"input",133),r(),a(33,"div",134)(34,"label",126),s(35),l(36,"transloco"),r(),v(37,"input",135),r(),a(38,"div",134)(39,"label",126),s(40),l(41,"transloco"),r(),v(42,"input",136),r()(),a(43,"div",121)(44,"button",137),y("click",function(){h(e);let i=g(2);return b(i.saveProfile())}),a(45,"span",138),f(46,Ci,1,0,"mat-spinner",139),a(47,"span",140),s(48),l(49,"transloco"),l(50,"transloco"),r()()()()()}if(n&2){let e=g(2);m("formGroup",e.profileForm),o(3),p(" ",d(4,13,"settings.profile.personal_info")," "),o(3),p(" ",d(7,15,"settings.profile.privacy_info")," "),o(5),p(" ",d(12,17,"settings.profile.full_name")," "),o(5),p(" ",d(17,19,"settings.profile.email")," "),o(5),p(" ",d(22,21,"settings.profile.prefix")," "),o(4),m("ngForOf",e.countryCodes),o(5),p(" ",d(31,23,"settings.profile.phone")," "),o(5),p(" ",d(36,25,"settings.profile.company")," "),o(5),p(" ",d(41,27,"settings.profile.address")," "),o(4),m("disabled",e.isSavingProfile||e.profileForm.invalid),o(2),m("ngIf",e.isSavingProfile),o(2),p(" ",e.isSavingProfile?d(49,29,"settings.profile.saving"):d(50,31,"settings.profile.save")," ")}}function Ti(n,u){if(n&1){let e=w();R(0),a(1,"div",36)(2,"h1",37),s(3),l(4,"transloco"),r(),a(5,"p",38),s(6),l(7,"transloco"),r()(),a(8,"div",40)(9,"div",100)(10,"div",101)(11,"div",102)(12,"h3",13),s(13),l(14,"transloco"),r(),a(15,"p",103),s(16),l(17,"transloco"),r()(),a(18,"div",104)(19,"div",105)(20,"div",106),f(21,vi,1,1,"img",107)(22,yi,2,1,"div",108),r()(),a(23,"div",109)(24,"input",110),y("change",function(i){h(e);let c=g();return b(c.onFileBrowse(i))}),r(),a(25,"label",111),y("drop",function(i){h(e);let c=g();return b(c.onFileDropped(i))})("dragover",function(i){h(e);let c=g();return b(c.onDragOver(i))}),a(26,"div",112)(27,"mat-icon",113),s(28,"cloud_upload"),r(),a(29,"p",114)(30,"span",115),s(31),l(32,"transloco"),r(),s(33),l(34,"transloco"),r(),a(35,"p",116),s(36),l(37,"transloco"),r()()(),f(38,wi,4,3,"div",117),r()()(),f(39,Si,51,33,"form",118),r()(),N()}if(n&2){let e=g();o(3),p(" ",d(4,11,"settings.profile.title")," "),o(3),p(" ",d(7,13,"settings.profile.subtitle")," "),o(7),p(" ",d(14,15,"settings.profile.photo")," "),o(3),p(" ",d(17,17,"settings.profile.photo_desc")," "),o(5),m("ngIf",e.avatar),o(),m("ngIf",!e.avatar),o(9),C(d(32,19,"settings.profile.drag_drop")),o(2),p(" ",d(34,21,"settings.profile.or_click")," "),o(3),p(" ",d(37,23,"settings.profile.file_types")," "),o(2),m("ngIf",e.avatar),o(),m("ngIf",e.profileLoaded)}}function Ei(n,u){n&1&&(a(0,"div",146),v(1,"mat-spinner",147),r())}function Ii(n,u){if(n&1&&(a(0,"option",141),s(1),r()),n&2){let e=u.$implicit;m("value",e.value),o(),p(" ",e.label," ")}}function Bi(n,u){n&1&&(a(0,"div",159)(1,"label",126),s(2),l(3,"transloco"),r(),v(4,"input",176),r()),n&2&&(o(2),p(" ",d(3,1,"settings.billing.document_number")," "))}function Di(n,u){if(n&1){let e=w();a(0,"div",180),y("mousedown",function(){let i=h(e).$implicit,c=g(5);return b(c.selectCountryCode(i,"business"))}),a(1,"span",181),s(2),r(),a(3,"span",182),s(4),r()()}if(n&2){let e=u.$implicit;o(2),C(e.code),o(2),C(e.name)}}function Fi(n,u){n&1&&(a(0,"div",183),s(1),l(2,"transloco"),r()),n&2&&(o(),p(" ",d(2,1,"settings.billing.no_results")," "))}function Mi(n,u){if(n&1&&(a(0,"div",177),f(1,Di,5,2,"div",178)(2,Fi,3,3,"div",179),r()),n&2){let e=g(4);o(),m("ngForOf",e.getFilteredBusinessCountryCodes()),o(),m("ngIf",e.getFilteredBusinessCountryCodes().length===0)}}function Pi(n,u){if(n&1){let e=w();R(0),a(1,"div",156)(2,"label",126),s(3),l(4,"transloco"),r(),v(5,"input",165),l(6,"transloco"),r(),a(7,"div",158)(8,"div",159)(9,"label",126),s(10),l(11,"transloco"),r(),a(12,"select",166)(13,"option",167),s(14),l(15,"transloco"),r(),f(16,Ii,2,2,"option",131),r()(),f(17,Bi,5,3,"div",168),r(),a(18,"div",158)(19,"div",159)(20,"label",126),s(21),l(22,"transloco"),r(),a(23,"div",169)(24,"input",170),l(25,"transloco"),y("focus",function(){h(e);let i=g(3);return b(i.showBusinessCountryDropdown=!0)})("blur",function(){h(e);let i=g(3);return b(i.onCountryBlur("business"))}),r(),a(26,"mat-icon",171),s(27,"search"),r(),f(28,Mi,3,2,"div",172),r()(),a(29,"div",159)(30,"label",126),s(31),l(32,"transloco"),r(),v(33,"input",173),r()(),a(34,"div",158)(35,"div",159)(36,"label",126),s(37),l(38,"transloco"),r(),v(39,"input",174),r(),a(40,"div",159)(41,"label",126),s(42),l(43,"transloco"),r(),v(44,"input",175),r()(),N()}if(n&2){let e=g(3);o(3),p(" ",d(4,12,"settings.billing.business_name")," "),o(2),m("placeholder",d(6,14,"settings.billing.business_name_placeholder")),o(5),p(" ",d(11,16,"settings.billing.document_type")," "),o(4),C(d(15,18,"settings.billing.select_document_type")),o(2),m("ngForOf",e.businessDocumentTypes),o(),m("ngIf",e.checkIfDocumentNumberIsNeeded()),o(4),p(" ",d(22,20,"settings.billing.country_code")," "),o(3),m("placeholder",d(25,22,"settings.billing.search_country")),o(4),m("ngIf",e.showBusinessCountryDropdown),o(3),p(" ",d(32,24,"settings.billing.phone")," "),o(6),p(" ",d(38,26,"settings.billing.email")," "),o(5),p(" ",d(43,28,"settings.billing.legal_representative")," ")}}function Vi(n,u){if(n&1&&(a(0,"option",141),s(1),r()),n&2){let e=u.$implicit;m("value",e.value),o(),p(" ",e.label," ")}}function Ai(n,u){if(n&1){let e=w();a(0,"div",180),y("mousedown",function(){let i=h(e).$implicit,c=g(5);return b(c.selectCountryCode(i,"person"))}),a(1,"span",181),s(2),r(),a(3,"span",182),s(4),r()()}if(n&2){let e=u.$implicit;o(2),C(e.code),o(2),C(e.name)}}function Ri(n,u){n&1&&(a(0,"div",183),s(1),l(2,"transloco"),r()),n&2&&(o(),p(" ",d(2,1,"settings.billing.no_results")," "))}function Ni(n,u){if(n&1&&(a(0,"div",177),f(1,Ai,5,2,"div",178)(2,Ri,3,3,"div",179),r()),n&2){let e=g(4);o(),m("ngForOf",e.getFilteredPersonCountryCodes()),o(),m("ngIf",e.getFilteredPersonCountryCodes().length===0)}}function ji(n,u){if(n&1){let e=w();R(0),a(1,"div",156)(2,"label",126),s(3),l(4,"transloco"),r(),v(5,"input",184),l(6,"transloco"),r(),a(7,"div",158)(8,"div",159)(9,"label",126),s(10),l(11,"transloco"),r(),a(12,"select",185)(13,"option",167),s(14),l(15,"transloco"),r(),f(16,Vi,2,2,"option",131),r()(),a(17,"div",159)(18,"label",126),s(19),l(20,"transloco"),r(),v(21,"input",186),r()(),a(22,"div",158)(23,"div",159)(24,"label",126),s(25),l(26,"transloco"),r(),a(27,"div",169)(28,"input",187),l(29,"transloco"),y("focus",function(){h(e);let i=g(3);return b(i.showPersonCountryDropdown=!0)})("blur",function(){h(e);let i=g(3);return b(i.onCountryBlur("person"))}),r(),a(30,"mat-icon",171),s(31,"search"),r(),f(32,Ni,3,2,"div",172),r()(),a(33,"div",159)(34,"label",126),s(35),l(36,"transloco"),r(),v(37,"input",188),r()(),a(38,"div",159)(39,"label",126),s(40),l(41,"transloco"),r(),v(42,"input",189),r(),N()}if(n&2){let e=g(3);o(3),p(" ",d(4,11,"settings.billing.full_name")," "),o(2),m("placeholder",d(6,13,"settings.billing.full_name_placeholder")),o(5),p(" ",d(11,15,"settings.billing.document_type")," "),o(4),C(d(15,17,"settings.billing.select_document_type")),o(2),m("ngForOf",e.personDocumentTypes),o(3),p(" ",d(20,19,"settings.billing.document_number")," "),o(6),p(" ",d(26,21,"settings.billing.country_code")," "),o(3),m("placeholder",d(29,23,"settings.billing.search_country")),o(4),m("ngIf",e.showPersonCountryDropdown),o(3),p(" ",d(36,25,"settings.billing.phone")," "),o(5),p(" ",d(41,27,"settings.billing.email")," ")}}function Oi(n,u){if(n&1){let e=w();a(0,"div",148)(1,"div",149)(2,"div",41)(3,"div",10)(4,"div",150)(5,"mat-icon"),s(6),r()(),a(7,"div")(8,"h2",43),s(9),l(10,"transloco"),r(),a(11,"p",44),s(12),l(13,"transloco"),r()()()(),a(14,"form",151)(15,"div",21)(16,"label",152),s(17),l(18,"transloco"),r(),a(19,"div",153)(20,"button",154),y("click",function(){h(e);let i=g(2);return b(i.payerForm.patchValue({type:"person"}))}),a(21,"mat-icon"),s(22,"person"),r(),s(23),l(24,"transloco"),r(),a(25,"button",154),y("click",function(){h(e);let i=g(2);return b(i.payerForm.patchValue({type:"business"}))}),a(26,"mat-icon"),s(27,"business"),r(),s(28),l(29,"transloco"),r()()(),f(30,Pi,45,30,"ng-container",20)(31,ji,43,29,"ng-container",20),r()(),a(32,"div",149)(33,"div",41)(34,"div",10)(35,"div",155)(36,"mat-icon"),s(37,"location_on"),r()(),a(38,"div")(39,"h2",43),s(40),l(41,"transloco"),r(),a(42,"p",44),s(43),l(44,"transloco"),r()()()(),a(45,"form",151)(46,"div",156)(47,"label",126),s(48),l(49,"transloco"),r(),v(50,"input",157),l(51,"transloco"),r(),a(52,"div",158)(53,"div",159)(54,"label",126),s(55),l(56,"transloco"),r(),v(57,"input",160),r(),a(58,"div",159)(59,"label",126),s(60),l(61,"transloco"),r(),v(62,"input",161),r()(),a(63,"div",162)(64,"div",159)(65,"label",126),s(66),l(67,"transloco"),r(),v(68,"input",163),r(),a(69,"div",159)(70,"label",126),s(71),l(72,"transloco"),r(),v(73,"input",164),r()()()()()}if(n&2){let e=g(2);o(4),m("ngClass",e.isABusiness()?"purple":"blue"),o(2),C(e.isABusiness()?"business":"person"),o(3),p(" ",d(10,23,"settings.billing.payer_info")," "),o(3),p(" ",d(13,25,"settings.billing.payer_info_desc")," "),o(2),m("formGroup",e.payerForm),o(3),p(" ",d(18,27,"settings.billing.type")," "),o(3),S("active",e.isAPerson()),o(3),p(" ",d(24,29,"settings.billing.person")," "),o(2),S("active",e.isABusiness()),o(3),p(" ",d(29,31,"settings.billing.business")," "),o(2),m("ngIf",e.isABusiness()),o(),m("ngIf",e.isAPerson()),o(9),p(" ",d(41,33,"settings.billing.address_title")," "),o(3),p(" ",d(44,35,"settings.billing.address_desc")," "),o(2),m("formGroup",e.addressForm),o(3),p(" ",d(49,37,"settings.billing.address")," "),o(2),m("placeholder",d(51,39,"settings.billing.address_placeholder")),o(5),p(" ",d(56,41,"settings.billing.city")," "),o(5),p(" ",d(61,43,"settings.billing.province")," "),o(6),p(" ",d(67,45,"settings.billing.country")," "),o(5),p(" ",d(72,47,"settings.billing.postal_code")," ")}}function zi(n,u){n&1&&v(0,"mat-spinner",195)}function Ui(n,u){if(n&1){let e=w();a(0,"div",190)(1,"button",191),y("click",function(){h(e);let i=g(2);return b(i.saveBillingDetails())}),a(2,"span",192),f(3,zi,1,0,"mat-spinner",193),a(4,"span",194),s(5),l(6,"transloco"),l(7,"transloco"),r()()()()}if(n&2){let e=g(2);o(),S("disabled",!e.isBillingFormValid()),m("disabled",e.isSavingBilling||!e.isBillingFormValid()),o(2),m("ngIf",e.isSavingBilling),o(2),p(" ",e.isSavingBilling?d(6,5,"settings.billing.saving"):d(7,7,"settings.billing.save")," ")}}function Li(n,u){if(n&1&&(R(0),a(1,"div",36)(2,"h1",37),s(3),l(4,"transloco"),r(),a(5,"p",38),s(6),l(7,"transloco"),r()(),f(8,Ei,2,0,"div",143)(9,Oi,74,49,"div",144)(10,Ui,8,9,"div",145),N()),n&2){let e=g();o(3),p(" ",d(4,5,"settings.billing.title")," "),o(3),p(" ",d(7,7,"settings.billing.subtitle")," "),o(2),m("ngIf",!e.billingLoaded),o(),m("ngIf",e.billingLoaded),o(),m("ngIf",e.billingLoaded)}}function $i(n,u){n&1&&(R(0),a(1,"div",196)(2,"div",197)(3,"mat-icon"),s(4,"construction"),r()(),a(5,"h2",198),s(6),l(7,"transloco"),r(),a(8,"p",199),s(9),l(10,"transloco"),r()(),N()),n&2&&(o(6),p(" ",d(7,2,"settings.coming_soon_title")," "),o(3),p(" ",d(10,4,"settings.coming_soon_desc")," "))}var Gt=(()=>{class n{constructor(e,t,i,c,_,j,X,K,ee,W){this._cdr=e,this._fuseMediaWatcherService=t,this._snackBar=i,this._translocoService=c,this._settingsService=_,this._clipboard=j,this._formBuilder=X,this._countryService=K,this._route=ee,this._router=W,this._unsubscribeAll=new M,this.drawerMode="side",this.drawerOpened=!0,this.selectedPanel="profile",this.isWeb2User=!1,this.hidePassword=!0,this.isRenewing=!1,this.isRevoking=!1,this.showRenewPanel=!1,this.showRevokeConfirm=!1,this.selectedExpiration=1,this.newlyGeneratedToken=null,this.showNewTokenAlert=!1,this.expirationOptions=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:6,label:"6"},{value:12,label:"12"},{value:24,label:"24"},{value:36,label:"36"}],this.profileLoaded=!1,this.isSavingProfile=!1,this.avatar=null,this.countryCodes=[],this.billingData=null,this.billingLoaded=!1,this.isSavingBilling=!1,this.billingCountryCodes=[{code:"+1",name:"United States"},{code:"+1",name:"Canada"},{code:"+52",name:"Mexico"},{code:"+57",name:"Colombia"},{code:"+54",name:"Argentina"},{code:"+56",name:"Chile"},{code:"+55",name:"Brazil"},{code:"+51",name:"Peru"},{code:"+58",name:"Venezuela"},{code:"+593",name:"Ecuador"},{code:"+591",name:"Bolivia"},{code:"+595",name:"Paraguay"},{code:"+598",name:"Uruguay"},{code:"+507",name:"Panama"},{code:"+506",name:"Costa Rica"},{code:"+505",name:"Nicaragua"},{code:"+504",name:"Honduras"},{code:"+503",name:"El Salvador"},{code:"+502",name:"Guatemala"},{code:"+44",name:"United Kingdom"},{code:"+33",name:"France"},{code:"+49",name:"Germany"},{code:"+39",name:"Italy"},{code:"+34",name:"Spain"},{code:"+351",name:"Portugal"},{code:"+31",name:"Netherlands"},{code:"+32",name:"Belgium"},{code:"+41",name:"Switzerland"},{code:"+43",name:"Austria"},{code:"+46",name:"Sweden"},{code:"+47",name:"Norway"},{code:"+45",name:"Denmark"},{code:"+358",name:"Finland"},{code:"+48",name:"Poland"},{code:"+81",name:"Japan"},{code:"+82",name:"South Korea"},{code:"+86",name:"China"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+64",name:"New Zealand"},{code:"+971",name:"United Arab Emirates"},{code:"+966",name:"Saudi Arabia"},{code:"+972",name:"Israel"},{code:"+90",name:"Turkey"}],this.personDocumentTypes=[],this.businessDocumentTypes=[],this.showBusinessCountryDropdown=!1,this.showPersonCountryDropdown=!1,this.sections=[{id:"account",title:"settings.sections.account",panels:[{id:"profile",icon:"heroicons_outline:user-circle",title:"settings.panels.profile",description:"settings.panels.profile_desc"},{id:"security",icon:"heroicons_outline:shield-check",title:"settings.panels.security",description:"settings.panels.security_desc",disabled:!0,badge:"settings.coming_soon"}]},{id:"billing",title:"settings.sections.billing",panels:[{id:"billing_details",icon:"heroicons_outline:credit-card",title:"settings.panels.billing_details",description:"settings.panels.billing_details_desc"}]},{id:"developers",title:"settings.sections.developers",panels:[{id:"api_key",icon:"heroicons_outline:key",title:"settings.panels.api_key",description:"settings.panels.api_key_desc"},{id:"webhooks",icon:"heroicons_outline:globe-alt",title:"settings.panels.webhooks",description:"settings.panels.webhooks_desc",disabled:!0,badge:"settings.coming_soon"}]}],this._panelToSlug={profile:"profile",security:"security",billing_details:"billing-details",api_key:"api-key",webhooks:"webhooks"},this._slugToPanel={profile:"profile",security:"security","billing-details":"billing_details","api-key":"api_key",webhooks:"webhooks"},this.countryCodes=this._countryService.countryDialCodes,this._initProfileForm(),this._initBillingForms(),this._initDocumentTypes(),this._loadUserData()}ngOnInit(){this._observeMediaChanges(),this._observeRouteChanges()}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}selectPanel(e){if(this._findPanel(e)?.disabled)return;let i=this._panelToSlug[e]||e;this._router.navigate(["/settings",i])}_onPanelChanged(e){this.selectedPanel=e,this._resetPanelStates(),e==="billing_details"&&!this.billingLoaded&&this.loadBillingData(),this.drawerMode==="over"&&(this.drawerOpened=!1),this._cdr.markForCheck()}isPanelSelected(e){return this.selectedPanel===e}copyToken(){let e=this.newlyGeneratedToken||this.accessToken;if(!e)return;this._clipboard.copy(e);let t=this._translocoService.translate("settings.api_key.token_copied");this._snackBar.open(t,null,{duration:2e3})}toggleRenewPanel(){this.showRenewPanel=!this.showRenewPanel,this.showRenewPanel&&(this.showRevokeConfirm=!1),this._cdr.markForCheck()}toggleRevokeConfirm(){this.showRevokeConfirm=!this.showRevokeConfirm,this.showRevokeConfirm&&(this.showRenewPanel=!1),this._cdr.markForCheck()}renewToken(){this.isRenewing=!0,this._cdr.markForCheck(),this._settingsService.renewToken(this.selectedExpiration).pipe(k(this._unsubscribeAll)).subscribe({next:e=>{if(e?.accessToken){this.accessToken=e.accessToken,this.newlyGeneratedToken=e.accessToken,this.showNewTokenAlert=!0,this.showRenewPanel=!1;let t=this._translocoService.translate("settings.api_key.token_renewed_success");this._snackBar.open(t,null,{duration:3e3})}this.isRenewing=!1,this._cdr.markForCheck()},error:()=>{let e=this._translocoService.translate("settings.api_key.token_renewal_failed");this._snackBar.open(e,null,{duration:3e3}),this.isRenewing=!1,this._cdr.markForCheck()}})}revokeAndGenerateNew(){this.isRevoking=!0,this._cdr.markForCheck(),this._settingsService.revokeAndGenerateNew().pipe(k(this._unsubscribeAll)).subscribe({next:e=>{let t=e?.token||e?.accessToken;if(t){this.accessToken=t,this.newlyGeneratedToken=t,this.showNewTokenAlert=!0,this.showRevokeConfirm=!1;let i=this._translocoService.translate("settings.api_key.tokens_revoked_success");this._snackBar.open(i,null,{duration:3e3})}this.isRevoking=!1,this._cdr.markForCheck()},error:()=>{let e=this._translocoService.translate("settings.api_key.token_revocation_failed");this._snackBar.open(e,null,{duration:3e3}),this.isRevoking=!1,this._cdr.markForCheck()}})}dismissNewTokenAlert(){this.showNewTokenAlert=!1,this.newlyGeneratedToken=null,this._cdr.markForCheck()}getMaskedToken(){if(!this.accessToken)return"";let e=12;if(this.accessToken.length<=e*2)return"\u2022".repeat(this.accessToken.length);let t=this.accessToken.substring(0,e),i=this.accessToken.substring(this.accessToken.length-e),c=this.accessToken.length-e*2;return`${t}${"\u2022".repeat(Math.min(c,20))}${i}`}saveProfile(){if(this.profileForm.invalid)return;this.isSavingProfile=!0,this._cdr.markForCheck();let e=this.profileForm.value,t={name:e.name,email:e.email,countryCode:e.countryCode,company:e.company,address:e.address,avatar:this.avatar};this._settingsService.updateProfile(this.user._id,t).pipe(k(this._unsubscribeAll)).subscribe({next:i=>{if(i?.data){this.user=Q(Q({},this.user),i.data);let c=this._translocoService.translate("settings.profile.save_success");this._snackBar.open(c,null,{duration:3e3})}this.isSavingProfile=!1,this._cdr.markForCheck()},error:()=>{let i=this._translocoService.translate("settings.profile.save_error");this._snackBar.open(i,null,{duration:3e3}),this.isSavingProfile=!1,this._cdr.markForCheck()}})}onFileDropped(e){e.preventDefault(),e.stopPropagation();let t=e.dataTransfer?.files;t&&t.length>0&&this._processFile(t[0])}onDragOver(e){e.preventDefault(),e.stopPropagation()}onFileBrowse(e){let t=e.target;t.files&&t.files.length>0&&this._processFile(t.files[0])}removeAvatar(){this.avatar=null,this._cdr.markForCheck()}getUserInitial(){return this.user?.name?.charAt(0)?.toUpperCase()||"U"}_processFile(e){if(!["image/png","image/jpeg","image/jpg"].includes(e.type)){let _=this._translocoService.translate("settings.profile.invalid_file_type");this._snackBar.open(_,null,{duration:3e3});return}let i=5*1024*1024;if(e.size>i){let _=this._translocoService.translate("settings.profile.file_too_large");this._snackBar.open(_,null,{duration:3e3});return}let c=new FileReader;c.readAsDataURL(e),c.onloadend=()=>{this.avatar=c.result,this._cdr.markForCheck()}}_initProfileForm(){this.profileForm=this._formBuilder.group({name:["",[V.required]],email:["",[V.required,V.email]],countryCode:[""],phone:[{value:"",disabled:!0}],company:[""],address:[""]})}_initBillingForms(){this.payerForm=this._formBuilder.group({type:["person"],business_name:[""],business_documentType:[""],business_documentNumber:[""],business_countryCode:[""],business_country:[""],business_phone:[""],business_email:[""],business_legalRepresentative:[""],person_name:[""],person_documentType:[""],person_documentNumber:[""],person_countryCode:[""],person_country:[""],person_phone:[""],person_email:[""]}),this.addressForm=this._formBuilder.group({address:["",V.required],city:["",V.required],province:["",V.required],country:["",V.required],postalCode:["",V.required]}),this._setupBillingFilters()}_initDocumentTypes(){this.personDocumentTypes=[{value:"CC",label:this._translocoService.translate("settings.billing.document_types.CC")||"Citizenship Card"},{value:"CE",label:this._translocoService.translate("settings.billing.document_types.CE")||"Foreign ID"},{value:"TI",label:this._translocoService.translate("settings.billing.document_types.TI")||"Identity Card"},{value:"NIT",label:this._translocoService.translate("settings.billing.document_types.NIT")||"Tax ID"},{value:"PPT",label:this._translocoService.translate("settings.billing.document_types.PPT")||"Passport"},{value:"DNI",label:this._translocoService.translate("settings.billing.document_types.DNI")||"National ID"},{value:"RUC",label:this._translocoService.translate("settings.billing.document_types.RUC")||"Tax Registry"},{value:"CURP",label:this._translocoService.translate("settings.billing.document_types.CURP")||"CURP"},{value:"RUT",label:this._translocoService.translate("settings.billing.document_types.RUT")||"Tax Role"}],this.businessDocumentTypes=[{value:"NO_TAX",label:this._translocoService.translate("settings.billing.document_types.NO_TAX")||"No Tax ID"},{value:"INTERNATIONAL_TAX",label:this._translocoService.translate("settings.billing.document_types.INTERNATIONAL_TAX")||"International Tax ID"},{value:"NIT",label:this._translocoService.translate("settings.billing.document_types.NIT")||"Tax ID (NIT)"}]}_setupBillingFilters(){let e=this.isABusiness()?this.payerForm.get("business_documentType"):this.payerForm.get("person_documentType");this.filteredDocumentTypes=this.payerForm.valueChanges.pipe(z(""),E(()=>{let t=this.isABusiness()?this.businessDocumentTypes:this.personDocumentTypes,c=(this.isABusiness()?this.payerForm.get("business_documentType"):this.payerForm.get("person_documentType"))?.value,_=typeof c=="string"?c.toLowerCase():"";return _?t.filter(j=>j.label.toLowerCase().includes(_)):t})),this.filteredBusinessCountryCodes=this.payerForm.get("business_countryCode").valueChanges.pipe(z(""),E(t=>this._filterCountryCodes(t))),this.filteredPersonCountryCodes=this.payerForm.get("person_countryCode").valueChanges.pipe(z(""),E(t=>this._filterCountryCodes(t)))}_filterCountryCodes(e){if(!e||typeof e=="string"&&e.trim().length===0)return this.billingCountryCodes;let t=typeof e=="string"?e.toLowerCase().trim():`${e.code} ${e.name}`.toLowerCase();return this.billingCountryCodes.filter(i=>i.name.toLowerCase().includes(t)||i.code.toLowerCase().includes(t)||i.code.replace("+","").includes(t))}_loadProfileData(){this.user&&(this.profileForm.patchValue({name:this.user.name||"",email:this.user.email||"",countryCode:this.user.countryCode||"+1",phone:this.user.phone||"",company:this.user.company||"",address:this.user.address||""}),this.avatar=this.user.avatar||null,this.profileLoaded=!0,this._cdr.markForCheck())}_loadUserData(){let e=localStorage.getItem("verifik_account")||localStorage.getItem("user");this.user=e?JSON.parse(e):null,this.accessToken=this._settingsService.accessToken,this.isWeb2User=!!this.user,this.user&&this._loadProfileData()}loadBillingData(){!this.user?._id||this.billingLoaded||this._settingsService.getBillingConfig(this.user._id).pipe(k(this._unsubscribeAll)).subscribe({next:e=>{e?.data?(this.billingData=e.data,this._populateBillingForms()):this.billingData=this._getDefaultBillingData(),this.billingLoaded=!0,this._cdr.markForCheck()},error:()=>{this.billingData=this._getDefaultBillingData(),this.billingLoaded=!0,this._cdr.markForCheck()}})}_getDefaultBillingData(){return{accountType:"subscription",testAccount:!1,invoiceSettings:{invoiceType:"stripe",type:"person",business:null,person:null,address:{address:"",city:"",province:"",country:"",postalCode:""}},sendEmailNotifications:!0,client:this.user?._id||""}}_populateBillingForms(){if(!this.billingData?.invoiceSettings)return;let{invoiceSettings:e}=this.billingData;if(this.payerForm.patchValue({type:e.type||"person"}),e.business){let t=e.business;this.payerForm.patchValue({business_name:t.business_name||"",business_documentType:t.business_documentType||"",business_documentNumber:t.business_documentNumber||"",business_countryCode:this._formatCountryCodeForDisplay(t.business_countryCode,t.business_country),business_country:t.business_country||"",business_phone:t.business_phone||"",business_email:t.business_email||"",business_legalRepresentative:t.business_legalRepresentative||""})}if(e.person){let t=e.person;this.payerForm.patchValue({person_name:t.person_name||"",person_documentType:t.person_documentType||"",person_documentNumber:t.person_documentNumber||"",person_countryCode:this._formatCountryCodeForDisplay(t.person_countryCode,t.person_country),person_country:t.person_country||"",person_phone:t.person_phone||"",person_email:t.person_email||""})}e.address&&this.addressForm.patchValue({address:e.address.address||"",city:e.address.city||"",province:e.address.province||"",country:e.address.country||"",postalCode:e.address.postalCode||""})}_formatCountryCodeForDisplay(e,t){if(!e)return"";if(t)return`${e} ${t}`;let i=this.billingCountryCodes.find(c=>c.code===e);return i?`${i.code} ${i.name}`:e}isABusiness(){return this.payerForm?.value?.type==="business"}isAPerson(){return this.payerForm?.value?.type==="person"}displayCountryCodeFn(e){return e?typeof e=="string"?e:e.code&&e.name?`${e.code} ${e.name}`:"":""}displayDocumentTypeFn(e){return e?typeof e=="string"?e:e.label||"":""}onCountryCodeSelected(e,t){let i=e.option?.value;if(i?.code&&i?.name){let c=t==="business"?"business_countryCode":"person_countryCode",_=t==="business"?"business_country":"person_country";this.payerForm.patchValue({[c]:i,[_]:i.name})}}selectCountryCode(e,t){let i=t==="business"?"business_countryCode":"person_countryCode",c=t==="business"?"business_country":"person_country";this.payerForm.patchValue({[i]:`${e.code} ${e.name}`,[c]:e.name}),t==="business"?this.showBusinessCountryDropdown=!1:this.showPersonCountryDropdown=!1,this._cdr.markForCheck()}onCountryBlur(e){setTimeout(()=>{e==="business"?this.showBusinessCountryDropdown=!1:this.showPersonCountryDropdown=!1,this._cdr.markForCheck()},200)}getFilteredBusinessCountryCodes(){let e=this.payerForm.get("business_countryCode")?.value||"";return this._filterCountryCodesForAutocomplete(e)}getFilteredPersonCountryCodes(){let e=this.payerForm.get("person_countryCode")?.value||"";return this._filterCountryCodesForAutocomplete(e)}_filterCountryCodesForAutocomplete(e){if(!e||e.trim().length===0)return this.billingCountryCodes;let t=e.toLowerCase().trim();return this.billingCountryCodes.filter(i=>i.name.toLowerCase().includes(t)||i.code.toLowerCase().includes(t)||i.code.replace("+","").includes(t)||`${i.code} ${i.name}`.toLowerCase().includes(t))}isBillingFormValid(){let{business_name:e,business_countryCode:t,business_phone:i,business_documentType:c,business_documentNumber:_,business_legalRepresentative:j,business_email:X,person_name:K,person_countryCode:ee,person_phone:W,person_email:ve,person_documentType:ye,person_documentNumber:we}=this.payerForm.value,O=!1,ae=D=>D?typeof D=="object"&&D.code?!0:typeof D=="string"&&D.trim().length>0?D.startsWith("+")||this.billingCountryCodes.some(se=>D.toLowerCase().includes(se.name.toLowerCase())):!1:!1;return this.isABusiness()?e&&ae(t)&&i&&c&&j&&X&&(c==="NO_TAX"||_)&&(O=!0):this.isAPerson()&&K&&ae(ee)&&W&&ve&&ye&&we&&(O=!0),this.addressForm.valid&&O}checkIfDocumentNumberIsNeeded(){return this.payerForm.value.business_documentType!=="NO_TAX"}saveBillingDetails(){if(this.isSavingBilling||!this.isBillingFormValid())return;this.isSavingBilling=!0,this._cdr.markForCheck();let e=this._createBillingPayload();this._settingsService.saveBillingConfig(e).pipe(Le(()=>{this.isSavingBilling=!1,this._cdr.markForCheck()}),k(this._unsubscribeAll)).subscribe({next:t=>{t?.data&&(this.billingData=t.data);let i=this._translocoService.translate("settings.billing.save_success");this._snackBar.open(i,null,{duration:3e3}),this.isSavingBilling=!1,this._cdr.markForCheck()},error:t=>{let i=this._translocoService.translate("settings.billing.save_error");t?.error?.message==="active_subscription_cant_change_gateway"&&(i=this._translocoService.translate("settings.billing.error_active_subscription")),this._snackBar.open(i,null,{duration:3e3}),this.isSavingBilling=!1,this._cdr.markForCheck()}})}_createBillingPayload(){let{business_name:e,business_countryCode:t,business_country:i,business_phone:c,business_documentType:_,business_documentNumber:j,business_legalRepresentative:X,business_email:K,person_name:ee,person_countryCode:W,person_country:ve,person_phone:ye,person_email:we,person_documentType:O,person_documentNumber:ae}=this.payerForm.value,D=F=>{if(!F)return"";if(typeof F=="object"&&F.code)return F.code;if(typeof F=="string"){let A=F.match(/^(\+\d+)/);return A?A[1]:F}return""},se=(F,A)=>{if(F)return F;if(typeof A=="object"&&A?.name)return A.name;if(typeof A=="string"){let Ne=A.match(/^\+\d+\s+(.+)$/);return Ne?Ne[1]:""}return""};return{invoiceSettings:{type:this.isABusiness()?"business":"person",invoiceType:"stripe",business:this.isABusiness()?{business_name:e,business_countryCode:D(t),business_country:se(i,t),business_phone:c,business_documentType:typeof _=="object"?_.value:_,business_documentNumber:j,business_legalRepresentative:X,business_email:K}:null,person:this.isAPerson()?{person_name:ee,person_countryCode:D(W),person_country:se(ve,W),person_phone:ye,person_email:we,person_documentType:typeof O=="object"?O.value:O,person_documentNumber:ae}:null,address:this.addressForm.value},client:this.user._id}}_observeMediaChanges(){this._fuseMediaWatcherService.onMediaChange$.pipe(k(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._cdr.markForCheck()})}_observeRouteChanges(){this._route.params.pipe(k(this._unsubscribeAll)).subscribe(e=>{let t=e.panel;if(t){let i=this._slugToPanel[t]||t,c=this._findPanel(i);c&&!c.disabled?this._onPanelChanged(i):this._router.navigate(["/settings","profile"],{replaceUrl:!0})}})}_findPanel(e){for(let t of this.sections){let i=t.panels.find(c=>c.id===e);if(i)return i}}_resetPanelStates(){this.showRenewPanel=!1,this.showRevokeConfirm=!1,this.showNewTokenAlert=!1,this.newlyGeneratedToken=null}static{this.\u0275fac=function(t){return new(t||n)(I(Y),I(ft),I(Vt),I(ht),I($t),I(Ot),I(Ft),I(jt),I(Ke),I(et))}}static{this.\u0275cmp=P({type:n,selectors:[["app-settings"]],decls:34,vars:17,consts:[["drawer",""],[1,"settings-container","flex","flex-col","flex-auto"],[1,"lg:hidden","flex","items-center","justify-between","p-4","border-b","border-gray-200","bg-white"],["mat-icon-button","",3,"click"],[1,"text-lg","font-semibold"],[1,"w-10"],[1,"flex-auto"],[1,"w-72","dark:bg-gray-900",3,"mode","opened"],[1,"flex","flex-col","h-full"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","gap-3"],[1,"settings-header-icon"],[1,"text-white"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex-1","overflow-y-auto","p-4"],[4,"ngFor","ngForOf"],["class","p-4 border-t border-gray-200 dark:border-gray-700",4,"ngIf"],[1,"flex","flex-col","bg-gray-50","dark:bg-gray-900"],[1,"flex-1","p-6","lg:p-8","max-w-4xl","mx-auto","w-full"],[4,"ngIf"],[1,"mb-6"],[1,"px-3","mb-2","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider"],[1,"space-y-1"],["class","nav-item w-full",3,"active","disabled","click",4,"ngFor","ngForOf"],[1,"nav-item","w-full",3,"click"],[1,"nav-icon",3,"svgIcon"],[1,"nav-label"],["class","nav-badge",4,"ngIf"],[1,"nav-badge"],[1,"p-4","border-t","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","gap-3","p-3","rounded-lg","bg-gray-50","dark:bg-gray-800"],[1,"w-10","h-10","rounded-full","bg-gradient-to-br","from-blue-500","to-purple-600","flex","items-center","justify-center","text-white","font-semibold"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","dark:text-white","truncate"],[1,"text-xs","text-gray-500","truncate"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-gray-600","dark:text-gray-400"],["class","new-token-alert mb-6",4,"ngIf"],[1,"content-card","mb-6"],[1,"card-header"],[1,"card-icon","blue"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"text-gray-500","text-xs"],[1,"token-status"],[1,"status-dot"],[1,"card-body"],[1,"token-display-wrapper"],[1,"token-display",3,"click"],[1,"token-text"],[1,"token-actions"],["mat-icon-button","",1,"action-btn",3,"click","matTooltip"],[1,"usage-hint"],[1,"inline-icon"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"action-card"],[1,"action-card-header"],[1,"action-icon","renew"],[1,"action-title"],[1,"action-description"],["class","action-footer",4,"ngIf"],["class","expand-panel",4,"ngIf"],[1,"action-card","danger"],[1,"action-icon","revoke"],["class","expand-panel danger",4,"ngIf"],[1,"docs-card","mt-6"],[1,"flex","items-center","gap-4"],[1,"docs-icon"],[1,"flex-1"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-gray-500","text-sm"],["href","https://docs.verifik.co/authentication/renew-your-token-jwt","target","_blank","rel","noopener noreferrer","mat-stroked-button","",1,"docs-button"],[1,"new-token-alert","mb-6"],[1,"flex","items-start","gap-4"],[1,"alert-icon-success"],[1,"font-semibold","text-green-800"],[1,"text-green-700","text-sm","mt-1"],["mat-icon-button","",1,"text-green-600",3,"click"],[1,"action-footer"],["mat-stroked-button","","color","primary",1,"action-button",3,"click"],[1,"expand-panel"],[1,"panel-content"],[1,"panel-label"],[1,"expiration-grid"],["class","expiration-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"panel-actions"],["mat-button","",3,"click","disabled"],["mat-flat-button","","color","primary",1,"confirm-btn",3,"click","disabled"],["diameter","18","class","mr-2",4,"ngIf"],[1,"expiration-option",3,"click"],[1,"expiration-unit"],["diameter","18",1,"mr-2"],["mat-stroked-button","","color","warn",1,"action-button","danger",3,"click"],[1,"expand-panel","danger"],[1,"warning-box"],[1,"warning-icon"],[1,"warning-title"],[1,"warning-text"],["mat-flat-button","","color","warn",1,"confirm-btn","danger",3,"click","disabled"],[1,"card-body","p-0"],[1,"p-6","border-b","border-gray-100","dark:border-gray-700"],[1,"flex","flex-col","gap-1","mb-6"],[1,"text-sm","text-gray-500"],[1,"flex","flex-col","md:flex-row","gap-8","items-start"],[1,"shrink-0"],[1,"w-32","h-32","rounded-full","bg-gray-50","dark:bg-gray-800","border-2","border-dashed","border-gray-300","dark:border-gray-600","flex","items-center","justify-center","overflow-hidden"],["class","w-full h-full object-cover","alt","Profile avatar",3,"src",4,"ngIf"],["class","w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white text-4xl font-semibold",4,"ngIf"],[1,"flex-1","w-full"],["id","avatarInput","type","file","accept",".png,.jpg,.jpeg",1,"hidden",3,"change"],["for","avatarInput",1,"dropzone","flex","flex-col","items-center","justify-center","w-full","h-32","bg-gray-50","dark:bg-gray-800","rounded-lg","border-2","border-dashed","border-gray-300","dark:border-gray-600","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","mb-3",3,"drop","dragover"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],[1,"text-gray-400","mb-2",2,"width","32px","height","32px","font-size","32px"],[1,"mb-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold","text-blue-600"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["class","flex justify-end",4,"ngIf"],["class","p-6",3,"formGroup",4,"ngIf"],["alt","Profile avatar",1,"w-full","h-full","object-cover",3,"src"],[1,"w-full","h-full","flex","items-center","justify-center","bg-gradient-to-br","from-blue-500","to-purple-600","text-white","text-4xl","font-semibold"],[1,"flex","justify-end"],["mat-stroked-button","","color","warn",1,"text-sm",3,"click"],[1,"p-6",3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-8"],[1,"flex","flex-col","gap-1.5"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300"],["type","text","formControlName","name",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["type","email","formControlName","email",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],[1,"relative"],["formControlName","countryCode",1,"h-11","pl-4","pr-10","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","appearance-none","text-gray-900","dark:text-white"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","right-3","top-3","pointer-events-none","text-gray-400",2,"width","20px","height","20px","font-size","20px"],["type","text","formControlName","phone",1,"h-11","px-4","bg-gray-100","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","text-gray-500","cursor-not-allowed","w-full","focus:outline-none"],[1,"col-span-1","md:col-span-2","flex","flex-col","gap-1.5"],["type","text","formControlName","company",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["type","text","formControlName","address",1,"h-11","px-4","bg-gray-50","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","w-full","text-gray-900","dark:text-white"],["mat-flat-button","","color","primary",1,"!bg-blue-600","hover:!bg-blue-700","text-white","px-8","h-11","rounded-lg","profile-save-btn",3,"click","disabled"],[1,"profile-save-btn-content"],["diameter","18","class","profile-save-spinner",4,"ngIf"],[1,"profile-save-text"],[3,"value"],["diameter","18",1,"profile-save-spinner"],["class","flex items-center justify-center py-12",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-2 gap-6",4,"ngIf"],["class","flex justify-end mt-6",4,"ngIf"],[1,"flex","items-center","justify-center","py-12"],["diameter","32"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"content-card"],[1,"card-icon",3,"ngClass"],[1,"card-body",3,"formGroup"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300","mb-2","block"],[1,"billing-type-toggle"],["type","button",1,"type-btn",3,"click"],[1,"card-icon","green"],[1,"form-field","mb-4"],["type","text","formControlName","address",1,"form-input",3,"placeholder"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"form-field"],["type","text","formControlName","city",1,"form-input"],["type","text","formControlName","province",1,"form-input"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","text","formControlName","country",1,"form-input"],["type","text","formControlName","postalCode",1,"form-input"],["type","text","formControlName","business_name",1,"form-input",3,"placeholder"],["formControlName","business_documentType",1,"form-input"],["value",""],["class","form-field",4,"ngIf"],[1,"country-autocomplete-wrapper"],["type","text","formControlName","business_countryCode","autocomplete","off",1,"form-input","country-autocomplete-input",3,"focus","blur","placeholder"],[1,"country-search-icon"],["class","country-dropdown",4,"ngIf"],["type","text","formControlName","business_phone",1,"form-input"],["type","email","formControlName","business_email",1,"form-input"],["type","text","formControlName","business_legalRepresentative",1,"form-input"],["type","text","formControlName","business_documentNumber",1,"form-input"],[1,"country-dropdown"],["class","country-option",3,"mousedown",4,"ngFor","ngForOf"],["class","country-option no-results",4,"ngIf"],[1,"country-option",3,"mousedown"],[1,"country-code"],[1,"country-name"],[1,"country-option","no-results"],["type","text","formControlName","person_name",1,"form-input",3,"placeholder"],["formControlName","person_documentType",1,"form-input"],["type","text","formControlName","person_documentNumber",1,"form-input"],["type","text","formControlName","person_countryCode","autocomplete","off",1,"form-input","country-autocomplete-input",3,"focus","blur","placeholder"],["type","text","formControlName","person_phone",1,"form-input"],["type","email","formControlName","person_email",1,"form-input"],[1,"flex","justify-end","mt-6"],["mat-flat-button","","color","primary",1,"billing-save-btn",3,"click","disabled"],[1,"billing-save-btn-content"],["diameter","18","class","billing-save-spinner",4,"ngIf"],[1,"billing-save-text"],["diameter","18",1,"billing-save-spinner"],[1,"coming-soon-container"],[1,"coming-soon-icon"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","mt-4"],[1,"text-gray-500","mt-2","text-center","max-w-md"]],template:function(t,i){if(t&1){let c=w();a(0,"div",1)(1,"div",2)(2,"button",3),y("click",function(){return h(c),b(i.drawerOpened=!i.drawerOpened)}),a(3,"mat-icon"),s(4,"menu"),r()(),a(5,"h1",4),s(6),l(7,"transloco"),r(),v(8,"div",5),r(),a(9,"mat-sidenav-container",6)(10,"mat-sidenav",7,0)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"mat-icon",12),s(17,"settings"),r()(),a(18,"div")(19,"h2",13),s(20),l(21,"transloco"),r(),a(22,"p",14),s(23),l(24,"transloco"),r()()()(),a(25,"div",15),f(26,di,7,6,"ng-container",16),r(),f(27,ci,9,3,"div",17),r()(),a(28,"mat-sidenav-content",18)(29,"div",19),f(30,xi,90,54,"ng-container",20)(31,Ti,40,25,"ng-container",20)(32,Li,11,9,"ng-container",20)(33,$i,11,6,"ng-container",20),r()()()()}t&2&&(o(6),C(d(7,11,"settings.title")),o(4),m("mode",i.drawerMode)("opened",i.drawerOpened),o(10),p(" ",d(21,13,"settings.title")," "),o(3),p(" ",d(24,15,"settings.subtitle")," "),o(3),m("ngForOf",i.sections),o(),m("ngIf",i.user),o(3),m("ngIf",i.selectedPanel==="api_key"),o(),m("ngIf",i.selectedPanel==="profile"),o(),m("ngIf",i.selectedPanel==="billing_details"),o(),m("ngIf",i.selectedPanel!=="api_key"&&i.selectedPanel!=="profile"&&i.selectedPanel!=="billing_details"))},dependencies:[Xe,He,Ye,Je,Mt,St,Bt,Dt,wt,It,kt,Ct,Pt,Tt,Et,ut,mt,pt,ct,_t,gt,Lt,Re,Ut,be,At,yt,vt,Nt,Rt,xt,bt,zt],styles:[`.settings-container{height:100%;background:linear-gradient(180deg,#f8fafc,#fff)}:host-context(.dark) .settings-container{background:linear-gradient(180deg,#111827,#1f2937)}mat-sidenav{background:#fff;border-right:1px solid #e5e7eb}:host-context(.dark) mat-sidenav{background:#1f2937;border-right-color:#374151}.settings-header-icon{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,#6366f1,#8b5cf6);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 14px #6366f140}.nav-item{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:10px;text-align:left;transition:all .2s ease;background:transparent;border:none;cursor:pointer}.nav-item:hover:not(.disabled){background:#f3f4f6}:host-context(.dark) .nav-item:hover:not(.disabled){background:#374151}.nav-item.active{background:linear-gradient(135deg,#eef2ff,#e0e7ff)}:host-context(.dark) .nav-item.active{background:linear-gradient(135deg,#312e81,#3730a3)}.nav-item.active .nav-icon{color:#6366f1}.nav-item.active .nav-label{color:#6366f1;font-weight:600}.nav-item.disabled{opacity:.6;cursor:not-allowed}.nav-icon{width:20px;height:20px;color:#6b7280}:host-context(.dark) .nav-icon{color:#9ca3af}.nav-label{flex:1;font-size:14px;color:#374151}:host-context(.dark) .nav-label{color:#d1d5db}.nav-badge{font-size:10px;font-weight:600;padding:2px 8px;border-radius:10px;background:#f3f4f6;color:#6b7280;text-transform:uppercase}:host-context(.dark) .nav-badge{background:#374151;color:#9ca3af}.content-card{background:#fff;border-radius:20px;border:1px solid #e5e7eb;overflow:hidden;box-shadow:0 4px 24px #0000000a;transition:box-shadow .2s ease}:host-context(.dark) .content-card{background:#1f2937;border-color:#374151}.content-card:hover{box-shadow:0 8px 32px #00000014}.content-card:has(.country-autocomplete-wrapper){overflow:visible}.card-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:linear-gradient(135deg,#fafafa,#f5f5f5);border-bottom:1px solid #e5e7eb}:host-context(.dark) .card-header{background:linear-gradient(135deg,#1f2937,#111827);border-bottom-color:#374151}.card-icon{width:40px;height:40px;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.card-icon.blue{background:linear-gradient(135deg,#3b82f6,#60a5fa);box-shadow:0 2px 8px #3b82f64d}.card-icon mat-icon{font-size:20px;width:20px;height:20px;color:#fff!important}.token-status{display:flex;align-items:center;gap:8px;font-size:13px;font-weight:500;color:#10b981;background:#10b9811a;padding:6px 12px;border-radius:20px}.token-status .status-dot{width:8px;height:8px;border-radius:50%;background:#10b981;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.card-body{padding:24px;overflow:visible;position:relative}.token-display-wrapper{display:flex;align-items:center;gap:12px;margin-bottom:16px}.token-display{flex:1;background:#1e1e2e;border-radius:12px;padding:16px 20px;cursor:pointer;transition:all .2s ease;overflow:hidden}.token-display:hover{background:#2d2d3f;transform:translateY(-1px)}.token-text{font-family:SF Mono,Monaco,Inconsolata,Roboto Mono,monospace;font-size:13px;color:#a5b4fc;word-break:break-all;line-height:1.6}.token-actions{display:flex;flex-direction:column;gap:4px}.action-btn{color:#6366f1!important;transition:all .2s ease}.action-btn:hover{background:#6366f11a;transform:scale(1.05)}.usage-hint{display:flex;align-items:center;gap:8px;font-size:13px;color:#6b7280;background:#f9fafb;padding:12px 16px;border-radius:10px;border:1px dashed #e5e7eb}:host-context(.dark) .usage-hint{background:#374151;border-color:#4b5563;color:#9ca3af}.usage-hint .inline-icon{font-size:16px;width:16px;height:16px;color:#9ca3af}.action-card{background:#fff;border-radius:20px;border:1px solid #e5e7eb;padding:24px;transition:all .2s ease;box-shadow:0 4px 24px #0000000a}:host-context(.dark) .action-card{background:#1f2937;border-color:#374151}.action-card:hover{border-color:#d1d5db;box-shadow:0 8px 32px #00000014}.action-card.danger:hover{border-color:#fecaca}.action-card-header{display:flex;align-items:center;gap:14px;margin-bottom:12px}.action-icon{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center}.action-icon.renew{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#2563eb}.action-icon.revoke{background:linear-gradient(135deg,#fee2e2,#fecaca);color:#dc2626}.action-icon mat-icon{font-size:22px;width:22px;height:22px}.action-title{font-size:16px;font-weight:600;color:#111827;margin:0}:host-context(.dark) .action-title{color:#f3f4f6}.action-description{font-size:14px;color:#6b7280;line-height:1.6;margin-bottom:20px}.action-footer{padding-top:8px}.action-button{border-radius:10px!important;font-weight:500;padding:8px 20px;height:auto;transition:all .2s ease}.action-button mat-icon{margin-left:8px;font-size:18px;width:18px;height:18px}.action-button:hover{transform:translate(2px)}.action-button.danger{border-color:#fca5a5;color:#dc2626}.action-button.danger:hover{background:#fef2f2}.expand-panel{margin-top:16px;padding-top:16px;border-top:1px solid #e5e7eb;animation:expandIn .3s ease-out}:host-context(.dark) .expand-panel{border-top-color:#374151}.expand-panel.danger{border-top-color:#fecaca}@keyframes expandIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.panel-content{display:flex;flex-direction:column;gap:16px}.panel-label{font-size:13px;font-weight:600;color:#374151;text-transform:uppercase;letter-spacing:.05em}:host-context(.dark) .panel-label{color:#d1d5db}.expiration-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(72px,1fr));gap:8px}.expiration-option{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:14px 8px;border:2px solid #e5e7eb;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s ease;font-size:18px;font-weight:600;color:#374151}:host-context(.dark) .expiration-option{background:#1f2937;border-color:#374151;color:#d1d5db}.expiration-option .expiration-unit{font-size:10px;font-weight:500;color:#9ca3af;text-transform:uppercase;margin-top:2px}.expiration-option:hover{border-color:#6366f1;background:#f5f3ff}:host-context(.dark) .expiration-option:hover{background:#312e81}.expiration-option.selected{border-color:#6366f1;background:linear-gradient(135deg,#eef2ff,#e0e7ff);color:#6366f1}:host-context(.dark) .expiration-option.selected{background:linear-gradient(135deg,#312e81,#3730a3);color:#a5b4fc}.expiration-option.selected .expiration-unit{color:#818cf8}.panel-actions{display:flex;justify-content:flex-end;gap:12px;margin-top:8px}.confirm-btn{border-radius:10px!important;padding:8px 24px;height:auto;font-weight:500;display:flex;align-items:center}.confirm-btn mat-spinner{margin-right:8px}.confirm-btn.danger{background:linear-gradient(135deg,#ef4444,#dc2626)}.warning-box{display:flex;gap:14px;padding:16px;background:linear-gradient(135deg,#fef3c7,#fde68a);border-radius:12px;border:1px solid #f59e0b}.warning-box .warning-icon{color:#d97706;font-size:24px;width:24px;height:24px}.warning-box .warning-title{font-weight:600;color:#92400e;margin:0 0 4px;font-size:14px}.warning-box .warning-text{font-size:13px;color:#a16207;margin:0;line-height:1.5}.new-token-alert{background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:1px solid #10b981;border-radius:16px;padding:20px;animation:slideDown .3s ease-out}.new-token-alert .alert-icon-success{width:40px;height:40px;border-radius:10px;background:#10b9811a;display:flex;align-items:center;justify-content:center;color:#10b981}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.docs-card{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:1px solid #bae6fd;border-radius:16px;padding:20px 24px}:host-context(.dark) .docs-card{background:linear-gradient(135deg,#0c4a6e,#075985);border-color:#0369a1}.docs-card .docs-icon{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,#0ea5e9,#0284c7);display:flex;align-items:center;justify-content:center;color:#fff}.docs-card .docs-button{border-radius:10px!important;border-color:#0ea5e9;color:#0369a1;font-weight:500}:host-context(.dark) .docs-card .docs-button{border-color:#38bdf8;color:#7dd3fc}.docs-card .docs-button mat-icon{margin-left:8px;font-size:16px;width:16px;height:16px}.docs-card .docs-button:hover{background:#0ea5e91a}.coming-soon-container{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:40px}.coming-soon-container .coming-soon-icon{width:80px;height:80px;border-radius:20px;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);display:flex;align-items:center;justify-content:center}:host-context(.dark) .coming-soon-container .coming-soon-icon{background:linear-gradient(135deg,#374151,#4b5563)}.coming-soon-container .coming-soon-icon mat-icon{font-size:40px;width:40px;height:40px;color:#9ca3af}@media (max-width: 640px){.token-display-wrapper{flex-direction:column;align-items:stretch}.token-actions{flex-direction:row;justify-content:flex-end}.card-header{flex-direction:column;align-items:flex-start;gap:12px}.expiration-grid{grid-template-columns:repeat(3,1fr)}.docs-card>div{flex-direction:column;text-align:center}.docs-card .docs-icon{margin:0 auto}.docs-card .docs-button{margin-top:16px;width:100%}}.dropzone{transition:all .2s ease}.dropzone:hover{border-color:#3b82f6;background:#eff6ff}:host-context(.dark) .dropzone:hover{border-color:#60a5fa;background:#3b82f61a}.dropzone.dragover{border-color:#3b82f6;background:#dbeafe;transform:scale(1.02)}:host-context(.dark) .dropzone.dragover{border-color:#60a5fa;background:#3b82f633}input:focus,select:focus{border-color:#3b82f6!important;box-shadow:0 0 0 3px #3b82f61a}.avatar-preview{position:relative;overflow:hidden}.avatar-preview:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,transparent 50%,rgba(0,0,0,.05) 100%);pointer-events:none}.card-icon.purple{background:linear-gradient(135deg,#8b5cf6,#a78bfa);box-shadow:0 2px 8px #8b5cf64d}.card-icon.green{background:linear-gradient(135deg,#10b981,#34d399);box-shadow:0 2px 8px #10b9814d}.billing-type-toggle{display:flex;gap:12px;padding:4px;background:#f3f4f6;border-radius:12px}:host-context(.dark) .billing-type-toggle{background:#374151}.type-btn{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border:none;border-radius:10px;background:transparent;color:#6b7280;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.type-btn mat-icon{font-size:20px;width:20px;height:20px}.type-btn:hover:not(.active){background:#ffffff80}:host-context(.dark) .type-btn:hover:not(.active){background:#4b556380}.type-btn.active{background:#fff;color:#6366f1;box-shadow:0 2px 8px #00000014}:host-context(.dark) .type-btn.active{background:#1f2937;color:#a5b4fc}.form-field{display:flex;flex-direction:column;gap:6px;overflow:visible;position:relative;z-index:1}.form-field label{font-size:13px;font-weight:600;color:#374151}:host-context(.dark) .form-field label{color:#d1d5db}.form-field:has(.country-autocomplete-wrapper){overflow:visible;z-index:10}.form-input{height:44px;padding:0 16px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:10px;font-size:14px;color:#111827;transition:all .2s ease;width:100%}:host-context(.dark) .form-input{background:#1f2937;border-color:#374151;color:#f3f4f6}.form-input:focus{outline:none;border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a;background:#fff}:host-context(.dark) .form-input:focus{background:#111827;box-shadow:0 0 0 3px #6366f133}.form-input::placeholder{color:#9ca3af}.form-input:is(select){appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px;cursor:pointer}.country-autocomplete-wrapper{position:relative;overflow:visible;z-index:1}.country-autocomplete-input{padding-right:48px!important;padding-left:16px!important;min-width:0;width:100%;box-sizing:border-box;text-overflow:ellipsis}.country-search-icon{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:#9ca3af;font-size:20px;width:20px;height:20px;pointer-events:none;z-index:1}.country-dropdown{position:absolute;top:calc(100% + 4px);left:0;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 10px 40px #0000001f;max-height:240px;overflow-y:auto;overflow-x:hidden;z-index:9999;min-width:100%;width:max-content;max-width:400px;box-sizing:border-box}:host-context(.dark) .country-dropdown{background:#1f2937;border-color:#374151}.country-dropdown::-webkit-scrollbar{width:8px}.country-dropdown::-webkit-scrollbar-track{background:#f3f4f6;border-radius:4px}:host-context(.dark) .country-dropdown::-webkit-scrollbar-track{background:#374151}.country-dropdown::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}:host-context(.dark) .country-dropdown::-webkit-scrollbar-thumb{background:#6b7280}.country-dropdown::-webkit-scrollbar-thumb:hover{background:#9ca3af}.country-option{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:background .15s ease;width:100%;box-sizing:border-box;min-height:44px}.country-option:first-child{border-radius:12px 12px 0 0}.country-option:last-child{border-radius:0 0 12px 12px}.country-option:hover{background:#f3f4f6}:host-context(.dark) .country-option:hover{background:#374151}.country-option.no-results{color:#9ca3af;cursor:default;justify-content:center;white-space:normal}.country-option.no-results:hover{background:transparent}.country-option .country-code{font-weight:600;color:#6366f1;min-width:70px;flex-shrink:0;text-align:left;padding-right:8px}.country-option .country-name{color:#374151;flex:1;min-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host-context(.dark) .country-option .country-name{color:#d1d5db}.profile-save-btn{display:flex!important;align-items:center!important;justify-content:center!important}.profile-save-btn .profile-save-btn-content{display:flex;align-items:center;justify-content:center;gap:8px}.profile-save-btn .profile-save-spinner{flex-shrink:0;margin:0!important}.profile-save-btn .profile-save-text{white-space:nowrap}.billing-save-btn{background:linear-gradient(135deg,#3b82f6,#2563eb)!important;color:#fff!important;padding:0 32px!important;height:44px!important;border-radius:12px!important;font-weight:600!important;font-size:14px!important;box-shadow:0 4px 14px #3b82f659!important;transition:all .2s ease!important;display:flex!important;align-items:center!important;justify-content:center!important}.billing-save-btn:hover:not(.disabled){background:linear-gradient(135deg,#2563eb,#1d4ed8)!important;transform:translateY(-1px);box-shadow:0 6px 20px #3b82f666!important}.billing-save-btn.disabled,.billing-save-btn:disabled{background:#e5e7eb!important;color:#9ca3af!important;box-shadow:none!important;cursor:not-allowed!important;transform:none!important}:host-context(.dark) .billing-save-btn.disabled,:host-context(.dark) .billing-save-btn:disabled{background:#374151!important;color:#6b7280!important}.billing-save-btn .billing-save-btn-content{display:flex;align-items:center;justify-content:center;gap:8px}.billing-save-btn .billing-save-spinner{flex-shrink:0;margin:0!important}.billing-save-btn .billing-save-text{white-space:nowrap}@media (max-width: 1024px){.billing-type-toggle{flex-direction:column}.type-btn{justify-content:flex-start;padding:14px 16px}}
`],encapsulation:2,changeDetection:0})}}return n})();var Yn=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:":panel",component:Gt}];export{Yn as default};
