import{a as ri,c as oi,d as si,e as li}from"./chunk-BDKC4BTW.js";import{a as ai}from"./chunk-SD536L7G.js";import{b as ni}from"./chunk-PKNZ4OAK.js";import"./chunk-SB3LRQOP.js";import"./chunk-NJIOGT5G.js";import"./chunk-3RK6DDJD.js";import{a as ti,b as ii}from"./chunk-RJ3MLNQI.js";import{a as Te}from"./chunk-QD66ZOCP.js";import"./chunk-WOGZTWPB.js";import"./chunk-7RWCIHFI.js";import{c as Jt,d as ei}from"./chunk-FX6L73G2.js";import{b as Vt}from"./chunk-53WRULVM.js";import{d as Ht}from"./chunk-YTRC6VXI.js";import{b as vt,d as bt,e as yt,i as Ct}from"./chunk-QIQIZ3Q6.js";import{e as Dt}from"./chunk-DHV22PVR.js";import{b as Ie,d as Tt,e as At,g as Pt,h as Ot,l as zt,m as Rt}from"./chunk-CTJ3YQQD.js";import"./chunk-ZAUDAUJV.js";import{A as Yt,c as Qt,e as K,f as jt,h as qt,i as $t,l as Ut,m as Gt,q as Kt,r as Wt,y as Zt,z as Xt}from"./chunk-FTPRZILN.js";import{b as be,e as ye,f as Ce}from"./chunk-MVN6OMHF.js";import{D as It,E as Y,F as we,I as Me,N as re,O as ke,R as kt,S as Ft,U as Lt,V as Nt,X as Bt,Z as De,_ as Fe,d as St,g as Et,l as Se,n as Ee,o as wt,z as Mt}from"./chunk-KMUH6FME.js";import{A as Je,Aa as y,Ac as k,B as ae,Ba as le,Bb as ue,Bc as _e,Cb as he,Db as fe,Dc as ve,Ea as j,Eb as a,Fb as r,Ga as E,Gb as O,H as et,Ha as W,Hb as lt,Hc as ut,Ib as pt,Jb as Z,Ka as pe,Kb as X,Lb as ge,Mb as v,Nb as h,Ob as U,Pb as F,Pc as ht,Qb as M,Qc as ft,Rb as z,Sb as f,Tb as g,Uc as He,V as A,W as tt,Wa as l,Wb as Le,X as H,Xa as q,Xb as s,Yb as x,Yc as gt,Za as de,Zb as I,_b as dt,a as te,aa as it,ab as ce,ba as V,bd as xt,cd as _t,da as Q,f as R,fb as T,fc as N,ga as c,gb as $,ha as nt,hb as _,ia as at,ic as Ne,j as Ze,jb as L,l as Xe,lb as u,oc as xe,pa as ie,pc as ct,q as Ye,qa as C,ra as S,rb as P,rc as Be,sa as rt,sb as m,tb as me,tc as mt,ua as ne,ub as w,wb as Re,xa as ot,xb as st,yc as G,zb as D}from"./chunk-BMVGBJ55.js";import"./chunk-66YHNWRR.js";var Ve=new Q("CdkAccordion"),pi=(()=>{class t{_stateChanges=new R;_openCloseAllActions=new R;id=c(Y).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",k]},exportAs:["cdkAccordion"],features:[N([{provide:Ve,useExisting:t}]),ie]})}return t})(),di=(()=>{class t{accordion=c(Ve,{optional:!0,skipSelf:!0});_changeDetectorRef=c(G);_expansionDispatcher=c(Te);_openCloseAllSubscription=te.EMPTY;closed=new y;opened=new y;destroyed=new y;expandedChange=new y;id=c(Y).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,i)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===i&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",k],disabled:[2,"disabled","disabled",k]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[N([{provide:Ve,useValue:void 0}])]})}return t})(),ci=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$({type:t});static \u0275inj=V({})}return t})();var Ii=["body"],ki=["bodyWrapper"],Di=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Fi=["mat-expansion-panel-header","*","mat-action-row"];function Ti(t,p){}var Ai=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Pi=["mat-panel-title","mat-panel-description","*"];function Oi(t,p){t&1&&(a(0,"span",1),rt(),a(1,"svg",2),O(2,"path",3),r()())}var Qe=new Q("MAT_ACCORDION"),hi=new Q("MAT_EXPANSION_PANEL"),zi=(()=>{class t{_template=c(q);_expansionPanel=c(hi,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]})}return t})(),fi=new Q("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),je=(()=>{class t extends di{_viewContainerRef=c(ce);_animationsDisabled=c(pe,{optional:!0})==="NoopAnimations";_document=c(ut);_ngZone=c(le);_elementRef=c(j);_renderer=c(de);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new y;afterCollapse=new y;_inputChanges=new R;accordion=c(Qe,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=c(Y).getId("mat-expansion-panel-header-");constructor(){super();let e=c(fi,{optional:!0});this._expansionDispatcher=c(Te),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(A(null),ae(()=>this.expanded&&!this._portal),et(1)).subscribe(()=>{this._portal=new be(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:i})=>{e===this._bodyWrapper?.nativeElement&&i==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=T({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(i,n,o){if(i&1&&M(o,zi,5),i&2){let d;f(d=g())&&(n._lazyContent=d.first)}},viewQuery:function(i,n){if(i&1&&(z(Ii,5),z(ki,5)),i&2){let o;f(o=g())&&(n._body=o.first),f(o=g())&&(n._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(i,n){i&2&&w("mat-expanded",n.expanded)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",k],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[N([{provide:Qe,useValue:void 0},{provide:hi,useExisting:t}]),L,ie],ngContentSelectors:Fi,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,n){i&1&&(U(Di),F(0),a(1,"div",2,0)(3,"div",3,1)(5,"div",4),F(6,1),u(7,Ti,0,0,"ng-template",5),r(),F(8,2),r()()),i&2&&(l(),P("inert",n.expanded?null:""),l(2),m("id",n.id),P("aria-labelledby",n._headerId),l(4),m("cdkPortalOutlet",n._portal))},dependencies:[ye],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return t})();var qe=(()=>{class t{panel=c(je,{host:!0});_element=c(j);_focusMonitor=c(Se);_changeDetectorRef=c(G);_parentChangeSubscription=te.EMPTY;constructor(){c(Ee).load(ke);let e=this.panel,i=c(fi,{optional:!0}),n=c(new ot("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(ae(d=>!!(d.hideToggle||d.togglePosition))):Ze;this.tabIndex=parseInt(n||"")||0,this._parentChangeSubscription=Je(e.opened,e.closed,o,e._inputChanges.pipe(ae(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(ae(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:we(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=T({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(i,n){i&1&&v("click",function(){return n._toggle()})("keydown",function(d){return n._keydown(d)}),i&2&&(P("id",n.panel._headerId)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),me("height",n._getHeaderHeight()),w("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after",n._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",n._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:_e(e)]},ngContentSelectors:Pi,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,n){i&1&&(U(Ai),a(0,"span",0),F(1),F(2,1),F(3,2),r(),u(4,Oi,3,0,"span",1)),i&2&&(w("mat-content-hide-toggle",!n._showToggle()),l(4),D(n._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return t})(),gi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return t})(),xi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return t})(),_i=(()=>{class t extends pi{_keyManager;_ownHeaders=new W;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(A(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Me(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ne(t)))(n||t)}})();static \u0275dir=_({type:t,selectors:[["mat-accordion"]],contentQueries:function(i,n,o){if(i&1&&M(o,qe,5),i&2){let d;f(d=g())&&(n._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,n){i&2&&w("mat-accordion-multi",n.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",k],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[N([{provide:Qe,useExisting:t}]),L]})}return t})(),vi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$({type:t});static \u0275inj=V({imports:[re,ci,Ce]})}return t})();var Li=["*"];function Ni(t,p){t&1&&F(0)}var $e=(()=>{class t{_elementRef=c(j);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return t})(),Ue=(()=>{class t{template=c(q);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["","cdkStepLabel",""]]})}return t})();var B={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},Bi=new Q("STEPPER_GLOBAL_OPTIONS"),Pe=(()=>{class t{_stepperOptions;_stepper=c(oe);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new y;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let e=c(Bi,{optional:!0});this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=T({type:t,selectors:[["cdk-step"]],contentQueries:function(i,n,o){if(i&1&&(M(o,Ue,5),M(o,jt,5)),i&2){let d;f(d=g())&&(n.stepLabel=d.first),f(d=g())&&(n._childForms=d)}},viewQuery:function(i,n){if(i&1&&z(q,7),i&2){let o;f(o=g())&&(n.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",k],optional:[2,"optional","optional",k],completed:[2,"completed","completed",k],hasError:[2,"hasError","hasError",k]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[ie],ngContentSelectors:Li,decls:1,vars:0,template:function(i,n){i&1&&(U(),u(0,Ni,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),oe=(()=>{class t{_dir=c(Mt,{optional:!0});_changeDetectorRef=c(G);_elementRef=c(j);_destroyed=new R;_keyManager;_steps;steps=new W;_stepHeader;_sortedHeaders=new W;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?(this._isValidIndex(e),this._selectedIndex!==e&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e))):this._selectedIndex=e}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}selectionChange=new y;selectedIndexChange=new y;_groupId=c(Y).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(A(this._steps),H(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(A(this._stepHeader),H(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,n)=>i._elementRef.nativeElement.compareDocumentPosition(n._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Me(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:Xe()).pipe(A(this._layoutDirection()),H(this._destroyed)).subscribe(e=>this._keyManager?.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let e=this.steps.toArray().slice(0,this._selectedIndex);for(let i of e)i._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`${this._groupId}-label-${e}`}_getStepContentId(e){return`${this._groupId}-content-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let i=e-this._selectedIndex;return i<0?this._layoutDirection()==="rtl"?"next":"previous":i>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,i=B.NUMBER){let n=this.steps.toArray()[e],o=this._isCurrentStep(e);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,o):this._getGuidelineLogic(n,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?B.ERROR:!e.completed||i?B.NUMBER:e.editable?B.EDIT:B.DONE}_getGuidelineLogic(e,i,n=B.NUMBER){return e._showError()&&e.hasError&&!i?B.ERROR:e.completed&&!i?B.DONE:e.completed&&i?n:e.editable&&i?B.EDIT:n}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e)),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let i=we(e),n=e.keyCode,o=this._keyManager;o?.activeItemIndex!=null&&!i&&(n===32||n===13)?(this.selectedIndex=o.activeItemIndex,e.preventDefault()):o?.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(i=>{let n=i.stepControl;return(n?n.invalid||n.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,i=St();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(i,n,o){if(i&1&&(M(o,Pe,5),M(o,$e,5)),i&2){let d;f(d=g())&&(n._steps=d),f(d=g())&&(n._stepHeader=d)}},inputs:{linear:[2,"linear","linear",k],selectedIndex:[2,"selectedIndex","selectedIndex",_e],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return t})();var bi=(()=>{class t{_stepper=c(oe);type="button";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(i,n){i&1&&v("click",function(){return n._stepper.previous()}),i&2&&ge("type",n.type)},inputs:{type:"type"}})}return t})(),yi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$({type:t});static \u0275inj=V({imports:[It]})}return t})();function Hi(t,p){if(t&1&&Z(0,2),t&2){let e=h();m("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function Vi(t,p){if(t&1&&(a(0,"span",7),s(1),r()),t&2){let e=h(2);l(),x(e._getDefaultTextForState(e.state))}}function Qi(t,p){if(t&1&&(a(0,"span",8),s(1),r()),t&2){let e=h(3);l(),x(e._intl.completedLabel)}}function ji(t,p){if(t&1&&(a(0,"span",8),s(1),r()),t&2){let e=h(3);l(),x(e._intl.editableLabel)}}function qi(t,p){if(t&1&&(u(0,Qi,2,1,"span",8)(1,ji,2,1,"span",8),a(2,"mat-icon",7),s(3),r()),t&2){let e=h(2);D(e.state==="done"?0:e.state==="edit"?1:-1),l(3),x(e._getDefaultTextForState(e.state))}}function $i(t,p){if(t&1&&u(0,Vi,2,1,"span",7)(1,qi,4,2),t&2){let e,i=h();D((e=i.state)==="number"?0:1)}}function Ui(t,p){t&1&&(a(0,"div",4),Z(1,9),r()),t&2&&(l(),m("ngTemplateOutlet",p.template))}function Gi(t,p){if(t&1&&(a(0,"div",4),s(1),r()),t&2){let e=h();l(),x(e.label)}}function Ki(t,p){if(t&1&&(a(0,"div",5),s(1),r()),t&2){let e=h();l(),x(e._intl.optionalLabel)}}function Wi(t,p){if(t&1&&(a(0,"div",6),s(1),r()),t&2){let e=h();l(),x(e.errorMessage)}}var Ci=["*"];function Zi(t,p){}function Xi(t,p){if(t&1&&(F(0),u(1,Zi,0,0,"ng-template",0)),t&2){let e=h();l(),m("cdkPortalOutlet",e._portal)}}var Yi=["animatedContainer"],Si=(t,p)=>({step:t,i:p});function Ji(t,p){t&1&&F(0)}function en(t,p){t&1&&O(0,"div",7)}function tn(t,p){if(t&1&&(Z(0,6),u(1,en,1,0,"div",7)),t&2){let e=p.$implicit,i=p.$index,n=p.$index,o=p.$count;h(2);let d=Le(4);m("ngTemplateOutlet",d)("ngTemplateOutletContext",Ne(3,Si,e,i)),l(),D(n!==o-1?1:-1)}}function nn(t,p){if(t&1&&(a(0,"div",8,1),Z(2,9),r()),t&2){let e=p.$implicit,i=p.$index,n=h(2);Re("mat-horizontal-stepper-content-"+n._getAnimationDirection(i)),m("id",n._getStepContentId(i)),P("aria-labelledby",n._getStepLabelId(i))("inert",n.selectedIndex===i?null:""),l(2),m("ngTemplateOutlet",e.content)}}function an(t,p){if(t&1&&(a(0,"div",2)(1,"div",3),he(2,tn,2,6,null,null,ue),r(),a(4,"div",4),he(5,nn,3,6,"div",5,ue),r()()),t&2){let e=h();l(2),fe(e.steps),l(3),fe(e.steps)}}function rn(t,p){if(t&1&&(a(0,"div",10),Z(1,6),a(2,"div",11,1)(4,"div",12)(5,"div",13),Z(6,9),r()()()()),t&2){let e=p.$implicit,i=p.$index,n=p.$index,o=p.$count,d=h(2),b=Le(4);l(),m("ngTemplateOutlet",b)("ngTemplateOutletContext",Ne(10,Si,e,i)),l(),w("mat-stepper-vertical-line",n!==o-1)("mat-vertical-content-container-active",d.selectedIndex===i),P("inert",d.selectedIndex===i?null:""),l(2),m("id",d._getStepContentId(i)),P("aria-labelledby",d._getStepLabelId(i)),l(2),m("ngTemplateOutlet",e.content)}}function on(t,p){if(t&1&&he(0,rn,7,13,"div",10,ue),t&2){let e=h();fe(e.steps)}}function sn(t,p){if(t&1){let e=X();a(0,"mat-step-header",14),v("click",function(){let n=C(e).step;return S(n.select())})("keydown",function(n){C(e);let o=h();return S(o._onKeydown(n))}),r()}if(t&2){let e=p.step,i=p.i,n=h();w("mat-horizontal-stepper-header",n.orientation==="horizontal")("mat-vertical-stepper-header",n.orientation==="vertical"),m("tabIndex",n._getFocusIndex()===i?0:-1)("id",n._getStepLabelId(i))("index",i)("state",n._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",n.selectedIndex===i)("active",n._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",n._iconOverrides)("disableRipple",n.disableRipple||!n._stepIsNavigable(i,e))("color",e.color||n.color),P("aria-posinset",i+1)("aria-setsize",n.steps.length)("aria-controls",n._getStepContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",n._stepIsNavigable(i,e)?null:!0)}}var se=(()=>{class t extends Ue{static \u0275fac=(()=>{let e;return function(n){return(e||(e=ne(t)))(n||t)}})();static \u0275dir=_({type:t,selectors:[["","matStepLabel",""]],features:[L]})}return t})(),Oe=(()=>{class t{changes=new R;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(i){return new(i||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ln(t){return t||new Oe}var pn={provide:Oe,deps:[[new nt,new at,Oe]],useFactory:ln},Ge=(()=>{class t extends $e{_intl=c(Oe);_focusMonitor=c(Se);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let e=c(Ee);e.load(ke),e.load(wt);let i=c(G);this._intlSubscription=this._intl.changes.subscribe(()=>i.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof se?null:this.label}_templateLabel(){return this.label instanceof se?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=T({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,n){i&2&&Re("mat-"+(n.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[L],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(O(0,"div",0),a(1,"div")(2,"div",1),u(3,Hi,1,2,"ng-container",2)(4,$i,2,1),r()(),a(5,"div",3),u(6,Ui,2,1,"div",4)(7,Gi,2,1,"div",4)(8,Ki,2,1,"div",5)(9,Wi,2,1,"div",6),r()),i&2){let o;m("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),l(),st("mat-step-icon-state-",n.state," mat-step-icon"),w("mat-step-icon-selected",n.selected),l(2),D(n.iconOverrides&&n.iconOverrides[n.state]?3:4),l(2),w("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error",n.state=="error"),l(),D((o=n._templateLabel())?6:n._stringLabel()?7:-1,o),l(2),D(n.optional&&n.state!="error"?8:-1),l(),D(n.state==="error"?9:-1)}},dependencies:[kt,He,De],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return t})(),dn=(()=>{class t{templateRef=c(q);name;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return t})(),cn=(()=>{class t{_template=c(q);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=_({type:t,selectors:[["ng-template","matStepContent",""]]})}return t})(),Ke=(()=>{class t extends Pe{_errorStateMatcher=c(Ie,{skipSelf:!0});_viewContainerRef=c(ce);_isSelected=te.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(tt(()=>this._stepper.selectionChange.pipe(Ye(e=>e.selectedStep===this),A(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new be(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){let n=this._errorStateMatcher.isErrorState(e,i),o=!!(e&&e.invalid&&this.interacted);return n||o}static \u0275fac=(()=>{let e;return function(n){return(e||(e=ne(t)))(n||t)}})();static \u0275cmp=T({type:t,selectors:[["mat-step"]],contentQueries:function(i,n,o){if(i&1&&(M(o,se,5),M(o,cn,5)),i&2){let d;f(d=g())&&(n.stepLabel=d.first),f(d=g())&&(n._lazyContent=d.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[N([{provide:Ie,useExisting:t},{provide:Pe,useExisting:t}]),L],ngContentSelectors:Ci,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,n){i&1&&(U(),u(0,Xi,2,1,"ng-template"))},dependencies:[ye],encapsulation:2,changeDetection:0})}return t})(),We=(()=>{class t extends oe{_ngZone=c(le);_renderer=c(de);_animationsModule=c(pe,{optional:!0});_cleanupTransition;_isAnimating=E(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new W;_icons;animationDone=new y;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}_animationDuration="";_isServer=!c(Et).isBrowser;constructor(){super();let i=c(j).nativeElement.nodeName.toLowerCase();this.orientation=i==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(H(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(H(this._destroyed)).subscribe(()=>{let e=this._getAnimationDuration();e==="0ms"||e==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let e=!1;this._animatedContainers.changes.pipe(A(null),H(this._destroyed)).subscribe(()=>queueMicrotask(()=>{e||(e=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=e=>{let i=e.target;if(!i)return;let n=this.orientation==="horizontal"&&e.propertyName==="transform"&&i.classList.contains("mat-horizontal-stepper-content-current"),o=this.orientation==="vertical"&&e.propertyName==="grid-template-rows"&&i.classList.contains("mat-vertical-content-container-active");(n||o)&&this._animatedContainers.find(b=>b.nativeElement===i)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=T({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,n,o){if(i&1&&(M(o,Ke,5),M(o,dn,5)),i&2){let d;f(d=g())&&(n._steps=d),f(d=g())&&(n._icons=d)}},viewQuery:function(i,n){if(i&1&&(z(Ge,5),z(Yi,5)),i&2){let o;f(o=g())&&(n._stepHeader=o),f(o=g())&&(n._animatedContainers=o)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(i,n){i&2&&(P("aria-orientation",n.orientation),me("--mat-stepper-animation-duration",n._getAnimationDuration()),w("mat-stepper-horizontal",n.orientation==="horizontal")("mat-stepper-vertical",n.orientation==="vertical")("mat-stepper-label-position-end",n.orientation==="horizontal"&&n.labelPosition=="end")("mat-stepper-label-position-bottom",n.orientation==="horizontal"&&n.labelPosition=="bottom")("mat-stepper-header-position-bottom",n.headerPosition==="bottom")("mat-stepper-animating",n._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[N([{provide:oe,useExisting:t}]),L],ngContentSelectors:Ci,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,n){if(i&1&&(U(),u(0,Ji,1,0)(1,an,7,0,"div",2)(2,on,2,0)(3,sn,1,23,"ng-template",null,0,mt)),i&2){let o;D(n._isServer?0:-1),l(),D((o=n.orientation)==="horizontal"?1:o==="vertical"?2:-1)}},dependencies:[He,Ge],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return t})();var Ei=(()=>{class t extends bi{static \u0275fac=(()=>{let e;return function(n){return(e||(e=ne(t)))(n||t)}})();static \u0275dir=_({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(i,n){i&2&&ge("type",n.type)},features:[L]})}return t})(),wi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$({type:t});static \u0275inj=V({providers:[pn,Ie],imports:[re,Ce,yi,Fe,Ft,We,Ge,re]})}return t})();var un=["stepper"];function hn(t,p){t&1&&s(0,"Basic Information")}function fn(t,p){if(t&1&&(a(0,"mat-option",79),s(1),r()),t&2){let e=p.$implicit;m("value",e.code),l(),I(" ",e.name," ")}}function gn(t,p){t&1&&(a(0,"span"),s(1,"Saving..."),r())}function xn(t,p){t&1&&(a(0,"span"),s(1,"Next"),r())}function _n(t,p){t&1&&s(0,"Select Endpoints")}function vn(t,p){if(t&1&&(a(0,"span"),s(1),r()),t&2){let e=h();l(),dt("(",e.filteredAvailableFeatures().length," of ",e.availableFeaturesForCountry().length,")")}}function bn(t,p){if(t&1&&(a(0,"span"),s(1),r()),t&2){let e=h();l(),I("(",e.availableFeaturesForCountry().length,")")}}function yn(t,p){t&1&&(a(0,"div",80),s(1," Loading features... "),r())}function Cn(t,p){if(t&1){let e=X();a(0,"button",81),v("click",function(){C(e);let n=h();return S(n.endpointSearchQuery.set(""))}),a(1,"mat-icon",82),s(2,"close"),r()()}}function Sn(t,p){t&1&&(a(0,"mat-icon",91),s(1,"check_circle"),r())}function En(t,p){t&1&&(a(0,"mat-icon",92),s(1,"add_circle_outline"),r())}function wn(t,p){if(t&1){let e=X();a(0,"div",83),v("click",function(){let n=C(e).$implicit,o=h();return S(o.toggleFeature(n))}),a(1,"div",6)(2,"div",84),s(3),xe(4,"slice"),xe(5,"uppercase"),r(),a(6,"div",85)(7,"span",86),s(8),r(),a(9,"span",87),s(10),r(),a(11,"span",88),s(12),xe(13,"slice"),r()()(),u(14,Sn,2,0,"mat-icon",89)(15,En,2,0,"mat-icon",90),r()}if(t&2){let e=p.$implicit,i=h();w("opacity-50",i.isSelected(e)),l(3),I(" ",ct(5,13,Be(4,9,e.code,0,2))," "),l(5),x(e.name),l(),m("title",i.getEndpointDisplay(e)),l(),x(i.getEndpointDisplay(e)),l(2),I("",Be(13,15,e.description,0,50),"..."),l(2),m("ngIf",i.isSelected(e)),l(),m("ngIf",!i.isSelected(e))}}function Mn(t,p){if(t&1&&(a(0,"div",93)(1,"mat-icon",94),s(2,"search_off"),r(),a(3,"span"),s(4),r()()),t&2){let e=h();l(4),I('No endpoints match "',e.endpointSearchQuery(),'"')}}function In(t,p){if(t&1){let e=X();a(0,"div",95)(1,"div",96)(2,"span",97),s(3),r(),a(4,"div",85)(5,"span",86),s(6),r(),a(7,"span",87),s(8),r()()(),a(9,"button",98),v("click",function(n){let o=C(e).$implicit;return h().toggleFeature(o),S(n.stopPropagation())}),a(10,"mat-icon",82),s(11,"close"),r()()()}if(t&2){let e=p.$implicit,i=p.index,n=h();l(3),I(" ",i+1," "),l(3),x(e.name),l(),m("title",n.getEndpointDisplay(e)),l(),x(n.getEndpointDisplay(e))}}function kn(t,p){t&1&&(a(0,"div",99)(1,"mat-icon",100),s(2,"playlist_add"),r(),a(3,"span",101),s(4,"Select features to add steps"),r()())}function Dn(t,p){t&1&&(a(0,"span"),s(1,"Saving..."),r())}function Fn(t,p){t&1&&(a(0,"span"),s(1,"Next"),r())}function Tn(t,p){t&1&&s(0,"Review Parameters")}function An(t,p){t&1&&(a(0,"span",120),s(1,"Required"),r())}function Pn(t,p){if(t&1&&(lt(0),a(1,"span",117)(2,"span",118),s(3),r(),u(4,An,2,0,"span",119),r(),pt()),t&2){let e=p.$implicit;l(3),x(e.field),l(),m("ngIf",e.required)}}function On(t,p){if(t&1&&(a(0,"div")(1,"h4",113),s(2," Required Parameters "),r(),a(3,"div",114),u(4,Pn,5,2,"ng-container",115),r(),a(5,"p",116),s(6," These parameters will be mapped from your input file when running the batch. "),r()()),t&2){let e=h().$implicit;l(4),m("ngForOf",e.dependencies)}}function zn(t,p){t&1&&(a(0,"div",121),s(1," No parameters required for this endpoint. "),r())}function Rn(t,p){if(t&1&&(a(0,"mat-expansion-panel",102)(1,"mat-expansion-panel-header",103)(2,"mat-panel-title",104)(3,"span",105)(4,"span",106)(5,"span",107),s(6),r(),a(7,"span",108),s(8),r()(),a(9,"span",109),s(10),r()()(),O(11,"mat-panel-description",110),r(),a(12,"div",111),u(13,On,7,1,"div",34)(14,zn,2,0,"div",112),r()()),t&2){let e=p.$implicit,i=p.index,n=h();m("expanded",i===0),l(6),I("",i+1,"."),l(2),x(e.name),l(2),x(n.getEndpointDisplay(e)),l(3),m("ngIf",(e.dependencies==null?null:e.dependencies.length)>0),l(),m("ngIf",!e.dependencies||e.dependencies.length===0)}}function Ln(t,p){t&1&&(a(0,"span"),s(1,"Saving..."),r())}function Nn(t,p){t&1&&(a(0,"span"),s(1,"Next"),r())}function Bn(t,p){t&1&&s(0,"Review & Create")}function Hn(t,p){if(t&1&&(a(0,"div",122)(1,"span",123),s(2),r(),a(3,"span",67),s(4),r()()),t&2){let e=p.$implicit;l(2),x(e.name),l(2),I("$",(e.price||e.smartCheckPrice||0).toFixed(2),"")}}var Vr=(()=>{class t{constructor(){this._formBuilder=c(Zt),this._smartBatchService=c(ai),this._router=c(bt),this._route=c(vt),this.isEditMode=E(!1),this.editConfigId=E(null),this.isLoadingConfig=E(!1),this.isSavingStep=E(!1),this.countries=E([{code:"Colombia",name:"\u{1F1E8}\u{1F1F4} Colombia"},{code:"Peru",name:"\u{1F1F5}\u{1F1EA} Peru"},{code:"Mexico",name:"\u{1F1F2}\u{1F1FD} Mexico"},{code:"Brazil",name:"\u{1F1E7}\u{1F1F7} Brazil"},{code:"Chile",name:"\u{1F1E8}\u{1F1F1} Chile"},{code:"Argentina",name:"\u{1F1E6}\u{1F1F7} Argentina"},{code:"Ecuador",name:"\u{1F1EA}\u{1F1E8} Ecuador"},{code:"Venezuela",name:"\u{1F1FB}\u{1F1EA} Venezuela"},{code:"United States",name:"\u{1F1FA}\u{1F1F8} United States"},{code:"Spain",name:"\u{1F1EA}\u{1F1F8} Spain"}]),this.availableFeatures=E([]),this.isLoadingFeatures=E(!1),this.step1Form=this._formBuilder.group({name:["",[K.required,K.maxLength(150)]],description:["",[K.maxLength(800)]],country:["",K.required],inputFormat:["csv",K.required],outputFormat:["csv",K.required],mergeStrategy:["sequential",K.required]}),this.selectedFeatures=E([]),this.endpointSearchQuery=E(""),this.selectedCountryForEndpoints=E(""),this.availableFeaturesForCountry=ve(()=>{let i=this.availableFeatures(),n=this.selectedCountryForEndpoints();return n?i.filter(o=>o.country===n||o.country&&String(o.country).toLowerCase()==="world"):[]}),this.filteredAvailableFeatures=ve(()=>{let i=this.endpointSearchQuery().trim().toLowerCase(),n=this.availableFeaturesForCountry();return i?n.filter(o=>{let d=(o.name??"").toLowerCase(),b=this.getEndpointDisplay(o).toLowerCase(),J=(o.code??"").toLowerCase();return d.includes(i)||b.includes(i)||J.includes(i)}):n}),this.totalCostPerRecord=ve(()=>this.selectedFeatures().reduce((i,n)=>i+(n.price||n.smartCheckPrice||0),0));let e=this._route.snapshot.paramMap.get("id");e&&(this.isEditMode.set(!0),this.editConfigId.set(e),this.loadConfiguration(e)),this.step1Form.get("country")?.valueChanges.subscribe(i=>{i&&!this.isLoadingConfig()&&this.fetchFeatures(i)})}loadConfiguration(e){this.isLoadingConfig.set(!0),this._smartBatchService.getConfiguration(e).subscribe({next:i=>{let n=i.data,o=(n.country||"").trim(),b=this.countries().find(J=>J.code.toLowerCase()===o.toLowerCase())?.code??o;this.step1Form.patchValue({name:n.name,description:n.description||"",country:b,inputFormat:n.inputFormat,outputFormat:n.outputFormat,mergeStrategy:n.mergeStrategy}),this.selectedCountryForEndpoints.set(b),this._smartBatchService.getAvailableFeatures().subscribe({next:J=>{this.availableFeatures.set(J.data||[]);let Mi=n.steps.sort((ee,ze)=>ee.sequence-ze.sequence).map(ee=>typeof ee.appFeature=="object"&&ee.appFeature?ee.appFeature:J.data.find(ze=>ze._id===ee.appFeature)).filter(Boolean);this.selectedFeatures.set(Mi),this.isLoadingConfig.set(!1)},error:()=>{this.isLoadingConfig.set(!1)}})},error:()=>{this.isLoadingConfig.set(!1),this._router.navigate(["/smart-batch"])}})}fetchFeatures(e){this.isLoadingFeatures.set(!0),this.selectedFeatures.set([]),this.endpointSearchQuery.set(""),this.selectedCountryForEndpoints.set(e),this._smartBatchService.getAvailableFeatures().subscribe({next:i=>{this.availableFeatures.set(i.data||[]),this.isLoadingFeatures.set(!1)},error:()=>{this.isLoadingFeatures.set(!1)}})}toggleFeature(e){this.selectedFeatures().findIndex(o=>o._id===e._id)>=0?this.selectedFeatures.update(o=>o.filter(d=>d._id!==e._id)):this.selectedFeatures.update(o=>[...o,e])}isSelected(e){return this.selectedFeatures().some(i=>i._id===e._id)}getEndpointDisplay(e){let i=e?.url;return i?i.startsWith("/")?i:"/"+i:e?.code??""}drop(e){let i=this.selectedFeatures();ri(i,e.previousIndex,e.currentIndex),this.selectedFeatures.set([...i])}buildConfigFromCurrentState(){let e=this.step1Form.value,i=this.selectedFeatures().map((n,o)=>({appFeature:n._id,sequence:o+1,enabled:!0,parameterDefaults:{},maxRetries:3,inputFieldMapping:{},outputFieldsToKeep:[],retryDelayBaseSeconds:4,timeoutSeconds:30}));return{name:e.name,description:e.description,country:e.country,inputFormat:e.inputFormat,outputFormat:e.outputFormat,mergeStrategy:e.mergeStrategy,steps:i,isActive:!0}}onNext(e){if(this.isEditMode()&&this.editConfigId()){let i=this.buildConfigFromCurrentState();if(i.steps.length===0){this.stepper?.next();return}this.isSavingStep.set(!0),this._smartBatchService.updateConfiguration(this.editConfigId(),i).subscribe({next:()=>{this.isSavingStep.set(!1),this.stepper?.next()},error:n=>{console.error("Error saving step",n),this.isSavingStep.set(!1)}})}else this.stepper?.next()}submit(){if(this.step1Form.invalid||this.selectedFeatures().length===0)return;let e=this.buildConfigFromCurrentState();this.isEditMode()&&this.editConfigId()?this._smartBatchService.updateConfiguration(this.editConfigId(),e).subscribe({next:()=>{this._router.navigate(["/smart-batch"])},error:i=>{console.error("Error updating batch",i)}}):this._smartBatchService.createConfiguration(e).subscribe({next:()=>{this._router.navigate(["/smart-batch"])},error:i=>{console.error("Error creating batch",i)}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["create-batch-config"]],viewQuery:function(i,n){if(i&1&&z(un,5),i&2){let o;f(o=g())&&(n.stepper=o.first)}},decls:160,vars:31,consts:[["stepper",""],[1,"flex","flex-col","w-full","h-full","min-h-screen","relative"],[1,"fixed","inset-0","bg-gradient-to-b","from-slate-50","to-white","dark:from-slate-900","dark:to-slate-950","pointer-events-none"],[1,"absolute","inset-0","bg-[radial-gradient(ellipse_at_20%_20%,rgba(99,102,241,0.08),transparent_50%),radial-gradient(ellipse_at_80%_80%,rgba(139,92,246,0.08),transparent_50%)]"],[1,"relative","z-10","flex","flex-col","w-full","h-full"],[1,"flex","items-center","justify-between","px-8","py-5","border-b","border-slate-200/80","dark:border-slate-800/80","bg-white/80","dark:bg-slate-900/80","backdrop-blur-xl"],[1,"flex","items-center","gap-3"],["mat-icon-button","","routerLink","/smart-batch"],[1,"text-xl","font-bold","text-slate-900","dark:text-white"],[1,"flex-1","overflow-auto","p-8","max-w-5xl","mx-auto","w-full"],[1,"bg-white/80","dark:bg-slate-900/80","backdrop-blur-xl","rounded-2xl","border","border-slate-200","dark:border-slate-800","shadow-lg","p-8"],["orientation","vertical",1,"bg-transparent",3,"linear"],[3,"stepControl"],["matStepLabel",""],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","pt-4",3,"formGroup"],["appearance","outline",1,"w-full","col-span-2"],["matInput","","formControlName","name","placeholder","e.g. Colombian ID Verification Batch"],["matInput","","formControlName","description","rows","3","placeholder","Describe the purpose of this batch..."],["appearance","outline",1,"w-full"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["formControlName","mergeStrategy"],["value","sequential"],["value","parallel-independent"],["value","parallel-with-fallback"],[1,"col-span-2","grid","grid-cols-2","gap-6"],["appearance","outline"],["formControlName","inputFormat"],["value","csv"],["value","xlsx"],["value","jsonl"],["formControlName","outputFormat"],[1,"col-span-2","pt-4"],["mat-flat-button","","color","primary",3,"click","disabled"],[4,"ngIf"],[1,"flex","flex-col","gap-6","pt-4","h-[600px]"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-slate-500","uppercase"],["class","text-xs text-blue-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","h-full","min-h-0"],[1,"flex","flex-col","border","border-slate-200/80","dark:border-slate-700/80","rounded-xl","overflow-hidden","bg-white/60","dark:bg-slate-800/60","backdrop-blur-sm"],[1,"bg-slate-50/80","dark:bg-slate-900/50","px-4","py-3","border-b","border-slate-200/80","dark:border-slate-700/80","font-medium","text-sm"],[1,"p-2","border-b","border-slate-200/80","dark:border-slate-700/80"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","!mb-0"],["matPrefix","",1,"text-slate-400","icon-size-5"],["matInput","","type","text","placeholder","Search by title or endpoint...",1,"!py-1",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search",3,"click",4,"ngIf"],[1,"flex-1","overflow-y-auto","p-2","space-y-2"],["class","flex items-center justify-between p-3 rounded-lg border border-transparent hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-200 dark:hover:border-slate-600 cursor-pointer transition-all select-none",3,"opacity-50","click",4,"ngFor","ngForOf"],["class","flex flex-col items-center justify-center py-8 text-slate-400 text-sm",4,"ngIf"],[1,"flex","flex-col","border","border-blue-200/80","dark:border-blue-800/50","rounded-xl","overflow-hidden","bg-blue-50/60","dark:bg-blue-900/20","backdrop-blur-sm"],[1,"bg-blue-100/60","dark:bg-blue-900/30","px-4","py-3","border-b","border-blue-200/80","dark:border-blue-800/50","font-medium","text-sm","text-blue-700","dark:text-blue-300"],["cdkDropList","",1,"flex-1","overflow-y-auto","p-2","space-y-2",3,"cdkDropListDropped"],["cdkDrag","","class","flex items-center justify-between gap-3 p-3 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 shadow-sm cursor-move",4,"ngFor","ngForOf"],["class","flex flex-col items-center justify-center h-full text-slate-400 opacity-60",4,"ngIf"],[1,"pt-4","flex","gap-3"],["mat-button","","matStepperPrevious",""],[1,"pt-4","flex","flex-col","gap-4"],[1,"text-sm","text-slate-500","mb-2"],["multi",""],["class","!bg-white/60 dark:!bg-slate-800/60 !backdrop-blur-sm",3,"expanded",4,"ngFor","ngForOf"],[1,"pt-6","flex","gap-3"],[1,"pt-6","max-w-2xl"],[1,"text-lg","font-bold","mb-4"],[1,"bg-slate-50","dark:bg-slate-900","rounded-lg","p-6","border","border-slate-200","dark:border-slate-800","space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-xs","text-slate-500","uppercase"],[1,"font-medium","text-slate-900","dark:text-white"],[1,"font-medium","text-slate-900","dark:text-white","capitalize"],[1,"mt-8"],[1,"text-sm","font-bold","text-slate-500","uppercase","tracking-wider","mb-3"],[1,"bg-gradient-to-br","from-green-50","to-emerald-50","dark:from-green-900/20","dark:to-emerald-900/10","border","border-green-200","dark:border-green-800/30","rounded-xl","p-5"],[1,"space-y-2","mb-4"],["class","flex justify-between text-sm",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","pt-3","border-t","border-green-200","dark:border-green-800/50"],[1,"font-medium","text-green-700","dark:text-green-300"],[1,"text-2xl","font-bold","text-green-700","dark:text-green-300"],[1,"pt-8","flex","gap-3"],["mat-flat-button","","color","primary",3,"click"],[3,"value"],[1,"text-xs","text-blue-500"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search",3,"click"],[1,"icon-size-5"],[1,"flex","items-center","justify-between","p-3","rounded-lg","border","border-transparent","hover:bg-slate-50","dark:hover:bg-slate-700","hover:border-slate-200","dark:hover:border-slate-600","cursor-pointer","transition-all","select-none",3,"click"],[1,"w-8","h-8","rounded-full","bg-blue-100","text-blue-600","flex","items-center","justify-center","font-bold","text-xs"],[1,"flex","flex-col","min-w-0","flex-1"],[1,"font-medium","text-slate-900","dark:text-white","text-sm"],[1,"text-xs","font-mono","text-blue-600","dark:text-blue-400","truncate",3,"title"],[1,"text-xs","text-slate-500","truncate"],["class","text-green-500 icon-size-5",4,"ngIf"],["class","text-slate-300 icon-size-5",4,"ngIf"],[1,"text-green-500","icon-size-5"],[1,"text-slate-300","icon-size-5"],[1,"flex","flex-col","items-center","justify-center","py-8","text-slate-400","text-sm"],[1,"icon-size-10","mb-2"],["cdkDrag","",1,"flex","items-center","justify-between","gap-3","p-3","rounded-lg","border","border-slate-200","dark:border-slate-600","bg-white","dark:bg-slate-900","shadow-sm","cursor-move"],[1,"flex","items-center","gap-3","min-w-0","flex-1"],[1,"flex","items-center","justify-center","w-6","h-6","shrink-0","rounded-full","bg-slate-100","dark:bg-slate-800","text-slate-500","text-xs","font-bold","font-mono"],["mat-icon-button","","color","warn",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-full","text-slate-400","opacity-60"],[1,"icon-size-8","mb-2"],[1,"text-sm"],[1,"!bg-white/60","dark:!bg-slate-800/60","!backdrop-blur-sm",3,"expanded"],[1,"!h-auto","!min-h-[3.5rem]"],[1,"!flex-1","!min-w-0","!mr-4"],[1,"flex","flex-col","gap-0.5","w-full"],[1,"flex","items-center","gap-2","w-full"],[1,"font-mono","text-xs","text-slate-400","shrink-0"],[1,"font-medium","text-slate-900","dark:text-white","min-w-0","break-words"],[1,"text-xs","font-mono","text-blue-600","dark:text-blue-400","pl-5"],[1,"!flex-none"],[1,"pt-4"],["class","text-sm text-slate-400 italic",4,"ngIf"],[1,"text-xs","font-bold","text-slate-500","uppercase","tracking-wider","mb-3"],[1,"flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],[1,"text-xs","text-slate-400","mt-3"],[1,"inline-flex","items-center","gap-2","px-3","py-1.5","rounded-lg","bg-slate-100","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700"],[1,"font-medium","text-sm","text-slate-700","dark:text-slate-300"],["class","text-xs text-orange-500 font-medium",4,"ngIf"],[1,"text-xs","text-orange-500","font-medium"],[1,"text-sm","text-slate-400","italic"],[1,"flex","justify-between","text-sm"],[1,"text-slate-600","dark:text-slate-400"]],template:function(i,n){if(i&1){let o=X();a(0,"div",1)(1,"div",2),O(2,"div",3),r(),a(3,"div",4)(4,"div",5)(5,"div",6)(6,"button",7)(7,"mat-icon"),s(8,"arrow_back"),r()(),a(9,"h1",8),s(10),r()()(),a(11,"div",9)(12,"div",10)(13,"mat-stepper",11,0)(15,"mat-step",12),u(16,hn,1,0,"ng-template",13),a(17,"form",14)(18,"mat-form-field",15)(19,"mat-label"),s(20,"Configuration Name"),r(),O(21,"input",16),a(22,"mat-error"),s(23,"Name is required"),r()(),a(24,"mat-form-field",15)(25,"mat-label"),s(26,"Description"),r(),O(27,"textarea",17),r(),a(28,"mat-form-field",18)(29,"mat-label"),s(30,"Country"),r(),a(31,"mat-select",19),u(32,fn,2,2,"mat-option",20),r(),a(33,"mat-error"),s(34,"Country is required"),r()(),a(35,"mat-form-field",18)(36,"mat-label"),s(37,"Merge Strategy"),r(),a(38,"mat-select",21)(39,"mat-option",22),s(40,"Sequential (One by one)"),r(),a(41,"mat-option",23),s(42,"Parallel Independent"),r(),a(43,"mat-option",24),s(44,"Parallel with Fallback"),r()()(),a(45,"div",25)(46,"mat-form-field",26)(47,"mat-label"),s(48,"Input Fields Format"),r(),a(49,"mat-select",27)(50,"mat-option",28),s(51,"CSV"),r(),a(52,"mat-option",29),s(53,"Excel (XLSX)"),r(),a(54,"mat-option",30),s(55,"JSONL"),r()()(),a(56,"mat-form-field",26)(57,"mat-label"),s(58,"Result Output Format"),r(),a(59,"mat-select",31)(60,"mat-option",28),s(61,"CSV"),r(),a(62,"mat-option",29),s(63,"Excel (XLSX)"),r(),a(64,"mat-option",30),s(65,"JSONL"),r()()()(),a(66,"div",32)(67,"button",33),v("click",function(){return C(o),S(n.onNext(1))}),u(68,gn,2,0,"span",34)(69,xn,2,0,"span",34),r()()()(),a(70,"mat-step"),u(71,_n,1,0,"ng-template",13),a(72,"div",35)(73,"div",36)(74,"h3",37),s(75," Available Features "),u(76,vn,2,2,"span",34)(77,bn,2,1,"span",34),r(),u(78,yn,2,0,"div",38),r(),a(79,"div",39)(80,"div",40)(81,"div",41),s(82," Available "),r(),a(83,"div",42)(84,"mat-form-field",43)(85,"mat-icon",44),s(86,"search"),r(),a(87,"input",45),v("ngModelChange",function(b){return C(o),S(n.endpointSearchQuery.set(b))}),r(),u(88,Cn,3,0,"button",46),r()(),a(89,"div",47),u(90,wn,16,19,"div",48)(91,Mn,5,1,"div",49),r()(),a(92,"div",50)(93,"div",51),s(94," Selected Steps (Drag to reorder) "),r(),a(95,"div",52),v("cdkDropListDropped",function(b){return C(o),S(n.drop(b))}),u(96,In,12,4,"div",53)(97,kn,5,0,"div",54),r()()(),a(98,"div",55)(99,"button",56),s(100,"Back"),r(),a(101,"button",33),v("click",function(){return C(o),S(n.onNext(2))}),u(102,Dn,2,0,"span",34)(103,Fn,2,0,"span",34),r()()()(),a(104,"mat-step"),u(105,Tn,1,0,"ng-template",13),a(106,"div",57)(107,"p",58),s(108," Review the required parameters for each endpoint. These will be provided when running the batch. "),r(),a(109,"mat-accordion",59),u(110,Rn,15,6,"mat-expansion-panel",60),r(),a(111,"div",61)(112,"button",56),s(113,"Back"),r(),a(114,"button",33),v("click",function(){return C(o),S(n.onNext(3))}),u(115,Ln,2,0,"span",34)(116,Nn,2,0,"span",34),r()()()(),a(117,"mat-step"),u(118,Bn,1,0,"ng-template",13),a(119,"div",62)(120,"h3",63),s(121,"Summary"),r(),a(122,"div",64)(123,"div",65)(124,"div")(125,"span",66),s(126,"Configuration Name"),r(),a(127,"span",67),s(128),r()(),a(129,"div")(130,"span",66),s(131,"Country"),r(),a(132,"span",67),s(133),r()(),a(134,"div")(135,"span",66),s(136,"Strategy"),r(),a(137,"span",68),s(138),r()(),a(139,"div")(140,"span",66),s(141,"Total Steps"),r(),a(142,"span",67),s(143),r()()()(),a(144,"div",69)(145,"h4",70),s(146," Estimated Cost per Record "),r(),a(147,"div",71)(148,"div",72),u(149,Hn,5,2,"div",73),r(),a(150,"div",74)(151,"span",75),s(152,"Total per record"),r(),a(153,"span",76),s(154),r()()()(),a(155,"div",77)(156,"button",56),s(157,"Back"),r(),a(158,"button",78),v("click",function(){return C(o),S(n.submit())}),s(159),r()()()()()()()()()}if(i&2){let o,d,b;l(10),I(" ",n.isEditMode()?"Edit":"Create"," Batch Configuration "),l(3),m("linear",!0),l(2),m("stepControl",n.step1Form),l(2),m("formGroup",n.step1Form),l(15),m("ngForOf",n.countries()),l(35),m("disabled",n.step1Form.invalid||n.isSavingStep()),l(),m("ngIf",n.isSavingStep()),l(),m("ngIf",!n.isSavingStep()),l(7),m("ngIf",n.endpointSearchQuery()),l(),m("ngIf",!n.endpointSearchQuery()),l(),m("ngIf",n.isLoadingFeatures()),l(9),m("ngModel",n.endpointSearchQuery()),l(),m("ngIf",n.endpointSearchQuery()),l(2),m("ngForOf",n.filteredAvailableFeatures()),l(),m("ngIf",!n.isLoadingFeatures()&&n.filteredAvailableFeatures().length===0),l(5),m("ngForOf",n.selectedFeatures()),l(),m("ngIf",n.selectedFeatures().length===0),l(4),m("disabled",n.selectedFeatures().length===0||n.isSavingStep()),l(),m("ngIf",n.isSavingStep()),l(),m("ngIf",!n.isSavingStep()),l(7),m("ngForOf",n.selectedFeatures()),l(4),m("disabled",n.isSavingStep()),l(),m("ngIf",n.isSavingStep()),l(),m("ngIf",!n.isSavingStep()),l(12),x((o=n.step1Form.get("name"))==null?null:o.value),l(5),x((d=n.step1Form.get("country"))==null?null:d.value),l(5),x((b=n.step1Form.get("mergeStrategy"))==null?null:b.value),l(5),I("",n.selectedFeatures().length," steps"),l(6),m("ngForOf",n.selectedFeatures()),l(5),I("$",n.totalCostPerRecord().toFixed(2),""),l(5),I(" ",n.isEditMode()?"Update":"Create"," Configuration ")}},dependencies:[_t,ht,ft,gt,xt,Xt,Gt,Qt,qt,$t,Ut,Yt,Kt,Wt,Ct,yt,wi,Ke,se,We,Ei,Bt,Nt,Lt,ei,Jt,zt,Tt,At,Pt,Ot,Rt,ii,ti,Dt,Fe,De,ni,Vt,vi,_i,je,qe,xi,gi,li,si,oi,Ht],encapsulation:2})}}return t})();export{Vr as CreateBatchConfigComponent};
