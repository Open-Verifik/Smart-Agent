import{d as Pt}from"./chunk-YRNHSQ3U.js";import{d as pt,j as Bt}from"./chunk-37V3OUDV.js";import{t as Ct,w as Ft}from"./chunk-T7FZ7TWI.js";import{a as Vt}from"./chunk-RYSD4MPH.js";import{a as Lt,b as Rt}from"./chunk-5UFO4MKM.js";import{C as mt,D as _t,Da as St,F as ft,G as me,H as _e,Ha as Mt,N as Te,P as ke,Ua as Ot,V as De,W as gt,X as yt,Z as q,_ as Q,c as ct,ea as vt,f as j,ja as xt,k as L,ka as bt,la as Ee,ma as W,n as he,pa as fe,q as ut,ra as At,s as Ie,ta as wt,v as ht,va as It,wa as Tt,za as Et}from"./chunk-NUSPJSZ2.js";import{b as kt,c as Dt}from"./chunk-J24CFYGA.js";import{$ as ae,$c as st,Aa as ze,Ac as nt,B as Ne,Cc as ot,Da as re,Db as $,Eb as h,F as B,Fa as A,Fb as Xe,Gb as de,Hc as at,J as je,La as Ke,O as We,Qa as $e,Qb as r,Rb as l,Rc as rt,Sb as M,T as ne,Tb as Ce,U as Y,Ub as Ae,Wb as k,X as oe,Xb as et,Yb as x,Zb as m,_ as S,ab as K,ad as lt,ba as R,bc as ce,cc as pe,da as He,dc as ue,ea as u,eb as qe,f as P,fb as s,gc as tt,h as Ve,hb as Qe,hc as p,ic as C,jb as Je,jc as I,k as E,kc as we,l as te,ld as dt,oa as Ue,p as xe,pa as y,qa as v,rb as N,sb as se,ta as Ge,tb as be,tc as it,u as ie,va as z,vb as le,wb as Ze,xb as w,y as Be,yc as _,z as G,za as Ye,zc as g}from"./chunk-WSG5BV33.js";import{a as T,b as ee,g as O}from"./chunk-GAL4ENT6.js";var ge=(()=>{class n{get progress(){return!!this.tail.length}constructor(e){this._http=e,this.tail=[]}sendRequest(e,t,i={},a={}){e=e.toLowerCase();let d=localStorage.getItem("accessToken")||"",c=new ct(T(T({},d&&{Authorization:`Bearer ${d}`}),a.headers)),f=ee(T({},a),{headers:c}),D;switch(e){case"get":D=this._http.get(t,T({params:i},f));break;case"post":D=this._http.post(t,i,f);break;case"put":D=this._http.put(t,i,f);break;case"delete":D=this._http.delete(t,T({params:i},f));break;default:throw new Error("Method not provided")}return this._trackRequest(D)}_trackRequest(e){return this.tail.push(e),e.pipe(We(0),je(()=>{let t=this.tail.indexOf(e);t>-1&&this.tail.splice(t,1)}))}static{this.\u0275fac=function(t){return new(t||n)(He(j))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Nt=(()=>{class n{constructor(){this._httpClient=u(j),this._httpWrapper=u(ge),this._user=new Ve(1)}set user(e){this._user.next(e)}get user$(){return this._user.asObservable()}get(){return this._httpWrapper.sendRequest("post",L.apiUrl+"/v2/auth/session",{origin:"app"}).pipe(xe(e=>e.data?.user||e.user||e),oe(e=>{this._user.next(e)}))}update(e){return this._httpClient.patch(L.baseUrl+"api/common/user",{user:e}).pipe(xe(t=>{this._user.next(t)}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ye=class{static isTokenExpired(o,e){if(!o||o===""||o.trim()===""||o.split(".").length!==3)return!0;let t=null;try{t=this._getTokenExpirationDate(o)}catch(i){return console.warn("Failed to decode token:",i),!0}return e=e||0,t===null?!0:!(t.valueOf()>new Date().valueOf()+e*1e3)}static _b64decode(o){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="";if(o=String(o).replace(/=+$/,""),o.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let i=0,a,d,c=0;d=o.charAt(c++);~d&&(a=i%4?a*64+d:d,i++%4)?t+=String.fromCharCode(255&a>>(-2*i&6)):0)d=e.indexOf(d);return t}static _b64DecodeUnicode(o){return decodeURIComponent(Array.prototype.map.call(this._b64decode(o),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}static _urlBase64Decode(o){let e=o.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:{e+="==";break}case 3:{e+="=";break}default:throw Error("Illegal base64url string!")}return this._b64DecodeUnicode(e)}static _decodeToken(o){if(!o)return null;let e=o.split(".");if(e.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let t=this._urlBase64Decode(e[1]);if(!t)throw new Error("Cannot decode the token.");return JSON.parse(t)}static _getTokenExpirationDate(o){let e=this._decodeToken(o);if(!e.hasOwnProperty("exp"))return null;let t=new Date(0);return t.setUTCSeconds(e.exp),t}};var jt=(()=>{class n{constructor(){this._authenticated=!1,this._httpClient=u(j),this._userService=u(Nt),this.baseUrl=L.baseUrl}set accessToken(e){localStorage.setItem("accessToken",e)}get accessToken(){return localStorage.getItem("accessToken")??""}forgotPassword(e){return this._httpClient.post(this.baseUrl+"api/auth/forgot-password",e)}resetPassword(e){return this._httpClient.post(this.baseUrl+"api/auth/reset-password",e)}signIn(e){return this._authenticated?te(()=>new Error("User is already logged in.")):this._httpClient.post(this.baseUrl+"api/auth/sign-in",e).pipe(Y(t=>(this._authenticated=!0,this._userService.user=t.user,E(t))))}requestOTP(e){return this._authenticated?te(()=>new Error("User is already logged in.")):this._httpClient.post(this.baseUrl+"v2/auth/super/request-otp",e).pipe(Y(t=>E(t)))}confirmOTP(e){return this._authenticated?te(()=>new Error("User is already logged in.")):this._httpClient.post(this.baseUrl+"v2/auth/super/verify-otp",e).pipe(Y(t=>{if(t.data)return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("user",JSON.stringify(t.data.user)),this._authenticated=!0,this._userService.user=t.data.user,E(t.data)}))}signInUsingToken(){return this._httpClient.post(this.baseUrl+"api/auth/sign-in-with-token",{accessToken:this.accessToken}).pipe(Ne(()=>E(!1)),Y(e=>(e.accessToken,this._authenticated=!0,this._userService.user=e.user,E(!0))))}refreshSession(){return this._userService.get().pipe(oe(e=>{try{let t=i=>{let a=localStorage.getItem(i);if(a&&a!=="undefined"&&a!=="null")try{let d=JSON.parse(a),c=!1;e.credits!==void 0&&(d.credits=e.credits,c=!0),c&&localStorage.setItem(i,JSON.stringify(d))}catch(d){console.warn(`Failed to parse ${i} from local storage`,d)}};t("verifik_account"),t("user")}catch(t){console.error("Failed to sync balance to local storage",t)}}))}signOut(){return this._authenticated=!1,E(!0)}signUp(e){return this._httpClient.post(this.baseUrl+"api/auth/sign-up",e)}unlockSession(e){return this._httpClient.post(this.baseUrl+"api/auth/unlock-session",e)}check(){return this._authenticated?E(!0):this.accessToken?ye.isTokenExpired(this.accessToken)?(localStorage.removeItem("accessToken"),localStorage.removeItem("user"),this._authenticated=!1,E(!1)):this.signInUsingToken():E(!1)}simulateProjectLogin(e,t="onboarding"){let i={Authorization:`Bearer ${e}`};return this._httpClient.post(this.baseUrl+"v2/auth/project-login",{projectType:t},{headers:i})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Wt=(()=>{class n{constructor(){this._httpWrapper=u(ge),this._apiUrl=L.apiUrl}sendEmailOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/email-validations`,e)}validateEmailOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/email-validations/validate`,e)}sendPhoneOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/phone-validations`,e)}validatePhoneOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/phone-validations/validate`,e)}projectLogin(){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/auth/project-login`,{})}getSession(){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/auth/session`,{origin:"app"})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Jt(n,o){}var F=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var Me=(()=>{class n extends yt{_elementRef=u(re);_focusTrapFactory=u(_t);_config;_interactivityChecker=u(mt);_ngZone=u(ze);_overlayRef=u(Ee);_focusMonitor=u(ht);_renderer=u(Je);_changeDetectorRef=u(at);_injector=u(z);_platform=u(ut);_document=u(rt,{optional:!0});_portalOutlet;_focusTrapped=new P;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=u(F,{optional:!0})||new F,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{a(),d(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",i),d=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_trapFocus(e){this._isDestroyed||$e(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let i=he(),a=this._elementRef.nativeElement;(!i||i===this._document.body||i===a||a.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,t=he();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=he()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=N({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(t&1&&ce(q,7),t&2){let a;pe(a=ue())&&(i._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){t&2&&$("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[le],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&w(0,Jt,0,0,"ng-template",0)},dependencies:[q],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),J=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new P;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(o,e){this.overlayRef=o,this.config=e,this.disableClose=e.disableClose,this.backdropClick=o.backdropClick(),this.keydownEvents=o.keydownEvents(),this.outsidePointerEvents=o.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!_e(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=o.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(o,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(o),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(o="",e=""){return this.overlayRef.updateSize({width:o,height:e}),this}addPanelClass(o){return this.overlayRef.addPanelClass(o),this}removePanelClass(o){return this.overlayRef.removePanelClass(o),this}},Zt=new R("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=u(W);return()=>n.scrollStrategies.block()}}),Xt=new R("DialogData"),ei=new R("DefaultDialogConfig");var Oe=(()=>{class n{_overlay=u(W);_injector=u(z);_defaultOptions=u(ei,{optional:!0});_parentDialog=u(n,{optional:!0,skipSelf:!0});_overlayContainer=u(bt);_idGenerator=u(me);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new P;_afterOpenedAtThisLevel=new P;_ariaHiddenElements=new Map;_scrollStrategy=u(Zt);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ie(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ne(void 0)));constructor(){}open(e,t){let i=this._defaultOptions||new F;t=T(T({},i),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let a=this._getOverlayConfig(t),d=this._overlay.create(a),c=new J(d,t),f=this._attachContainer(d,c,t);if(c.containerInstance=f,!this.openDialogs.length){let D=this._overlayContainer.getContainerElement();f._focusTrapped?f._focusTrapped.pipe(B(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(D)}):this._hideNonDialogContentFromAssistiveTechnology(D)}return this._attachDialogContent(e,c,f,t),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){Se(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Se(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Se(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new xt({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,i){let a=i.injector||i.viewContainerRef?.injector,d=[{provide:F,useValue:i},{provide:J,useValue:t},{provide:Ee,useValue:e}],c;i.container?typeof i.container=="function"?c=i.container:(c=i.container.type,d.push(...i.container.providers(i))):c=Me;let f=new De(c,i.viewContainerRef,z.create({parent:a||this._injector,providers:d}));return e.attach(f).instance}_attachDialogContent(e,t,i,a){if(e instanceof Qe){let d=this._createInjector(a,t,i,void 0),c={$implicit:a.data,dialogRef:t};a.templateContext&&(c=T(T({},c),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),i.attachTemplatePortal(new gt(e,null,c,d))}else{let d=this._createInjector(a,t,i,this._injector),c=i.attachComponentPortal(new De(e,a.viewContainerRef,d));t.componentRef=c,t.componentInstance=c.instance}}_createInjector(e,t,i,a){let d=e.injector||e.viewContainerRef?.injector,c=[{provide:Xt,useValue:e.data},{provide:J,useValue:t}];return e.providers&&(typeof e.providers=="function"?c.push(...e.providers(t,e,i)):c.push(...e.providers)),e.direction&&(!d||!d.get(Te,null,{optional:!0}))&&c.push({provide:Te,useValue:{value:e.direction,change:E()}}),z.create({parent:d||a,providers:c})}_removeOpenDialog(e,t){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,d)=>{a?d.setAttribute("aria-hidden",a):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let a=t[i];a!==e&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Se(n,o){let e=n.length;for(;e--;)o(n[e])}var Ut=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Oe],imports:[fe,Q,ft,Q]})}return n})();function ti(n,o){}var X=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Pe="mdc-dialog--open",Gt="mdc-dialog--opening",Yt="mdc-dialog--closing",ii=150,ni=75,$t=(()=>{class n extends Me{_animationMode=u(Ke,{optional:!0});_animationStateChanged=new Ye;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Kt(this._config.enterAnimationDuration)??ii:0;_exitAnimationDuration=this._animationsEnabled?Kt(this._config.exitAnimationDuration)??ni:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(zt,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Gt,Pe)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Pe),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Pe),this._animationsEnabled?(this._hostElement.style.setProperty(zt,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Yt)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Gt,Yt)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ge(n)))(i||n)}})();static \u0275cmp=N({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,i){t&2&&(et("id",i._config.id),$("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),de("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[le],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1),w(2,ti,0,0,"ng-template",2),l()())},dependencies:[q],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),zt="--mat-dialog-transition-duration";function Kt(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Ie(n.substring(0,n.length-2)):n.endsWith("s")?Ie(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Z=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Z||{}),V=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new P;_beforeClosed=new P;_result;_closeFallbackTimeout;_state=Z.OPEN;_closeInteractionType;constructor(o,e,t){this._ref=o,this._containerInstance=t,this.disableClose=e.disableClose,this.id=o.id,o.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(G(i=>i.state==="opened"),B(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(G(i=>i.state==="closed"),B(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Be(this.backdropClick(),this.keydownEvents().pipe(G(i=>i.keyCode===27&&!this.disableClose&&!_e(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),Le(this,i.type==="keydown"?"keyboard":"mouse"))})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe(G(e=>e.state==="closing"),B(1)).subscribe(e=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Z.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let e=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?e.left(o.left):e.right(o.right):e.centerHorizontally(),o&&(o.top||o.bottom)?o.top?e.top(o.top):e.bottom(o.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",e=""){return this._ref.updateSize(o,e),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=Z.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Le(n,o,e){return n._closeInteractionType=o,n.close(e)}var ve=new R("MatMdcDialogData"),qt=new R("mat-mdc-dialog-default-options"),Qt=new R("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=u(W);return()=>n.scrollStrategies.block()}});var Re=(()=>{class n{_overlay=u(W);_defaultOptions=u(qt,{optional:!0});_scrollStrategy=u(Qt);_parentDialog=u(n,{optional:!0,skipSelf:!0});_idGenerator=u(me);_dialog=u(Oe);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new P;_afterOpenedAtThisLevel=new P;dialogConfigClass=X;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=ie(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ne(void 0)));constructor(){this._dialogRefConstructor=V,this._dialogContainerType=$t,this._dialogDataToken=ve}open(e,t){let i;t=T(T({},this._defaultOptions||new X),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(e,ee(T({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:F,useValue:t}]},templateContext:()=>({dialogRef:i}),providers:(d,c,f)=>(i=new this._dialogRefConstructor(d,t,f),i.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=a.componentRef,i.componentInstance=a.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let d=this.openDialogs.indexOf(i);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oi=(()=>{class n{dialogRef=u(V,{optional:!0});_elementRef=u(re);_dialog=u(Re);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=ri(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){Le(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=be({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){t&1&&x("click",function(d){return i._onButtonClick(d)}),t&2&&$("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Ue]})}return n})();var ai=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=be({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Ze([vt])]})}return n})();function ri(n,o){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?o.find(t=>t.id===e.id):null}var Fe=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=ae({providers:[Re],imports:[Ut,fe,Q,ke,ke]})}return n})();var si=["countryButton"],li=(n,o)=>({email:n,phone:o});function di(n,o){if(n&1&&(r(0,"span"),p(1),_(2,"transloco"),l()),n&2){let e=m(2);s(),C(g(2,1,e.errorKey()))}}function ci(n,o){if(n&1&&(r(0,"span"),p(1),l()),n&2){let e=m(2);s(),C(e.error())}}function pi(n,o){if(n&1&&(r(0,"div",10),w(1,di,3,3,"span",11)(2,ci,2,1,"span",11),l()),n&2){let e=m();s(),h("ngIf",e.errorKey()),s(),h("ngIf",!e.errorKey()&&e.error())}}function ui(n,o){if(n&1){let e=k();Ce(0),r(1,"button",15),x("click",function(){y(e);let i=m(2);return v(i.startEmailFlow())}),r(2,"mat-icon",16),p(3,"mail"),l(),r(4,"span",17),p(5),_(6,"transloco"),l()(),r(7,"button",15),x("click",function(){y(e);let i=m(2);return v(i.startPhoneFlow())}),r(8,"mat-icon",16),p(9,"smartphone"),l(),r(10,"span",17),p(11),_(12,"transloco"),l()(),r(13,"button",15),x("click",function(){y(e);let i=m(2);return v(i.startWhatsAppFlow())}),r(14,"mat-icon",16),p(15,"message"),l(),r(16,"span",17),p(17),_(18,"transloco"),l()(),r(19,"div",18)(20,"div",19),M(21,"div",20),l(),r(22,"div",21)(23,"span",22),p(24),_(25,"transloco"),l()()(),Ae()}n&2&&(s(5),C(g(6,4,"authModal.choice.continueEmail")),s(6),C(g(12,6,"authModal.choice.continueSMS")),s(6),C(g(18,8,"authModal.choice.continueWhatsApp")),s(7),C(g(25,10,"authModal.choice.or")))}function hi(n,o){if(n&1){let e=k();Ce(0),r(1,"button",23),x("click",function(){y(e);let i=m(2);return v(i.startWalletFlow())}),r(2,"div",24)(3,"mat-icon",16),p(4,"account_balance_wallet"),l(),r(5,"span",17),p(6),_(7,"transloco"),l()()(),Ae()}n&2&&(s(6),C(g(7,1,"authModal.choice.continueWallet")))}function mi(n,o){if(n&1&&(r(0,"div",25)(1,"div",26)(2,"mat-icon",27),p(3,"check_circle"),l(),r(4,"div",28)(5,"span",29),p(6),_(7,"transloco"),l(),r(8,"span",30),p(9),l()()()()),n&2){let e,t=m(2);s(6),C(g(7,3,"authModal.walletConnected.title")),s(3),we(" ",(e=t.connectedWalletAddress())==null?null:e.substring(0,6),"...",(e=t.connectedWalletAddress())==null?null:e.substring(38)," ")}}function _i(n,o){n&1&&(r(0,"div",31)(1,"span",32),p(2),_(3,"transloco"),l(),r(4,"a",33),p(5),_(6,"transloco"),l()()),n&2&&(s(2),C(g(3,2,"authModal.choice.noAccount")),s(3),C(g(6,4,"authModal.choice.signUp")))}function fi(n,o){if(n&1&&(r(0,"div",12),w(1,ui,26,12,"ng-container",11)(2,hi,8,3,"ng-container",13)(3,mi,10,5,"ng-template",null,0,ot)(5,_i,7,6,"div",14),l()),n&2){let e=tt(4),t=m();s(),h("ngIf",!t.hasWeb2Auth()),s(),h("ngIf",!t.connectedWalletAddress())("ngIfElse",e),s(3),h("ngIf",!t.hasWeb2Auth())}}function gi(n,o){n&1&&(r(0,"span"),p(1),_(2,"transloco"),l()),n&2&&(s(),C(g(2,1,"authModal.emailInput.continue")))}function yi(n,o){n&1&&M(0,"mat-progress-spinner",44)}function vi(n,o){if(n&1){let e=k();r(0,"div",34)(1,"div",35)(2,"mat-icon",36),p(3,"info"),l(),M(4,"p",37),_(5,"transloco"),l(),r(6,"div",38)(7,"mat-icon",39),p(8,"mail"),l(),r(9,"input",40),_(10,"transloco"),x("ngModelChange",function(i){y(e);let a=m();return v(a.email.set(i))})("keyup.enter",function(){y(e);let i=m();return v(i.sendEmailOtp())}),l()(),r(11,"button",41),x("click",function(){y(e);let i=m();return v(i.sendEmailOtp())}),w(12,gi,3,3,"span",11)(13,yi,1,0,"mat-progress-spinner",42),l(),r(14,"button",43),x("click",function(){y(e);let i=m();return v(i.setState("CHOICE"))}),p(15),_(16,"transloco"),l()()}if(n&2){let e=m();s(4),h("innerHTML",g(5,7,"authModal.emailInput.infoMessage"),K),s(5),h("ngModel",e.email())("placeholder",g(10,9,"authModal.emailInput.placeholder")),s(2),h("disabled",!e.isEmailValid||e.isLoading()),s(),h("ngIf",!e.isLoading()),s(),h("ngIf",e.isLoading()),s(2),I(" ",g(16,11,"authModal.emailInput.back")," ")}}function xi(n,o){if(n&1&&(r(0,"span"),p(1),l()),n&2){let e=m(2);s(),C(e.selectedCountry().flag)}}function bi(n,o){if(n&1&&(r(0,"span",54),p(1),l()),n&2){let e=m(2);s(),C(e.selectedCountry().dialCode)}}function Ci(n,o){n&1&&(r(0,"span",55),p(1),_(2,"transloco"),l()),n&2&&(s(),C(g(2,1,"authModal.phoneInput.selectCountry")))}function Ai(n,o){if(n&1){let e=k();r(0,"button",63),x("click",function(){let i=y(e).$implicit,a=m(3);return v(a.selectCountry(i))}),r(1,"span",64),p(2),l(),r(3,"div",65)(4,"div",66),p(5),l()(),r(6,"span",67),p(7),l()()}if(n&2){let e,t=o.$implicit,i=m(3);de("bg-blue-50",((e=i.selectedCountry())==null?null:e.dialCode)===t.dialCode),s(2),C(t.flag),s(3),I(" ",t.name," "),s(2),I(" ",t.dialCode," ")}}function wi(n,o){n&1&&(r(0,"div",68),p(1),_(2,"transloco"),l()),n&2&&(s(),I(" ",g(2,1,"authModal.phoneInput.noCountries")," "))}function Ii(n,o){if(n&1){let e=k();r(0,"div",56)(1,"div",57)(2,"div",38)(3,"mat-icon",58),p(4,"search"),l(),r(5,"input",59),_(6,"transloco"),x("input",function(i){y(e);let a=m(2);return v(a.onCountrySearchChange(i.target.value))})("click",function(i){return y(e),v(i.stopPropagation())}),l()()(),r(7,"div",60),w(8,Ai,8,5,"button",61)(9,wi,3,3,"div",62),l()()}if(n&2){let e=m(2);Xe("top",e.dropdownPosition().top)("left",e.dropdownPosition().left),s(5),h("value",e.countrySearchTerm())("placeholder",g(6,8,"authModal.phoneInput.searchCountry")),s(3),h("ngForOf",e.filteredCountries()),s(),h("ngIf",e.filteredCountries().length===0)}}function Ti(n,o){n&1&&(r(0,"span"),p(1),_(2,"transloco"),l()),n&2&&(s(),C(g(2,1,"authModal.phoneInput.continue")))}function ki(n,o){n&1&&M(0,"mat-progress-spinner",44)}function Di(n,o){if(n&1){let e=k();r(0,"div",34)(1,"div",35)(2,"mat-icon",36),p(3,"info"),l(),M(4,"p",37),_(5,"transloco"),_(6,"transloco"),l(),r(7,"div",45)(8,"div",46)(9,"button",47,1),x("click",function(){y(e);let i=m();return v(i.toggleCountryDropdown())}),r(11,"span",48),w(12,xi,2,1,"span",11)(13,bi,2,1,"span",49)(14,Ci,3,3,"span",50),l(),r(15,"mat-icon",51),p(16,"arrow_drop_down"),l()(),w(17,Ii,10,10,"div",52),l(),r(18,"input",53),_(19,"transloco"),x("input",function(i){y(e);let a=m();return v(a.onPhoneInput(i))})("keyup.enter",function(){y(e);let i=m();return v(i.sendPhoneOtp())}),l()(),r(20,"button",41),x("click",function(){y(e);let i=m();return v(i.sendPhoneOtp())}),w(21,Ti,3,3,"span",11)(22,ki,1,0,"mat-progress-spinner",42),l(),r(23,"button",43),x("click",function(){y(e);let i=m();return v(i.setState("CHOICE"))}),p(24),_(25,"transloco"),l()()}if(n&2){let e=m();s(4),h("innerHTML",e.state()==="WHATSAPP_INPUT"?g(5,11,"authModal.phoneInput.whatsappInfoMessage"):g(6,13,"authModal.phoneInput.infoMessage"),K),s(8),h("ngIf",e.selectedCountry()),s(),h("ngIf",e.selectedCountry()),s(),h("ngIf",!e.selectedCountry()),s(3),h("ngIf",e.isCountryDropdownOpen()&&e.dropdownPosition()),s(),h("ngModel",e.phone())("placeholder",g(19,15,"authModal.phoneInput.phonePlaceholder")),s(2),h("disabled",!e.phone()||!e.selectedCountry()||e.isLoading()),s(),h("ngIf",!e.isLoading()),s(),h("ngIf",e.isLoading()),s(2),I(" ",g(25,17,"authModal.phoneInput.back")," ")}}function Ei(n,o){if(n&1){let e=k();r(0,"input",74),x("input",function(i){let a=y(e).index,d=m(2);return v(d.onOtpInput(i,a))})("keydown",function(i){let a=y(e).index,d=m(2);return v(d.onKeyDown(i,a))}),l()}if(n&2){let e=o.$implicit,t=o.index;h("id","otp-"+t)("value",e)}}function Si(n,o){n&1&&(r(0,"span"),p(1),_(2,"transloco"),l()),n&2&&(s(),C(g(2,1,"authModal.otpVerify.verify")))}function Mi(n,o){n&1&&M(0,"mat-progress-spinner",44)}function Oi(n,o){if(n&1){let e=k();r(0,"div",69)(1,"div",70)(2,"h3",71),p(3),_(4,"transloco"),l(),r(5,"p",32),p(6),_(7,"transloco"),l()(),r(8,"div",72),w(9,Ei,1,2,"input",73),l(),r(10,"button",41),x("click",function(){y(e);let i=m();return v(i.state()==="OTP_VERIFY_EMAIL"?i.verifyEmailOtp():i.verifyPhoneOtp())}),w(11,Si,3,3,"span",11)(12,Mi,1,0,"mat-progress-spinner",42),l(),r(13,"button",43),x("click",function(){y(e);let i=m();return v(i.setState("CHOICE"))}),p(14),_(15,"transloco"),l()()}if(n&2){let e=m();s(3),C(g(4,7,"authModal.otpVerify.title")),s(3),I(" ",nt(7,9,e.state()==="OTP_VERIFY_EMAIL"?"authModal.otpVerify.emailMessage":e.state()==="OTP_VERIFY_WHATSAPP"?"authModal.otpVerify.whatsappMessage":"authModal.otpVerify.phoneMessage",it(14,li,e.email(),e.phone()))," "),s(3),h("ngForOf",e.otpArray()),s(),h("disabled",e.otpArray().join("").length!==6||e.isLoading()),s(),h("ngIf",!e.isLoading()),s(),h("ngIf",e.isLoading()),s(2),I(" ",g(15,12,"authModal.otpVerify.back")," ")}}function Pi(n,o){if(n&1){let e=k();r(0,"div",34)(1,"h3",75),p(2),_(3,"transloco"),l(),r(4,"p",76),p(5),_(6,"transloco"),l(),r(7,"div",77)(8,"button",78),x("click",function(){y(e);let i=m();return v(i.connectMetaMask())}),r(9,"span"),p(10),_(11,"transloco"),l()(),r(12,"button",79),x("click",function(){y(e);let i=m();return v(i.createAgentWallet())}),r(13,"span"),p(14),_(15,"transloco"),l()()(),r(16,"button",43),x("click",function(){y(e);let i=m();return v(i.handleWalletBack())}),p(17),_(18,"transloco"),l()()}if(n&2){let e=m();s(2),C(g(3,6,"authModal.walletConnect.title")),s(3),I(" ",g(6,8,"authModal.walletConnect.subtitle")," "),s(3),h("disabled",e.isLoading()),s(2),C(g(11,10,"authModal.walletConnect.metamask")),s(4),C(g(15,12,"authModal.walletConnect.createAgent")),s(3),I(" ",g(18,14,"authModal.walletConnect.back")," ")}}function Li(n,o){if(n&1){let e=k();r(0,"button",95),x("click",function(){y(e);let i=m(2);return v(i.encryptWithPasskey())}),r(1,"div",91)(2,"mat-icon",96),p(3,"fingerprint"),l(),r(4,"span"),p(5),_(6,"transloco"),l()()()}if(n&2){let e=m(2);h("disabled",e.isLoading()),s(5),C(g(6,2,"authModal.walletEncrypt.createPasskey"))}}function Ri(n,o){n&1&&(r(0,"div",97)(1,"p",98),p(2),_(3,"transloco"),l()()),n&2&&(s(2),I(" ",g(3,1,"authModal.walletEncrypt.notSupported")," "))}function Fi(n,o){n&1&&(r(0,"div",99),M(1,"mat-progress-spinner",100),l())}function Vi(n,o){if(n&1){let e=k();r(0,"div",69)(1,"div",80)(2,"div",81)(3,"mat-icon",82),p(4,"account_balance_wallet"),l()(),r(5,"div",83),M(6,"span",84),r(7,"span",85),p(8),l()()(),r(9,"div",86),M(10,"p",87),_(11,"transloco"),l(),r(12,"div",88),w(13,Li,7,4,"button",89),r(14,"button",90),x("click",function(){y(e);let i=m();return v(i.usePINInstead())}),r(15,"div",91)(16,"mat-icon",92),p(17,"pin"),l(),r(18,"span",17),p(19),_(20,"transloco"),l()()()(),w(21,Ri,4,3,"div",93)(22,Fi,2,0,"div",94),l()}if(n&2){let e,t=m();s(8),we(" ",(e=t.tempWalletAddress())==null?null:e.substring(0,6),"...",(e=t.tempWalletAddress())==null?null:e.substring(38)," "),s(2),h("innerHTML",g(11,8,"authModal.walletEncrypt.instruction"),K),s(3),h("ngIf",t.passkeySupported()),s(),h("disabled",t.isLoading()),s(5),I(" ",g(20,10,"authModal.walletEncrypt.usePIN")," "),s(2),h("ngIf",!t.passkeySupported()),s(),h("ngIf",t.isLoading())}}function Bi(n,o){if(n&1){let e=k();r(0,"input",108),x("input",function(i){let a=y(e).index,d=m(2);return v(d.onPinInput(i,a))})("keydown",function(i){let a=y(e).index,d=m(2);return v(d.onPinKeyDown(i,a))}),l()}if(n&2){let e=o.$implicit,t=o.index;h("id","pin-"+t)("value",e)}}function Ni(n,o){n&1&&(r(0,"span"),p(1),_(2,"transloco"),l()),n&2&&(s(),C(g(2,1,"authModal.pinSetup.encryptWallet")))}function ji(n,o){n&1&&M(0,"mat-progress-spinner",44)}function Wi(n,o){if(n&1){let e=k();r(0,"div",69)(1,"div",70)(2,"div",101)(3,"mat-icon",102),p(4,"pin"),l()(),r(5,"h3",71),p(6),_(7,"transloco"),l(),r(8,"p",32),p(9),_(10,"transloco"),l()(),r(11,"div",103)(12,"div",104)(13,"mat-icon",105),p(14,"warning"),l(),M(15,"p",106),_(16,"transloco"),l()(),r(17,"div",72),w(18,Bi,1,2,"input",107),l(),r(19,"button",41),x("click",function(){y(e);let i=m();return v(i.encryptWithPIN())}),w(20,Ni,3,3,"span",11)(21,ji,1,0,"mat-progress-spinner",42),l(),r(22,"button",43),x("click",function(){y(e);let i=m();return v(i.setState("WALLET_ENCRYPT_CHOICE"))}),p(23),_(24,"transloco"),l()()}if(n&2){let e=m();s(6),C(g(7,8,"authModal.pinSetup.title")),s(3),I(" ",g(10,10,"authModal.pinSetup.subtitle")," "),s(6),h("innerHTML",g(16,12,"authModal.pinSetup.warning"),K),s(3),h("ngForOf",e.pinArray()),s(),h("disabled",e.pinArray().join("").length!==6||e.isLoading()),s(),h("ngIf",!e.isLoading()),s(),h("ngIf",e.isLoading()),s(2),I(" ",g(24,14,"authModal.pinSetup.back")," ")}}var Fo=(()=>{class n{get countryDialCodes(){return this._countryService.countryDialCodes}constructor(){this.state=A("CHOICE"),this.isLoading=A(!1),this.email=A(""),this.phone=A(""),this.otp=A(""),this.otpArray=A(new Array(6).fill("")),this.pin=A(""),this.pinArray=A(new Array(6).fill("")),this.tempWalletAddress=A(null),this.tempWalletPrivateKey=A(null),this.passkeySupported=A(!1),this.connectedWalletAddress=A(null),this.hasWeb2Auth=A(!1),this.selectedCountry=A(null),this.countrySearchTerm=A(""),this.filteredCountries=A([]),this.isCountryDropdownOpen=A(!1),this.dropdownPosition=A(null),this.validationId=A(null),this.phoneGateway=A("sms"),this._authService=u(jt),this._authApiService=u(Wt),this._dialogRef=u(V),this._router=u(pt),this._countryService=u(Vt),this._encryptionService=u(Bt),this._dialogData=u(ve,{optional:!0}),this.projectId=L.projectId,this.projectFlowId=L.loginProjectFlowId,this.error=A(null),this.errorKey=A(null);let e=this._countryService.countryDialCodes.find(a=>a.countryCode==="us");e&&this.selectedCountry.set(e),this.filteredCountries.set(this.countryDialCodes);let t=localStorage.getItem("x402_agent_address");t&&this.connectedWalletAddress.set(t);let i=localStorage.getItem("verifik_account");if(i)try{let a=JSON.parse(i);a&&(a.id||a._id)&&this.hasWeb2Auth.set(!0)}catch(a){console.warn("Failed to parse stored user data",a)}this._dialogData?.startWithWallet&&setTimeout(()=>{this.startWalletFlow()},0)}setState(e){if(this.state.set(e),this.otp.set(""),this.otpArray.set(new Array(6).fill("")),this.error.set(null),this.errorKey.set(null),e==="PHONE_INPUT"||e==="WHATSAPP_INPUT"){let t=this._countryService.countryDialCodes.find(i=>i.countryCode==="us");t&&this.selectedCountry.set(t),this.countrySearchTerm.set(""),this.filteredCountries.set(this.countryDialCodes)}}startEmailFlow(){this.setState("EMAIL_INPUT")}isValidEmail(e){return!e||!e.trim()?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())}get isEmailValid(){return this.isValidEmail(this.email())}sendEmailOtp(){return O(this,null,function*(){let e=this.email().trim();if(!e){this.error.set("Please enter your email address");return}if(!this.isValidEmail(e)){this.error.set("Please enter a valid email address");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),this._authApiService.sendEmailOtp({email:e,project:this.projectId,type:"login",validationMethod:"verificationCode"}).subscribe({next:t=>{this.isLoading.set(!1),t.data?._id&&(this.validationId.set(t.data._id),this.setState("OTP_VERIFY_EMAIL"))},error:t=>{this.isLoading.set(!1),this.setState("EMAIL_INPUT"),this.setError(t.error?.message||"Failed to send OTP")}})})}verifyEmailOtp(){return O(this,null,function*(){let e=this.otpArray().join("");e.length!==6||!this.validationId()||(this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),this._authApiService.validateEmailOtp({otp:e,email:this.email(),projectFlow:this.projectFlowId,project:this.projectId,type:"login"}).subscribe({next:t=>{this.isLoading.set(!1),this.handleSuccess(t)},error:t=>{console.error(t),this.isLoading.set(!1),this.error.set("Invalid Code")}}))})}startPhoneFlow(){this.phoneGateway.set("sms"),this.setState("PHONE_INPUT")}startWhatsAppFlow(){this.phoneGateway.set("whatsapp"),this.setState("WHATSAPP_INPUT")}isValidPhone(e){let t=e.replace(/\D/g,"");return t.length>=7&&t.length<=15}onPhoneInput(e){let i=e.target.value;i=i.replace(/[^\d\s\-()]/g,""),this.phone.set(i)}onCountrySearchChange(e){this.countrySearchTerm.set(e);let t=e.toLowerCase().trim();if(!t){this.filteredCountries.set(this.countryDialCodes);return}let i=this.countryDialCodes.filter(a=>a.name.toLowerCase().includes(t)||a.dialCode.includes(t)||a.countryCode.toLowerCase().includes(t));this.filteredCountries.set(i)}toggleCountryDropdown(){let e=!this.isCountryDropdownOpen();if(this.isCountryDropdownOpen.set(e),e&&this.countryButtonRef){let i=this.countryButtonRef.nativeElement.getBoundingClientRect();this.dropdownPosition.set({top:`${i.bottom+4}px`,left:`${i.left}px`})}else this.dropdownPosition.set(null)}selectCountry(e){this.selectedCountry.set(e),this.countrySearchTerm.set(""),this.filteredCountries.set(this.countryDialCodes),this.isCountryDropdownOpen.set(!1),this.dropdownPosition.set(null)}sendPhoneOtp(){return O(this,null,function*(){let e=this.phone().trim(),t=this.selectedCountry();if(!e){this.error.set("Please enter your phone number");return}if(!t){this.error.set("Please select a country");return}let i=e.replace(/\D/g,"");if(!this.isValidPhone(i)){this.error.set("Please enter a valid phone number");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null);let a=i,d=t.dialCode.replace("+","");i.startsWith(d)&&(a=i.substring(d.length));let c=this.phoneGateway();this._authApiService.sendPhoneOtp({phone:a,countryCode:t.dialCode,project:this.projectId,type:"login",validationMethod:"verificationCode",phoneGateway:c}).subscribe({next:f=>{this.isLoading.set(!1),f.data?._id&&(this.validationId.set(f.data._id),this.setState(c==="whatsapp"?"OTP_VERIFY_WHATSAPP":"OTP_VERIFY_PHONE"))},error:f=>{this.isLoading.set(!1),this.setState(c==="whatsapp"?"WHATSAPP_INPUT":"PHONE_INPUT"),this.setError(f.error?.message||"Failed to send OTP")}})})}verifyPhoneOtp(){return O(this,null,function*(){let e=this.otpArray().join("");if(e.length!==6||!this.validationId())return;this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null);let t=this.selectedCountry();if(!t)return;let i=this.phone().replace(/\D/g,""),a=t.dialCode.replace("+","");i.startsWith(a)&&(i=i.substring(a.length)),this._authApiService.validatePhoneOtp({otp:e,phoneValidation:this.validationId(),project:this.projectId,type:"login",phone:i,countryCode:t.dialCode}).subscribe({next:d=>{this.isLoading.set(!1),this.handleSuccess(d)},error:d=>{this.isLoading.set(!1),this.error.set("Invalid Code")}})})}verifyWhatsAppOtp(){return O(this,null,function*(){yield this.verifyPhoneOtp()})}startWalletFlow(){this.setState("WALLET_CONNECT")}handleWalletBack(){this.hasWeb2Auth()?this._dialogRef.close():this.setState("CHOICE")}createAgentWallet(){return O(this,null,function*(){this.isLoading.set(!0);try{let{ethers:e}=yield import("./chunk-PY4SMIBW.js"),t=e.Wallet.createRandom();console.log("Created Wallet:",t.address),this.tempWalletAddress.set(t.address),this.tempWalletPrivateKey.set(t.privateKey),localStorage.setItem("x402_agent_address",t.address);let i=yield this._encryptionService.isPasskeysSupported();this.passkeySupported.set(i),this.isLoading.set(!1),this.setState("WALLET_ENCRYPT_CHOICE")}catch(e){console.error("Wallet creation failed:",e),this.error.set("Failed to create wallet"),this.isLoading.set(!1)}})}connectMetaMask(){return O(this,null,function*(){this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null);try{if(!window.ethereum){this.error.set("MetaMask is not installed. Please install MetaMask extension."),this.isLoading.set(!1);return}let e=yield window.ethereum.request({method:"eth_requestAccounts"});if(!e||e.length===0){this.error.set("No accounts found in MetaMask"),this.isLoading.set(!1);return}let t=e[0];console.log("Connected MetaMask:",t),localStorage.setItem("x402_agent_address",t),localStorage.setItem("x402_wallet_type","metamask"),this.isLoading.set(!1),this._dialogRef.close(),location.reload()}catch(e){console.error("MetaMask connection failed:",e),e.code===4001?this.error.set("Connection rejected. Please approve the connection in MetaMask."):this.error.set("Failed to connect to MetaMask"),this.isLoading.set(!1)}})}encryptWithPasskey(){return O(this,null,function*(){let e=this.tempWalletPrivateKey();if(!e){this.error.set("No wallet to encrypt");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),(yield this._encryptionService.encryptWithPasskeys(e))?(localStorage.setItem("x402_wallet_type","encrypted-model"),this.tempWalletPrivateKey.set(null),this._dialogRef.close(!0),location.reload()):(this.isLoading.set(!1),this.error.set("Passkey encryption failed. Please try PIN instead."))})}usePINInstead(){this.setState("WALLET_ENCRYPT_PIN")}encryptWithPIN(){return O(this,null,function*(){let e=this.tempWalletPrivateKey(),t=this.pinArray().join("");if(!e){this.error.set("No wallet to encrypt");return}if(t.length!==6){this.error.set("Please enter a 6-digit PIN");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),(yield this._encryptionService.encryptWithPIN(e,t))?(localStorage.setItem("x402_wallet_type","encrypted-model"),this.tempWalletPrivateKey.set(null),this.pinArray.set(new Array(6).fill("")),this._dialogRef.close(!0),location.reload()):(this.isLoading.set(!1),this.error.set("PIN encryption failed. Please try again."))})}setError(e){let i={invalid_email:"authModal.errors.invalidEmail",invalid_phone:"authModal.errors.invalidPhone"}[e];i?(this.errorKey.set(i),this.error.set(null)):(this.error.set(e),this.errorKey.set(null))}handleSuccess(e){let t=e.data||e,i=t.token||t.accessToken;i?(this._authService.accessToken=i,this._authApiService.projectLogin().subscribe({next:a=>{let d=a.data?.accessToken||a.accessToken;d?(this._authService.accessToken=d,localStorage.setItem("accessToken",d),this._authApiService.getSession().subscribe({next:c=>{let f=c.data?.user||c.user||c;localStorage.setItem("verifik_account",JSON.stringify(f)),this._dialogRef.close(!0),location.reload()},error:c=>{console.error("Session fetch failed",c),this.error.set("Failed to fetch session"),this.isLoading.set(!1)}})):(this.error.set("Failed to obtain access token"),this.isLoading.set(!1))},error:a=>{console.error("Project login failed",a),this.error.set("Login failed"),this.isLoading.set(!1)}})):(console.warn("No temp token found in response",e),this._dialogRef.close(!0))}onOtpInput(e,t){let i=e.target,a=i.value;if(a=a.replace(/\D/g,""),a.length>1){let c=[...this.otpArray()],f=a.split("").slice(0,6-t);for(let b=0;b<f.length&&t+b<6;b++){c[t+b]=f[b];let U=document.getElementById(`otp-${t+b}`);U&&(U.value=f[b])}this.otpArray.set(c),i.value=c[t]||"";let D=Math.min(t+f.length,5);setTimeout(()=>{let b=document.getElementById(`otp-${D}`);b&&(b.focus(),b.select())},0),c.every(b=>b!=="")&&c.length===6&&setTimeout(()=>{this.state()==="OTP_VERIFY_EMAIL"&&this.verifyEmailOtp(),this.state()==="OTP_VERIFY_PHONE"&&this.verifyPhoneOtp(),this.state()==="OTP_VERIFY_WHATSAPP"&&this.verifyWhatsAppOtp()},100);return}let d=[...this.otpArray()];if(a.length>0){let c=a.slice(-1);d[t]=c,this.otpArray.set(d),i.value=c,t<5&&setTimeout(()=>{let f=document.getElementById(`otp-${t+1}`);f&&(f.focus(),f.select())},0),d.every(f=>f!=="")&&d.length===6&&setTimeout(()=>{this.state()==="OTP_VERIFY_EMAIL"&&this.verifyEmailOtp(),this.state()==="OTP_VERIFY_PHONE"&&this.verifyPhoneOtp(),this.state()==="OTP_VERIFY_WHATSAPP"&&this.verifyWhatsAppOtp()},100)}else d[t]="",this.otpArray.set(d),i.value=""}onKeyDown(e,t){e.key==="Backspace"&&!this.otpArray()[t]&&t>0&&document.getElementById(`otp-${t-1}`)?.focus()}onPinInput(e,t){let i=e.target,a=i.value;if(a=a.replace(/\D/g,""),a.length>1){let c=[...this.pinArray()],f=a.split("").slice(0,6-t);for(let b=0;b<f.length&&t+b<6;b++){c[t+b]=f[b];let U=document.getElementById(`pin-${t+b}`);U&&(U.value=f[b])}this.pinArray.set(c),i.value=c[t]||"";let D=Math.min(t+f.length,5);setTimeout(()=>{let b=document.getElementById(`pin-${D}`);b&&(b.focus(),b.select())},0);return}let d=[...this.pinArray()];if(a.length>0){let c=a.slice(-1);d[t]=c,this.pinArray.set(d),i.value=c,t<5&&setTimeout(()=>{let f=document.getElementById(`pin-${t+1}`);f&&(f.focus(),f.select())},0)}else d[t]="",this.pinArray.set(d),i.value=""}onPinKeyDown(e,t){e.key==="Backspace"&&!this.pinArray()[t]&&t>0&&document.getElementById(`pin-${t-1}`)?.focus()}onDocumentClick(e){let t=e.target;this.isCountryDropdownOpen()&&!t.closest(".country-selector-container")&&(this.isCountryDropdownOpen.set(!1),this.dropdownPosition.set(null))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=N({type:n,selectors:[["auth-modal"]],viewQuery:function(t,i){if(t&1&&ce(si,5),t&2){let a;pe(a=ue())&&(i.countryButtonRef=a.first)}},hostBindings:function(t,i){t&1&&x("click",function(d){return i.onDocumentClick(d)},!1,qe)},decls:16,vars:14,consts:[["connectedWallet",""],["countryButton",""],[1,"w-full","max-w-sm","mx-auto","p-2"],[1,"text-center","mb-8"],[1,"text-xl","font-bold","text-slate-900","dark:text-white"],["class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm text-center",4,"ngIf"],["class","space-y-3",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"mt-8","text-center","text-[10px]","text-slate-400"],[1,"mb-4","p-3","bg-red-100","text-red-700","rounded-md","text-sm","text-center"],[4,"ngIf"],[1,"space-y-3"],[4,"ngIf","ngIfElse"],["class","pt-4 text-center",4,"ngIf"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg","!border-slate-300","dark:!border-slate-700",3,"click"],[1,"mr-3","text-slate-500"],[1,"text-slate-700","dark:text-slate-300"],[1,"relative","py-2"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-slate-200","dark:border-slate-700"],[1,"relative","flex","justify-center","text-xs","uppercase"],[1,"bg-white","dark:bg-slate-800","px-2","text-slate-500"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg","!border-slate-300","dark:!border-slate-700","hover:bg-slate-50","dark:hover:bg-slate-800","transition-colors",3,"click"],[1,"flex","items-center","w-full"],[1,"w-full","h-12","px-4","rounded-lg","border","border-green-200","dark:border-green-800","bg-green-50","dark:bg-green-900/10","flex","items-center","justify-between","cursor-default"],[1,"flex","items-center","gap-3"],[1,"text-green-600","dark:text-green-400"],[1,"flex","flex-col"],[1,"text-xs","font-semibold","text-green-700","dark:text-green-300"],[1,"text-[10px]","font-mono","text-green-600","dark:text-green-400","opacity-80"],[1,"pt-4","text-center"],[1,"text-sm","text-slate-500"],["href","https://access.verifik.co/sign-up/6332941ccde4f719d9c00f9e",1,"text-sm","text-blue-600","font-semibold","ml-1","cursor-pointer","hover:underline"],[1,"space-y-4"],[1,"p-3","bg-blue-50","dark:bg-blue-900/10","border","border-blue-100","dark:border-blue-900/20","rounded-lg","flex","gap-3"],[1,"text-blue-500","!w-5","!h-5","!text-[20px]","shrink-0","mt-0.5"],[1,"text-xs","text-blue-700","dark:text-blue-300","leading-snug",3,"innerHTML"],[1,"relative"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-slate-400"],["type","email",1,"w-full","pl-10","pr-4","py-3","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["mat-flat-button","","color","primary",1,"w-full","!h-11","!rounded-lg",3,"click","disabled"],["diameter","20","mode","indeterminate",4,"ngIf"],["mat-button","",1,"w-full",3,"click"],["diameter","20","mode","indeterminate"],[1,"flex","space-x-2"],[1,"relative","country-selector-container"],["type","button",1,"w-28","px-3","py-3","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-white","dark:bg-slate-800","text-slate-700","dark:text-slate-300","flex","items-center","justify-between","hover:bg-slate-50","dark:hover:bg-slate-700","focus:ring-2","focus:ring-blue-500","focus:outline-none","transition-colors",3,"click"],[1,"flex","items-center","gap-2","text-sm"],["class","font-medium",4,"ngIf"],["class","text-slate-400",4,"ngIf"],[1,"!w-4","!h-4","!text-[16px]","text-slate-400"],["class","fixed z-[1000] w-80 max-h-80 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg overflow-hidden",3,"top","left",4,"ngIf"],["type","tel",1,"flex-1","px-4","py-3","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"input","keyup.enter","ngModel","placeholder"],[1,"font-medium"],[1,"text-slate-400"],[1,"fixed","z-[1000]","w-80","max-h-80","bg-white","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-2","border-b","border-slate-200","dark:border-slate-700"],[1,"absolute","left-2","top-1/2","-translate-y-1/2","!w-4","!h-4","!text-[16px]","text-slate-400"],["type","text",1,"w-full","pl-8","pr-3","py-2","text-sm","rounded-md","border","border-slate-300","dark:border-slate-600","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"input","click","value","placeholder"],[1,"max-h-64","overflow-y-auto"],["type","button","class","w-full px-4 py-3 flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-700 text-left transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],["class","px-4 py-3 text-sm text-slate-500 text-center",4,"ngIf"],["type","button",1,"w-full","px-4","py-3","flex","items-center","gap-3","hover:bg-slate-50","dark:hover:bg-slate-700","text-left","transition-colors",3,"click"],[1,"text-2xl"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-slate-900","dark:text-slate-100","truncate"],[1,"text-sm","text-slate-500","dark:text-slate-400","font-medium"],[1,"px-4","py-3","text-sm","text-slate-500","text-center"],[1,"space-y-6"],[1,"text-center","space-y-2"],[1,"font-bold"],[1,"flex","justify-between","gap-2"],["type","text","inputmode","numeric","maxlength","1","class","w-12 h-14 text-center text-2xl font-bold rounded-lg border border-slate-300 dark:border-slate-700 bg-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none",3,"id","value","input","keydown",4,"ngFor","ngForOf"],["type","text","inputmode","numeric","maxlength","1",1,"w-12","h-14","text-center","text-2xl","font-bold","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"input","keydown","id","value"],[1,"font-bold","text-center"],[1,"text-xs","text-center","text-slate-500","mb-4"],[1,"space-y-2"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg",3,"click","disabled"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg","bg-slate-50","dark:bg-slate-800",3,"click"],[1,"flex","flex-col","items-center","gap-3","mb-2"],[1,"w-20","h-20","rounded-full","bg-gradient-to-br","from-indigo-50","to-blue-50","dark:from-indigo-900/20","dark:to-blue-900/20","flex","items-center","justify-center","shadow-inner"],[1,"text-indigo-500","!w-10","!h-10","!text-[40px]"],[1,"flex","items-center","gap-2","px-3","py-1.5","bg-slate-100","dark:bg-slate-800","rounded-full","border","border-slate-200","dark:border-slate-700"],[1,"w-2","h-2","rounded-full","bg-green-500"],[1,"text-xs","font-mono","text-slate-600","dark:text-slate-300"],[1,"text-center","px-2"],[1,"text-sm","leading-relaxed","text-slate-600","dark:text-slate-400",3,"innerHTML"],[1,"space-y-3","pt-2"],["mat-flat-button","","color","primary","class","w-full !h-12 !rounded-lg !text-base shadow-lg shadow-indigo-500/20",3,"disabled","click",4,"ngIf"],["mat-stroked-button","",1,"w-full","!h-12","!rounded-lg","!text-base","!border-slate-300","dark:!border-slate-700","hover:!bg-slate-50","dark:hover:!bg-slate-800","transition-colors",3,"click","disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"!w-5","!h-5","!text-[20px]","text-slate-500"],["class","text-center",4,"ngIf"],["class","flex justify-center py-2",4,"ngIf"],["mat-flat-button","","color","primary",1,"w-full","!h-12","!rounded-lg","!text-base","shadow-lg","shadow-indigo-500/20",3,"click","disabled"],[1,"!w-5","!h-5","!text-[20px]"],[1,"text-center"],[1,"text-xs","text-amber-600","dark:text-amber-500"],[1,"flex","justify-center","py-2"],["diameter","24","mode","indeterminate"],[1,"w-12","h-12","bg-indigo-100","dark:bg-indigo-900/30","rounded-full","mx-auto","flex","items-center","justify-center","mb-4"],[1,"text-indigo-600","dark:text-indigo-400","!w-6","!h-6","!text-[24px]"],[1,"bg-amber-50","dark:bg-amber-900/20","border","border-amber-200","dark:border-amber-800","rounded-lg","p-3"],[1,"flex","items-start","gap-2"],[1,"text-amber-600","dark:text-amber-400","!w-4","!h-4","!text-[16px]","mt-0.5"],[1,"text-xs","text-amber-700","dark:text-amber-300",3,"innerHTML"],["type","password","inputmode","numeric","maxlength","1","class","w-12 h-14 text-center text-2xl font-bold rounded-lg border border-slate-300 dark:border-slate-700 bg-transparent focus:ring-2 focus:ring-indigo-500 focus:outline-none",3,"id","value","input","keydown",4,"ngFor","ngForOf"],["type","password","inputmode","numeric","maxlength","1",1,"w-12","h-14","text-center","text-2xl","font-bold","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-indigo-500","focus:outline-none",3,"input","keydown","id","value"]],template:function(t,i){t&1&&(r(0,"div",2)(1,"div",3)(2,"h2",4),p(3),_(4,"transloco"),l()(),w(5,pi,3,2,"div",5)(6,fi,6,4,"div",6)(7,vi,17,13,"div",7)(8,Di,26,19,"div",7)(9,Oi,16,17,"div",8)(10,Pi,19,16,"div",7)(11,Vi,23,12,"div",8)(12,Wi,25,16,"div",8),r(13,"div",9),p(14),_(15,"transloco"),l()()),t&2&&(s(3),I(" ",g(4,10,i.state()==="WALLET_ENCRYPT_CHOICE"||i.state()==="WALLET_ENCRYPT_PIN"?"authModal.header.secureWallet":"authModal.header.login")," "),s(2),h("ngIf",i.error()||i.errorKey()),s(),h("ngIf",i.state()==="CHOICE"),s(),h("ngIf",i.state()==="EMAIL_INPUT"),s(),h("ngIf",i.state()==="PHONE_INPUT"||i.state()==="WHATSAPP_INPUT"),s(),h("ngIf",i.state()==="OTP_VERIFY_EMAIL"||i.state()==="OTP_VERIFY_PHONE"||i.state()==="OTP_VERIFY_WHATSAPP"),s(),h("ngIf",i.state()==="WALLET_CONNECT"),s(),h("ngIf",i.state()==="WALLET_ENCRYPT_CHOICE"),s(),h("ngIf",i.state()==="WALLET_ENCRYPT_PIN"),s(2),I(" ",g(15,12,"authModal.footer.protectedBy")," "))},dependencies:[dt,st,lt,Ot,Et,St,Mt,wt,At,Tt,It,Pt,Ct,Fe,Rt,Lt,Ft,Dt,kt],encapsulation:2})}}return n})();export{ye as a,Nt as b,jt as c,Wt as d,V as e,ve as f,Re as g,oi as h,ai as i,Fe as j,Fo as k};
