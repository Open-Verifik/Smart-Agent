import{L as p,Q as l,aa as f,fa as d,fd as u,id as k}from"./chunk-EDXCCCUI.js";import{a as i,b as h}from"./chunk-MG3ERZGY.js";var I=(()=>{class r{get progress(){return!!this.tail.length}constructor(t){this._http=t,this.tail=[]}sendRequest(t,e,o={},n={}){t=t.toLowerCase();let c=localStorage.getItem("accessToken")||"",g=new u(i(i({},c&&{Authorization:`Bearer ${c}`}),n.headers)),a=h(i({},n),{headers:g}),s;switch(t){case"get":s=this._http.get(e,i({params:o},a));break;case"post":s=this._http.post(e,o,a);break;case"put":s=this._http.put(e,o,a);break;case"delete":s=this._http.delete(e,i({params:o},a));break;default:throw new Error("Method not provided")}return this._trackRequest(s)}_trackRequest(t){return this.tail.push(t),t.pipe(l(0),p(()=>{let e=this.tail.indexOf(t);e>-1&&this.tail.splice(e,1)}))}static{this.\u0275fac=function(e){return new(e||r)(d(k))}}static{this.\u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{I as a};
