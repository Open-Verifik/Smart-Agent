import{a as i}from"./chunk-DGHNMBSS.js";import{Ga as s,Z as r,aa as p,fa as h,id as l}from"./chunk-EDXCCCUI.js";var $=(()=>{class n{constructor(t){this._httpClient=t,this.configurations=s([]),this.isLoading=s(!1)}getConfigurations(){return this.isLoading.set(!0),this._httpClient.get(`${i.apiUrl}/v2/batch-configurations`).pipe(r(t=>{this.configurations.set(t.data),this.isLoading.set(!1)}))}getAvailableFeatures(t){typeof t<"u"&&t===null&&(t="");let e={};return t&&(e={country:t}),this._httpClient.get(`${i.apiUrl}/v2/app-features`,{params:e}).pipe(r(a=>console.log("Features loaded",a)))}createConfiguration(t){return this._httpClient.post(`${i.apiUrl}/v2/batch-configurations`,t).pipe(r(e=>{this.configurations.update(a=>[e.data,...a])}))}deleteConfiguration(t){return this._httpClient.delete(`${i.apiUrl}/v2/batch-configurations/${t}`).pipe(r(()=>{this.configurations.update(e=>e.filter(a=>a._id!==t))}))}getConfiguration(t){return this._httpClient.get(`${i.apiUrl}/v2/batch-configurations/${t}`)}updateConfiguration(t,e){return this._httpClient.put(`${i.apiUrl}/v2/batch-configurations/${t}`,e).pipe(r(a=>{this.configurations.update(u=>u.map(o=>o._id===t?a.data:o))}))}getSmartBatches(t){return this._httpClient.get(`${i.apiUrl}/v2/smart-batches`,{params:{batchConfiguration:t}})}createSmartBatch(t){return this._httpClient.post(`${i.apiUrl}/v2/smart-batches`,t)}getSmartBatch(t){return this._httpClient.get(`${i.apiUrl}/v2/smart-batches/${t}`)}getSmartBatchStats(t){return this._httpClient.get(`${i.apiUrl}/v2/smart-batches/stats/${t}`)}static{this.\u0275fac=function(e){return new(e||n)(h(l))}}static{this.\u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{$ as a};
