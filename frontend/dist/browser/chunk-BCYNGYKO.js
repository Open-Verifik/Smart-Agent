import{a as Ze,b as Qe}from"./chunk-V4WDSBZU.js";import{a as Xe,b as Ye,c as et}from"./chunk-GOISRZR7.js";import{a as Ke,b as We,c as Ge,d as Je,e as qe}from"./chunk-BDKC4BTW.js";import{a as He}from"./chunk-NROCMDI2.js";import{j as Re}from"./chunk-QQNGCN5G.js";import"./chunk-SB3LRQOP.js";import"./chunk-NJIOGT5G.js";import"./chunk-3RK6DDJD.js";import{a as ze,b as Ue}from"./chunk-LLQ6WMTJ.js";import"./chunk-QD66ZOCP.js";import{a as je,b as $e}from"./chunk-OYMRB6S7.js";import"./chunk-VC5VKYY6.js";import"./chunk-7RWCIHFI.js";import{c as Ae,d as Oe}from"./chunk-IEVXMBCH.js";import{c as de,f as me}from"./chunk-UVXKGKGK.js";import{a as we,b as ke}from"./chunk-53WRULVM.js";import{a as ye,c as Ce,d as Se}from"./chunk-YTRC6VXI.js";import{b as le,d as pe,i as se}from"./chunk-QIQIZ3Q6.js";import{e as ce}from"./chunk-DHV22PVR.js";import{d as ue,l as _e,m as xe}from"./chunk-CTJ3YQQD.js";import"./chunk-ZAUDAUJV.js";import{B as Me,b as Be,c as Te,e as j,h as Ee,i as Ie,m as Pe,p as Fe,r as Ve,s as De,y as Ne,z as Le}from"./chunk-QWR6CIPV.js";import"./chunk-MVN6OMHF.js";import{U as ge,V as fe,X as ve,Z as be,_ as he}from"./chunk-KMUH6FME.js";import{$c as oe,Bb as Y,Cb as L,Db as M,Dc as U,Eb as n,Fb as o,Ga as R,Gb as B,Kb as y,Mb as g,Nb as m,Sa as Q,Wa as i,Xb as l,Yb as _,Zb as x,_b as O,bd as re,cd as ae,fb as X,ga as E,gc as ee,hc as te,ic as ie,lb as w,oc as s,pc as d,qa as f,qc as z,ra as v,rc as ne,sb as b,tb as $,ub as I,zb as h}from"./chunk-BMVGBJ55.js";import{a as T,b as A}from"./chunk-66YHNWRR.js";function H(r,c=""){let e=[];for(let[a,t]of Object.entries(r)){let p=c?`${c}.${a}`:a;if(t!=null&&typeof t=="object"&&!Array.isArray(t))e.push({path:p,value:"",type:"object"}),e.push(...H(t,p));else{let u=t==null?"\u2014":typeof t=="string"?t:Array.isArray(t)?JSON.stringify(t):String(t);e.push({path:p,value:u.length>60?u.slice(0,60)+"\u2026":u,type:"leaf"})}}return e}function tt(r){let c=[];return r.inputData&&Object.keys(r.inputData).length>0&&(c.push({path:"inputData",value:"",type:"object"}),c.push(...H(r.inputData,"inputData"))),r.results&&Object.keys(r.results).length>0&&(c.push({path:"results",value:"",type:"object"}),c.push(...H(r.results,"results"))),c}var it=(r,c)=>({sections:r,primaryColor:c}),nt=r=>({num:r}),ot=()=>["left","center","right"],rt=(r,c)=>c.type,at=(r,c)=>c.id,lt=(r,c)=>c.path;function pt(r,c){r&1&&(n(0,"mat-icon",73),l(1,"refresh"),o(),l(2),s(3,"transloco")),r&2&&(i(2),x(" ",d(3,1,"smartReport.sendingSample")," "))}function st(r,c){r&1&&(n(0,"mat-icon",74),l(1,"send"),o(),l(2),s(3,"transloco")),r&2&&(i(2),x(" ",d(3,1,"smartReport.sendSample")," "))}function dt(r,c){r&1&&(n(0,"mat-icon",73),l(1,"refresh"),o(),l(2),s(3,"transloco")),r&2&&(i(2),x(" ",d(3,1,"smartReport.saving")," "))}function mt(r,c){r&1&&(n(0,"mat-icon",74),l(1,"save"),o(),l(2),s(3,"transloco")),r&2&&(i(2),x(" ",d(3,1,"smartReport.saveTemplate")," "))}function ct(r,c){if(r&1){let e=y();n(0,"div",4),B(1,"img",75),n(2,"button",76),g("click",function(){f(e);let t=m();return v(t.removeLogo())}),l(3),s(4,"transloco"),o()()}if(r&2){let e=m();i(),b("src",e.logoUrl(),Q),i(2),x(" ",d(4,2,"smartReport.remove")," ")}}function ut(r,c){if(r&1){let e=y();n(0,"label",77)(1,"mat-icon",78),l(2,"upload"),o(),l(3),s(4,"transloco"),n(5,"input",79),g("change",function(t){f(e);let p=m();return v(p.onLogoUpload(t))}),o()(),n(6,"p",80),l(7,"PNG, JPG, SVG \xB7 max 500KB"),o()}r&2&&(i(3),x(" ",d(4,1,"smartReport.uploadLogo")," "))}function _t(r,c){r&1&&(n(0,"mat-form-field",43)(1,"mat-label"),l(2),s(3,"transloco"),o(),n(4,"mat-select",81)(5,"mat-option",82),l(6,"\u2196 Top Left"),o(),n(7,"mat-option",83),l(8,"\u2191 Top Center"),o(),n(9,"mat-option",84),l(10,"\u2197 Top Right"),o(),n(11,"mat-option",85),l(12,"\u2199 Bottom Left"),o(),n(13,"mat-option",86),l(14,"\u2193 Bottom Center"),o(),n(15,"mat-option",87),l(16,"\u2198 Bottom Right"),o()()()),r&2&&(i(2),_(d(3,1,"smartReport.pageNumberPosition")))}function xt(r,c){r&1&&(n(0,"div"),B(1,"input",95),s(2,"transloco"),o()),r&2&&(i(),b("placeholder",d(2,1,"smartReport.watermarkTextPlaceholder")))}function gt(r,c){r&1&&(n(0,"p",90),l(1),s(2,"transloco"),o()),r&2&&(i(),x(" ",d(2,1,"smartReport.watermarkLogoHint")," "))}function ft(r,c){if(r&1){let e=y();n(0,"div",45)(1,"div",88)(2,"button",89),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkType"))==null?null:t.setValue("text"))}),l(3),s(4,"transloco"),o(),n(5,"button",89),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkType"))==null?null:t.setValue("logo"))}),l(6),s(7,"transloco"),o()(),w(8,xt,3,3,"div")(9,gt,3,3,"p",90),n(10,"div")(11,"div",91)(12,"label",63),l(13),s(14,"transloco"),o(),n(15,"span",92),l(16),s(17,"number"),o()(),B(18,"input",93),o(),n(19,"div")(20,"label",94),l(21),s(22,"transloco"),o(),n(23,"div",88)(24,"button",89),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkPattern"))==null?null:t.setValue("single"))}),l(25),s(26,"transloco"),o(),n(27,"button",89),g("click",function(){let t;f(e);let p=m();return v((t=p.templateForm.get("watermarkPattern"))==null?null:t.setValue("repeated"))}),l(28),s(29,"transloco"),o()()()()}if(r&2){let e,a,t,p,u,S,k,F,V,D,P,C=m();i(2),I("bg-indigo-50",((e=C.templateForm.get("watermarkType"))==null?null:e.value)==="text")("border-indigo-300",((a=C.templateForm.get("watermarkType"))==null?null:a.value)==="text"),i(),x(" ",d(4,25,"smartReport.watermarkText")," "),i(2),I("bg-indigo-50",((t=C.templateForm.get("watermarkType"))==null?null:t.value)==="logo")("border-indigo-300",((p=C.templateForm.get("watermarkType"))==null?null:p.value)==="logo"),i(),x(" ",d(7,27,"smartReport.watermarkLogo")," "),i(2),h(((u=C.templateForm.get("watermarkType"))==null?null:u.value)==="text"?8:-1),i(),h(((S=C.templateForm.get("watermarkType"))==null?null:S.value)==="logo"&&!C.logoUrl()?9:-1),i(4),_(d(14,29,"smartReport.watermarkOpacity")),i(3),x("",z(17,31,((k=C.templateForm.get("watermarkOpacity"))==null?null:k.value)*100,"1.0-0"),"%"),i(5),_(d(22,34,"smartReport.watermarkPattern")),i(3),I("bg-indigo-50",((F=C.templateForm.get("watermarkPattern"))==null?null:F.value)==="single")("border-indigo-300",((V=C.templateForm.get("watermarkPattern"))==null?null:V.value)==="single"),i(),x(" ",d(26,36,"smartReport.watermarkSingle")," "),i(2),I("bg-indigo-50",((D=C.templateForm.get("watermarkPattern"))==null?null:D.value)==="repeated")("border-indigo-300",((P=C.templateForm.get("watermarkPattern"))==null?null:P.value)==="repeated"),i(),x(" ",d(29,38,"smartReport.watermarkRepeated")," ")}}function vt(r,c){if(r&1){let e=y();n(0,"div",51)(1,"div")(2,"label",94),l(3),s(4,"transloco"),o(),n(5,"div",96),B(6,"input",97),s(7,"transloco"),n(8,"button",98),g("click",function(){f(e);let t=m();return v(t.showPassword=!t.showPassword)}),n(9,"mat-icon",99),l(10),o()()(),n(11,"p",100),l(12),s(13,"transloco"),o()()()}if(r&2){let e=m();i(3),_(d(4,5,"smartReport.securityPassword")),i(3),b("type",e.showPassword?"text":"password")("placeholder",d(7,7,"smartReport.securityPasswordPlaceholder")),i(4),_(e.showPassword?"visibility_off":"visibility"),i(2),x(" ",d(13,9,"smartReport.securityPasswordHint")," ")}}function bt(r,c){r&1&&(n(0,"p",55),l(1),s(2,"transloco"),o()),r&2&&(i(),x(" ",d(2,1,"smartReport.openFromReportViewer")," "))}function ht(r,c){if(r&1){let e=y();n(0,"div",101)(1,"code",103),l(2),o(),n(3,"span",104),l(4),o(),n(5,"button",105),s(6,"transloco"),g("click",function(){f(e);let t=m().$implicit,p=m(2);return v(p.copyPathToClipboard(t.path))}),n(7,"mat-icon",106),l(8,"content_copy"),o()()()}if(r&2){let e=m().$implicit;i(2),_(e.path),i(),b("title",e.value),i(),_(e.value),i(),b("matTooltip",d(6,4,"smartReport.copyPath"))}}function yt(r,c){if(r&1){let e=y();n(0,"div",102)(1,"span",39),l(2),o(),n(3,"button",105),s(4,"transloco"),g("click",function(){f(e);let t=m().$implicit,p=m(2);return v(p.copyPathToClipboard(t.path))}),n(5,"mat-icon",106),l(6,"content_copy"),o()()()}if(r&2){let e=m().$implicit;i(2),_(e.path),i(),b("matTooltip",d(4,2,"smartReport.copyPathForTable"))}}function Ct(r,c){if(r&1&&w(0,ht,9,6,"div",101)(1,yt,7,4,"div",102),r&2){let e=c.$implicit;h(e.type==="leaf"?0:1)}}function St(r,c){if(r&1&&(n(0,"div",56),L(1,Ct,2,1,null,null,lt),o()),r&2){let e=m();i(),M(e.helperDataPaths())}}function wt(r,c){if(r&1){let e=y();n(0,"button",107),g("click",function(){let t=f(e).$implicit,p=m();return v(p.addSection(t.type))}),n(1,"mat-icon",108),l(2),o(),l(3),s(4,"transloco"),o()}if(r&2){let e=c.$implicit;i(2),_(e.icon),i(),x(" ",d(4,2,e.labelKey)," ")}}function kt(r,c){r&1&&(n(0,"div",66)(1,"mat-icon",109),l(2,"add_box"),o(),n(3,"p",110),l(4),s(5,"transloco"),o()()),r&2&&(i(4),x(" ",d(5,1,"smartReport.addSectionsFromAbove")," "))}function Rt(r,c){if(r&1&&l(0),r&2){let e=m().$implicit;x(" ",e.label," ")}}function Bt(r,c){if(r&1&&(l(0),s(1,"slice")),r&2){let e=m().$implicit;O(" ",ne(1,2,e.staticContent,0,30),"",e.staticContent.length>30?"...":""," ")}}function Tt(r,c){if(r&1&&l(0),r&2){let e=m().$implicit;x(" ",e.dataPath," ")}}function Et(r,c){if(r&1&&(l(0),s(1,"transloco")),r&2){let e=m().$implicit;x(" ",z(1,1,"smartReport.sectionNumber",te(4,nt,e.order+1))," ")}}function It(r,c){if(r&1){let e=y();n(0,"div",111),g("click",function(){let t=f(e).$implicit,p=m();return v(p.selectSection(t))}),n(1,"div",112)(2,"mat-icon",113),l(3,"drag_indicator"),o()(),n(4,"div",114)(5,"mat-icon",78),l(6),o()(),n(7,"div",115)(8,"p",116),l(9),o(),n(10,"p",117),w(11,Rt,1,1)(12,Bt,2,6)(13,Tt,1,1)(14,Et,2,6),o()(),n(15,"div",118)(16,"button",119),s(17,"transloco"),g("click",function(t){let p=f(e).$implicit;return m().duplicateSection(p),v(t.stopPropagation())}),n(18,"mat-icon",120),l(19,"content_copy"),o()(),n(20,"button",119),s(21,"transloco"),g("click",function(t){let p=f(e).$implicit;return m().deleteSection(p.id),v(t.stopPropagation())}),n(22,"mat-icon",121),l(23,"delete"),o()()()()}if(r&2){let e,a,t,p,u,S=c.$implicit,k=m();I("ring-2",((e=k.currentSelectedSection())==null?null:e.id)===S.id)("ring-indigo-500",((a=k.currentSelectedSection())==null?null:a.id)===S.id)("bg-indigo-50",((t=k.currentSelectedSection())==null?null:t.id)===S.id),i(4),$("background",((p=k.templateForm.get("primaryColor"))==null?null:p.value)+"15"),i(),$("color",(u=k.templateForm.get("primaryColor"))==null?null:u.value),i(),_(k.getSectionIcon(S.type)),i(3),x(" ",k.getSectionLabel(S.type)," "),i(2),h(S.label?11:S.staticContent?12:S.dataPath?13:14),i(5),b("matTooltip",d(17,15,"smartReport.duplicate")),i(4),b("matTooltip",d(21,17,"smartReport.delete"))}}function Pt(r,c){if(r&1){let e=y();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",126),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{staticContent:t.target.value,label:t.target.value}))}),o()()}if(r&2){let e=m();i(2),_(d(3,3,"smartReport.titleText")),i(2),b("value",e.staticContent||"")("placeholder",d(5,5,"smartReport.reportTitle"))}}function Ft(r,c){if(r&1){let e=y();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"textarea",127),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{staticContent:t.target.value}))}),o()()}if(r&2){let e=m();i(2),_(d(3,3,"smartReport.content")),i(2),b("value",e.staticContent||"")("placeholder",d(5,5,"smartReport.enterTextContent"))}}function Vt(r,c){if(r&1){let e=y();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",126),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{label:t.target.value}))}),o()(),n(6,"div")(7,"label",36),l(8),s(9,"transloco"),o(),n(10,"input",128),s(11,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{dataPath:t.target.value}))}),o(),n(12,"p",80),l(13),s(14,"transloco"),o()()}if(r&2){let e=m();i(2),_(d(3,7,"smartReport.label")),i(2),b("value",e.label||"")("placeholder",d(5,9,"smartReport.fieldLabel")),i(4),_(d(9,11,"smartReport.dataPath")),i(2),b("value",e.dataPath||"")("placeholder",d(11,13,"smartReport.dataPathPlaceholder")),i(3),x(" ",d(14,15,"smartReport.dotSeparatedPath")," ")}}function Dt(r,c){if(r&1){let e=y();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",126),s(5,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{label:t.target.value}))}),o()(),n(6,"div")(7,"label",36),l(8),s(9,"transloco"),o(),n(10,"input",129),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{dataPath:t.target.value}))}),o(),n(11,"p",80),l(12),s(13,"transloco"),o()()}if(r&2){let e=m();i(2),_(d(3,6,"smartReport.tableTitle")),i(2),b("value",e.label||"")("placeholder",d(5,8,"smartReport.tableLabel")),i(4),_(d(9,10,"smartReport.dataPathObject")),i(2),b("value",e.dataPath||""),i(2),x(" ",d(13,12,"smartReport.pathToObject")," ")}}function Nt(r,c){if(r&1){let e=y();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",130),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{staticContent:t.target.value}))}),o()(),n(5,"div")(6,"label",36),l(7),s(8,"transloco"),o(),n(9,"input",126),s(10,"transloco"),g("input",function(t){f(e);let p=m(),u=m();return v(u.updateSection(p.id,{label:t.target.value}))}),o()()}if(r&2){let e=m();i(2),_(d(3,5,"smartReport.imageUrl")),i(2),b("value",e.staticContent||""),i(3),_(d(8,7,"smartReport.altText")),i(2),b("value",e.label||"")("placeholder",d(10,9,"smartReport.companyLogo"))}}function Lt(r,c){if(r&1){let e=y();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",131),g("input",function(t){f(e);let p=m(2);return v(p.updateSectionStyle("padding",t.target.value))}),o()()}if(r&2){let e=m();i(2),_(d(3,2,"smartReport.heightPx")),i(2),b("value",(e.style==null?null:e.style.padding)||16)}}function Mt(r,c){if(r&1){let e=y();n(0,"div")(1,"label",36),l(2),s(3,"transloco"),o(),n(4,"input",132),g("input",function(t){f(e);let p=m(2);return v(p.updateStyleColor(t.target.value))}),o()()}if(r&2){let e=m();i(2),_(d(3,2,"smartReport.color")),i(2),b("value",(e.style==null?null:e.style.color)||"#E5E7EB")}}function At(r,c){if(r&1){let e=y();n(0,"button",135),g("click",function(){let t=f(e).$implicit,p=m(3);return v(p.updateTextAlign(t))}),n(1,"mat-icon",78),l(2),o()()}if(r&2){let e=c.$implicit,a=m(2);I("bg-indigo-50",(a.style==null?null:a.style.textAlign)===e)("border-indigo-300",(a.style==null?null:a.style.textAlign)===e),i(2),x("format_align_",e,"")}}function Ot(r,c){if(r&1){let e=y();n(0,"div",125)(1,"h4",39),l(2),s(3,"transloco"),o(),n(4,"div")(5,"label",94),l(6),s(7,"transloco"),o(),n(8,"div",88),L(9,At,3,5,"button",133,Y),o()(),n(11,"div")(12,"label",94),l(13),s(14,"transloco"),o(),n(15,"input",134),g("input",function(t){f(e);let p=m(2);return v(p.updateFontSize(+t.target.value))}),o()(),n(16,"div")(17,"label",94),l(18),s(19,"transloco"),o(),n(20,"div",88)(21,"button",135),g("click",function(){f(e);let t=m(2);return v(t.updateFontWeight("normal"))}),l(22),s(23,"transloco"),o(),n(24,"button",136),g("click",function(){f(e);let t=m(2);return v(t.updateFontWeight("bold"))}),l(25),s(26,"transloco"),o()()(),n(27,"div",4)(28,"label",63),l(29),s(30,"transloco"),o(),n(31,"input",137),g("input",function(t){f(e);let p=m(2);return v(p.updateStyleColor(t.target.value))}),o()()()}if(r&2){let e=m();i(2),x(" ",d(3,17,"smartReport.style")," "),i(4),_(d(7,19,"smartReport.textAlign")),i(3),M(ee(31,ot)),i(4),_(d(14,21,"smartReport.fontSize")),i(2),b("value",(e.style==null?null:e.style.fontSize)||14),i(3),_(d(19,23,"smartReport.fontWeight")),i(3),I("bg-indigo-50",(e.style==null?null:e.style.fontWeight)!=="bold")("border-indigo-300",(e.style==null?null:e.style.fontWeight)!=="bold"),i(),x(" ",d(23,25,"smartReport.normal")," "),i(2),I("bg-indigo-50",(e.style==null?null:e.style.fontWeight)==="bold")("border-indigo-300",(e.style==null?null:e.style.fontWeight)==="bold"),i(),x(" ",d(26,27,"smartReport.bold")," "),i(4),_(d(30,29,"smartReport.textColor")),i(2),b("value",(e.style==null?null:e.style.color)||"#111827")}}function jt(r,c){if(r&1){let e=y();n(0,"div",14)(1,"div",122)(2,"h3",62),l(3),s(4,"transloco"),o(),n(5,"button",123),g("click",function(){f(e);let t=m();return v(t.selectedSection.set(null))}),n(6,"mat-icon",108),l(7,"close"),o()()(),n(8,"div",124),w(9,Pt,6,7,"div")(10,Ft,6,7,"div")(11,Vt,15,17)(12,Dt,14,14)(13,Nt,11,11)(14,Lt,5,4,"div")(15,Mt,5,4,"div")(16,Ot,32,32,"div",125),o()()}if(r&2){let e=c,a=m();i(3),O(" ",d(4,10,"smartReport.edit")," ",a.getSectionLabel(e.type)," "),i(6),h(e.type==="header"?9:-1),i(),h(e.type==="text"?10:-1),i(),h(e.type==="field"?11:-1),i(),h(e.type==="table"?12:-1),i(),h(e.type==="image"?13:-1),i(),h(e.type==="spacer"?14:-1),i(),h(e.type==="divider"?15:-1),i(),h(e.type==="header"||e.type==="text"||e.type==="field"?16:-1)}}var Si=(()=>{class r{constructor(){this._route=E(le),this._router=E(pe),this._fb=E(Le),this._snack=E(je),this._reportService=E(He),this._dialog=E(de),this._previewDataService=E(Xe),this._transloco=E(ye),this.configId=R(null),this.templateId=R(null),this.template=R(null),this.isLoading=R(!1),this.isSaving=R(!1),this.isSendingSample=R(!1),this.logoUrl=R(null),this.activeTab=R("design"),this.showPassword=!1,this.sections=R([]),this.selectedSection=R(null),this.currentSelectedSection=U(()=>{let e=this.selectedSection();return e?this.sections().find(a=>a.id===e.id)??null:null}),this.sectionTypes=[{type:"header",labelKey:"smartReport.sectionHeader",icon:"title"},{type:"text",labelKey:"smartReport.sectionText",icon:"notes"},{type:"field",labelKey:"smartReport.sectionField",icon:"data_object"},{type:"table",labelKey:"smartReport.sectionTable",icon:"table_chart"},{type:"image",labelKey:"smartReport.sectionImage",icon:"image"},{type:"divider",labelKey:"smartReport.sectionDivider",icon:"horizontal_rule"},{type:"spacer",labelKey:"smartReport.sectionSpacer",icon:"space_bar"}],this.previewData=R({batchName:"Background Check - Batch #47",rowIndex:0,inputData:{documentNumber:"1032386359",documentType:"CC",fullName:"JOHN DOE SMITH"},results:{1:{fullName:"JOHN DOE SMITH",firstName:"JOHN",lastName:"DOE SMITH",documentNumber:"1032386359",documentType:"CC",birthDate:"1990-05-15",gender:"Male",nationality:"Colombian",email:"john.doe@example.com",phone:"+57 300 123 4567",address:"Calle 100 #15-20, Bogota"},2:{isValid:!0,score:.95,status:"VERIFIED",verifiedAt:"2026-02-10T14:30:00Z"}}}),this._hasPreviewDataFromNavigation=!1,this.onPreviewSectionClick=e=>{this.selectSection(e)},this.helperDataPaths=U(()=>tt(this.previewData())),this.templateForm=this._fb.group({name:["",[j.required,j.maxLength(150)]],description:["",j.maxLength(500)],primaryColor:["#4F46E5"],pageSize:["A4"],orientation:["portrait"],pdfEngine:["puppeteer"],legend:[""],showPageNumbers:[!1],pageNumberPosition:["bottom-center"],watermarkEnabled:[!1],watermarkType:["text"],watermarkText:["CONFIDENTIAL"],watermarkOpacity:[.08],watermarkPattern:["single"],securityEnabled:[!1],securityPassword:[""]})}ngOnInit(){this._applyPreviewDataFromRouterState(),this._route.params.subscribe(e=>{this.configId.set(e.configId),this.templateId.set(e.templateId),this.templateId()?this._loadTemplate():this._initDefaultSections()})}_applyPreviewDataFromRouterState(){let e=this._previewDataService.consumePendingPreviewData();if(e||(e=this._router.getCurrentNavigation()?.extras?.state?.previewData??void 0),e&&(e.inputData||e.results)){let a={batchName:e.batchName??"Batch",rowIndex:e.rowIndex??0,inputData:e.inputData??{},results:e.results??{}};this.previewData.set(a),this._hasPreviewDataFromNavigation=!0}}_loadTemplate(){let e=this.templateId();e&&(this.isLoading.set(!0),this._reportService.getTemplate(e).subscribe({next:a=>{this.template.set(a),this.sections.set(a.sections||[]),!this._hasPreviewDataFromNavigation&&a.sampleData&&(a.sampleData.inputData||a.sampleData.results)&&this.previewData.set({batchName:a.sampleData.batchName??"Batch",rowIndex:a.sampleData.rowIndex??0,inputData:a.sampleData.inputData??{},results:a.sampleData.results??{}}),this.templateForm.patchValue({name:a.name,description:a.description,primaryColor:a.primaryColor||"#4F46E5",pageSize:a.pageSize||"A4",orientation:a.orientation||"portrait",pdfEngine:a.pdfEngine||"puppeteer",legend:a.legend||"",showPageNumbers:a.showPageNumbers||!1,pageNumberPosition:a.pageNumberPosition||"bottom-center",watermarkEnabled:a.watermark?.enabled||!1,watermarkType:a.watermark?.type||"text",watermarkText:a.watermark?.text||"CONFIDENTIAL",watermarkOpacity:a.watermark?.opacity??.08,watermarkPattern:a.watermark?.pattern||"single",securityEnabled:a.security?.enabled||!1,securityPassword:a.security?.enabled?"******":""}),this.logoUrl.set(a.logo||null),this.isLoading.set(!1)},error:a=>{console.error("Failed to load template:",a),this.isLoading.set(!1),this._snack.open("Failed to load template","Close",{duration:3e3})}}))}_initDefaultSections(){this.sections.set([{id:this._generateId(),type:"header",order:0,label:"Verification Report",staticContent:"Verification Report",style:{fontSize:22,fontWeight:"bold",textAlign:"center"}},{id:this._generateId(),type:"divider",order:1,style:{color:"#4F46E5"}},{id:this._generateId(),type:"field",order:2,label:"Document Number",dataPath:"results.1.documentNumber"},{id:this._generateId(),type:"field",order:3,label:"Full Name",dataPath:"results.1.fullName"}])}onDrop(e){let a=[...this.sections()];Ke(a,e.previousIndex,e.currentIndex),a.forEach((t,p)=>t.order=p),this.sections.set(a)}addSection(e){let a={header:{staticContent:"Section Title",style:{fontSize:18,fontWeight:"bold",textAlign:"left"}},text:{staticContent:"Enter your text here...",style:{fontSize:12}},field:{label:"New Field",dataPath:""},table:{label:"Data Table",dataPath:"results.1"},image:{staticContent:"",style:{textAlign:"center"}},divider:{style:{color:this.templateForm.get("primaryColor")?.value||"#4F46E5"}},spacer:{style:{padding:"16"}}},t=T({id:this._generateId(),type:e,order:this.sections().length},a[e]);this.sections.update(p=>[...p,t]),this.selectSection(t)}selectSection(e){this.selectedSection.set(T({},e))}updateSection(e,a){this.sections.update(p=>p.map(u=>u.id===e?T(T({},u),a):u));let t=this.selectedSection();t?.id===e&&this.selectedSection.set(T(T({},t),a))}deleteSection(e){this.sections.update(a=>{let t=a.filter(p=>p.id!==e);return t.forEach((p,u)=>p.order=u),t}),this.selectedSection()?.id===e&&this.selectedSection.set(null)}duplicateSection(e){let a=A(T({},e),{id:this._generateId(),order:this.sections().length,label:e.label?e.label+" (copy)":void 0});this.sections.update(t=>[...t,a])}updateSectionStyle(e,a){let t=this.currentSelectedSection();t&&this.updateSection(t.id,{style:A(T({},t.style),{[e]:a})})}updateTextAlign(e){this.updateSectionStyle("textAlign",e)}updateFontSize(e){this.updateSectionStyle("fontSize",e)}updateFontWeight(e){this.updateSectionStyle("fontWeight",e)}updateStyleColor(e){this.updateSectionStyle("color",e)}updateBgColor(e){this.updateSectionStyle("backgroundColor",e)}save(){if(this.templateForm.invalid){this._snack.open("Please fill in all required fields","Close",{duration:3e3});return}this.isSaving.set(!0);let e=this.templateForm.value,a=A(T({},e),{sections:this.sections(),batchConfiguration:this.configId()||void 0,sampleData:this.previewData(),logo:this.logoUrl()||void 0,watermark:{enabled:e.watermarkEnabled??!1,type:e.watermarkType||"text",text:e.watermarkText||"CONFIDENTIAL",opacity:e.watermarkOpacity??.08,pattern:e.watermarkPattern||"single"},security:{enabled:e.securityEnabled??!1,password:e.securityPassword||""}});delete a.watermarkEnabled,delete a.watermarkType,delete a.watermarkText,delete a.watermarkOpacity,delete a.watermarkPattern,delete a.securityEnabled,delete a.securityPassword;let t=this.templateId();t?this._reportService.updateTemplate(t,a).subscribe({next:()=>{this._snack.open("Template saved!","Close",{duration:3e3}),this.isSaving.set(!1)},error:p=>{console.error("Save failed:",p),this._snack.open("Failed to save template","Close",{duration:3e3}),this.isSaving.set(!1)}}):this._reportService.createTemplate(a).subscribe({next:p=>{this._snack.open("Template created!","Close",{duration:3e3}),this.isSaving.set(!1),this._router.navigate(["/smart-batch",this.configId(),"report-builder",p._id])},error:p=>{console.error("Create failed:",p),this._snack.open("Failed to create template","Close",{duration:3e3}),this.isSaving.set(!1)}})}sendSample(){let e=this.templateId();if(!e){this._snack.open(this._transloco.translate("smartReport.saveTemplateFirst"),"Close",{duration:3500});return}let a=`Sample Report: ${this.templateForm.get("name")?.value||"Template Preview"}`;this._dialog.open(et,{panelClass:"send-sample-dialog",maxWidth:"560px",width:"95vw",disableClose:!1,autoFocus:!0,data:{defaultSubject:a,isSample:!0}}).afterClosed().subscribe(p=>{p?.recipients?.length&&(this.isSendingSample.set(!0),this._reportService.sendTemplateSample(e,{recipients:p.recipients,subject:p.subject,language:"en",sampleData:this.previewData()}).subscribe({next:u=>{u.success?this._snack.open(this._transloco.translate("smartReport.samplePdfSentSuccess"),"Close",{duration:3500}):this._snack.open(u.error||this._transloco.translate("smartReport.failedToSendSamplePdf"),"Close",{duration:4e3}),this.isSendingSample.set(!1)},error:u=>{console.error("Send sample failed:",u),this._snack.open(this._transloco.translate("smartReport.failedToSendSamplePdf"),"Close",{duration:4e3}),this.isSendingSample.set(!1)}}))})}goBack(){let e=this.configId();e?this._router.navigate(["/smart-batch",e]):this._router.navigate(["/smart-batch"])}getSectionIcon(e){return this.sectionTypes.find(a=>a.type===e)?.icon||"help"}getSectionLabel(e){let a=this.sectionTypes.find(t=>t.type===e)?.labelKey;return a?this._transloco.translate(a):e}copyPathToClipboard(e){navigator.clipboard.writeText(e).then(()=>this._snack.open(`${this._transloco.translate("smartReport.copied")}: ${e}`,"Close",{duration:2e3}),()=>this._snack.open(this._transloco.translate("smartReport.failedToCopy"),"Close",{duration:2e3}))}onLogoUpload(e){let t=e.target.files?.[0];if(!t)return;if(t.size>512e3){this._snack.open("Logo file must be less than 500KB","Close",{duration:3500});return}let p=new FileReader;p.onload=()=>{this.logoUrl.set(p.result)},p.readAsDataURL(t)}removeLogo(){this.logoUrl.set(null)}_generateId(){return"section_"+Math.random().toString(36).substring(2,11)}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=X({type:r,selectors:[["report-builder"]],decls:160,vars:113,consts:[[1,"min-h-screen","w-full","bg-gray-50"],[1,"bg-white","border-b","border-gray-200","sticky","top-0","z-20"],[1,"max-w-[1600px]","mx-auto","px-4","sm:px-6","lg:px-8","py-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],["mat-icon-button","",3,"click","matTooltip"],[1,"text-lg","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],["mat-stroked-button","",1,"!rounded-xl",3,"click","disabled","matTooltip"],[1,"inline-flex","items-center","gap-2"],["mat-flat-button","",1,"!rounded-xl","!bg-indigo-600","!text-white",3,"click","disabled"],[1,"max-w-[1600px]","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"flex","gap-6","items-start"],[1,"w-full","lg:w-[440px]","shrink-0","space-y-4"],[1,"bg-white","rounded-2xl","border","border-gray-200","p-5"],[1,"text-sm","font-semibold","text-gray-900","mb-4"],[1,"space-y-4",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","name",3,"placeholder"],[1,"grid","grid-cols-3","gap-3"],["appearance","outline"],["formControlName","pageSize"],["value","A4"],["value","Letter"],["value","Legal"],["formControlName","orientation"],["value","portrait"],["value","landscape"],["formControlName","pdfEngine"],["value","puppeteer"],["value","pdfkit"],[1,"flex","items-center","gap-4"],[1,"text-sm","text-gray-600"],["type","color","formControlName","primaryColor",1,"w-9","h-9","rounded-lg","border","border-gray-200","cursor-pointer"],[1,"pt-3","border-t","border-gray-100"],[1,"text-xs","font-medium","text-gray-500","mb-2","block"],[1,"text-xs","font-medium","text-gray-500","mb-1","block"],["formControlName","legend","rows","2",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-xs","text-gray-600","resize-none",3,"placeholder"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-xs","font-medium","text-gray-500"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox","formControlName","showPageNumbers",1,"sr-only","peer"],[1,"w-9","h-5","bg-gray-200","peer-focus:outline-none","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-4","after:w-4","after:transition-all","peer-checked:bg-indigo-600"],["appearance","outline",1,"w-full","!text-xs"],["type","checkbox","formControlName","watermarkEnabled",1,"sr-only","peer"],[1,"space-y-3"],[1,"p-4","bg-gray-50","rounded-xl","border","border-gray-100","space-y-4"],[1,"flex","items-center","gap-2"],[1,"text-gray-400","!w-5","!h-5","!text-[20px]"],[1,"text-sm","font-medium","text-gray-700"],["formControlName","securityEnabled","color","primary"],[1,"space-y-4","pt-2","border-t","border-gray-200"],[1,"bg-white","rounded-2xl","border","border-gray-200","p-4"],[1,"text-sm","font-semibold","text-gray-900","mb-2"],[1,"text-xs","text-gray-500","mb-3"],[1,"text-xs","text-gray-400","italic"],[1,"max-h-[240px]","overflow-y-auto","space-y-1","pr-1"],[1,"text-sm","font-semibold","text-gray-900","mb-3"],[1,"flex","flex-wrap","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-2","rounded-lg","border","border-gray-200","hover:border-indigo-300","hover:bg-indigo-50","transition-colors","text-sm","text-gray-700"],[1,"bg-white","rounded-2xl","border","border-gray-200"],[1,"px-5","py-3","border-b","border-gray-100","flex","items-center","justify-between"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-xs","text-gray-400"],[1,"text-xs","font-medium","text-gray-400"],["cdkDropList","",1,"p-3","min-h-[200px]",3,"cdkDropListDropped"],[1,"flex","flex-col","items-center","justify-center","h-40","text-gray-300"],["cdkDrag","",1,"flex","items-center","gap-2","bg-white","border","rounded-lg","px-3","py-2.5","mb-2","cursor-pointer","hover:border-indigo-300","transition-colors","group",3,"ring-2","ring-indigo-500","bg-indigo-50"],[1,"flex-1","min-w-0"],[1,"sticky","top-20"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","font-semibold","text-gray-500"],[3,"template","previewData","primaryColor","orientation","clickable","selectedSectionId","sectionClick","logoUrl","legend","showPageNumbers","pageNumberPosition","watermarkEnabled","watermarkType","watermarkText","watermarkOpacity","watermarkPattern"],[1,"animate-spin","!text-lg"],[1,"!text-lg"],["alt","Logo",1,"h-10","max-w-[160px]","object-contain","rounded","border","border-gray-200","bg-gray-50","p-1",3,"src"],["type","button",1,"text-xs","text-red-500","hover:text-red-700","transition-colors",3,"click"],[1,"inline-flex","items-center","gap-2","px-3","py-2","rounded-lg","border","border-dashed","border-gray-300","hover:border-indigo-300","hover:bg-indigo-50","transition-colors","cursor-pointer","text-sm","text-gray-500"],[1,"!text-base"],["type","file","accept","image/png,image/jpeg,image/svg+xml,image/webp",1,"hidden",3,"change"],[1,"text-xs","text-gray-400","mt-1"],["formControlName","pageNumberPosition"],["value","top-left"],["value","top-center"],["value","top-right"],["value","bottom-left"],["value","bottom-center"],["value","bottom-right"],[1,"flex","gap-1"],["type","button",1,"flex-1","py-2","rounded-lg","border","text-xs","transition-colors",3,"click"],[1,"text-xs","text-amber-500"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","text-gray-500","font-mono"],["type","range","formControlName","watermarkOpacity","min","0.01","max","0.5","step","0.01",1,"w-full","h-1.5","bg-gray-200","rounded-lg","appearance-none","cursor-pointer","accent-indigo-600"],[1,"text-xs","text-gray-400","mb-1","block"],["type","text","formControlName","watermarkText","maxlength","100",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-xs",3,"placeholder"],[1,"relative"],["formControlName","securityPassword",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm","pr-10",3,"type","placeholder"],["type","button",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600",3,"click"],[1,"!w-4","!h-4","!text-[16px]"],[1,"text-[10px]","text-gray-400","mt-1"],[1,"group","flex","items-center","gap-2","py-1.5","px-2","rounded","hover:bg-gray-50","text-xs"],[1,"group","flex","items-center","gap-2","pt-1.5","pb-0.5"],[1,"flex-1","min-w-0","truncate","text-gray-700","font-mono"],[1,"text-gray-400","truncate","max-w-[120px]",3,"title"],["mat-icon-button","",1,"!w-6","!h-6","!rounded","opacity-0","group-hover:opacity-100","transition-opacity",3,"click","matTooltip"],[1,"!text-sm","!w-4","!h-4"],[1,"inline-flex","items-center","gap-1.5","px-3","py-2","rounded-lg","border","border-gray-200","hover:border-indigo-300","hover:bg-indigo-50","transition-colors","text-sm","text-gray-700",3,"click"],[1,"!text-base","text-gray-400"],[1,"!text-4xl","!w-10","!h-10","mb-2"],[1,"text-sm"],["cdkDrag","",1,"flex","items-center","gap-2","bg-white","border","rounded-lg","px-3","py-2.5","mb-2","cursor-pointer","hover:border-indigo-300","transition-colors","group",3,"click"],["cdkDragHandle","",1,"shrink-0","w-6","h-6","rounded","flex","items-center","justify-center","cursor-grab","text-gray-300","hover:text-gray-500"],[1,"!text-sm"],[1,"shrink-0","w-7","h-7","rounded-md","flex","items-center","justify-center"],[1,"min-w-0","flex-1"],[1,"text-sm","font-medium","text-gray-800","truncate"],[1,"text-xs","text-gray-400","truncate"],[1,"shrink-0","flex","items-center","gap-0.5","opacity-0","group-hover:opacity-100","transition-opacity"],["mat-icon-button","",1,"!w-7","!h-7",3,"click","matTooltip"],[1,"!text-sm","text-gray-400"],[1,"!text-sm","text-red-400"],[1,"flex","items-center","justify-between","mb-4"],["mat-icon-button","",1,"!w-7","!h-7",3,"click"],[1,"space-y-4"],[1,"pt-3","border-t","border-gray-100","space-y-3"],["type","text",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value","placeholder"],["rows","4",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value","placeholder"],["type","text",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm","font-mono",3,"input","value","placeholder"],["type","text","placeholder","results.1",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm","font-mono",3,"input","value"],["type","text","placeholder","https://example.com/logo.png",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm","font-mono",3,"input","value"],["type","number","min","4","max","200",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value"],["type","color",1,"w-9","h-9","rounded-lg","border","border-gray-200","cursor-pointer",3,"input","value"],[1,"flex-1","py-2","rounded-lg","border","text-sm","transition-colors",3,"bg-indigo-50","border-indigo-300"],["type","number","min","8","max","72",1,"w-full","px-3","py-2","border","border-gray-200","rounded-lg","text-sm",3,"input","value"],[1,"flex-1","py-2","rounded-lg","border","text-sm","transition-colors",3,"click"],[1,"flex-1","py-2","rounded-lg","border","text-sm","font-bold","transition-colors",3,"click"],["type","color",1,"w-8","h-8","rounded","border","border-gray-200","cursor-pointer",3,"input","value"]],template:function(a,t){if(a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),s(6,"transloco"),g("click",function(){return t.goBack()}),n(7,"mat-icon"),l(8,"arrow_back"),o()(),n(9,"div")(10,"h1",6),l(11),s(12,"transloco"),o(),n(13,"p",7),l(14),s(15,"transloco"),o()()(),n(16,"div",4)(17,"button",8),s(18,"transloco"),g("click",function(){return t.sendSample()}),n(19,"span",9),w(20,pt,4,3)(21,st,4,3),o()(),n(22,"button",10),g("click",function(){return t.save()}),n(23,"span",9),w(24,dt,4,3)(25,mt,4,3),o()()()()()(),n(26,"div",11)(27,"div",12)(28,"div",13)(29,"div",14)(30,"h3",15),l(31),s(32,"transloco"),o(),n(33,"form",16)(34,"mat-form-field",17)(35,"mat-label"),l(36),s(37,"transloco"),o(),B(38,"input",18),s(39,"transloco"),o(),n(40,"div",19)(41,"mat-form-field",20)(42,"mat-label"),l(43),s(44,"transloco"),o(),n(45,"mat-select",21)(46,"mat-option",22),l(47,"A4"),o(),n(48,"mat-option",23),l(49,"Letter"),o(),n(50,"mat-option",24),l(51,"Legal"),o()()(),n(52,"mat-form-field",20)(53,"mat-label"),l(54),s(55,"transloco"),o(),n(56,"mat-select",25)(57,"mat-option",26),l(58),s(59,"transloco"),o(),n(60,"mat-option",27),l(61),s(62,"transloco"),o()()(),n(63,"mat-form-field",20)(64,"mat-label"),l(65),s(66,"transloco"),o(),n(67,"mat-select",28)(68,"mat-option",29),l(69,"Puppeteer"),o(),n(70,"mat-option",30),l(71,"PDFKit"),o()()()(),n(72,"div",31)(73,"label",32),l(74),s(75,"transloco"),o(),B(76,"input",33),o(),n(77,"div",34)(78,"label",35),l(79),s(80,"transloco"),o(),w(81,ct,5,4,"div",4)(82,ut,8,3),o(),n(83,"div",34)(84,"label",36),l(85),s(86,"transloco"),o(),B(87,"textarea",37),s(88,"transloco"),o(),n(89,"div",34)(90,"div",38)(91,"label",39),l(92),s(93,"transloco"),o(),n(94,"label",40),B(95,"input",41)(96,"div",42),o()(),w(97,_t,17,3,"mat-form-field",43),o(),n(98,"div",34)(99,"div",38)(100,"label",39),l(101),s(102,"transloco"),o(),n(103,"label",40),B(104,"input",44)(105,"div",42),o()(),w(106,ft,30,40,"div",45),o(),n(107,"div",46)(108,"div",3)(109,"div",47)(110,"mat-icon",48),l(111,"lock"),o(),n(112,"span",49),l(113),s(114,"transloco"),o()(),B(115,"mat-slide-toggle",50),o(),w(116,vt,14,11,"div",51),o()()(),n(117,"div",52)(118,"h3",53),l(119),s(120,"transloco"),o(),n(121,"p",54),l(122),s(123,"transloco"),o(),w(124,bt,3,3,"p",55)(125,St,3,0,"div",56),o(),n(126,"div",52)(127,"h3",57),l(128),s(129,"transloco"),o(),n(130,"div",58),L(131,wt,5,4,"button",59,rt),o()(),n(133,"div",60)(134,"div",61)(135,"div")(136,"h3",62),l(137),s(138,"transloco"),o(),n(139,"p",63),l(140),s(141,"transloco"),o()(),n(142,"span",64),l(143),s(144,"transloco"),o()(),n(145,"div",65),g("cdkDropListDropped",function(u){return t.onDrop(u)}),w(146,kt,6,3,"div",66),L(147,It,24,19,"div",67,at),o()(),w(149,jt,17,12,"div",14),o(),n(150,"div",68)(151,"div",69)(152,"div",70)(153,"h3",71),l(154),s(155,"transloco"),o(),n(156,"span",63),l(157),s(158,"transloco"),o()(),B(159,"report-preview",72),o()()()()()),a&2){let p,u,S,k,F,V,D,P,C,K,W,G,J,q,N,Z;i(5),b("matTooltip",d(6,56,"smartReport.back")),i(6),x(" ",d(12,58,t.templateId()?"smartReport.editReportTemplate":"smartReport.newReportTemplate")," "),i(3),x(" ",d(15,60,"smartReport.designReportLayout")," "),i(3),b("disabled",!t.templateId()||t.isSendingSample())("matTooltip",t.templateId()?"":d(18,62,"smartReport.saveTemplateFirst")),i(3),h(t.isSendingSample()?20:21),i(2),b("disabled",t.isSaving()),i(2),h(t.isSaving()?24:25),i(7),x(" ",d(32,64,"smartReport.templateSettings")," "),i(2),b("formGroup",t.templateForm),i(3),_(d(37,66,"smartReport.templateName")),i(2),b("placeholder",d(39,68,"smartReport.templateNamePlaceholder")),i(5),_(d(44,70,"smartReport.pageSize")),i(11),_(d(55,72,"smartReport.orientation")),i(4),_(d(59,74,"smartReport.portrait")),i(3),_(d(62,76,"smartReport.landscape")),i(4),_(d(66,78,"smartReport.pdfEngine")),i(9),x("",d(75,80,"smartReport.primaryColor"),":"),i(5),_(d(80,82,"smartReport.workspaceLogo")),i(2),h(t.logoUrl()?81:82),i(4),_(d(86,84,"smartReport.footerLegend")),i(2),b("placeholder",d(88,86,"smartReport.footerLegendPlaceholder")),i(5),_(d(93,88,"smartReport.pageNumbers")),i(5),h((p=t.templateForm.get("showPageNumbers"))!=null&&p.value?97:-1),i(4),_(d(102,90,"smartReport.watermark")),i(5),h((u=t.templateForm.get("watermarkEnabled"))!=null&&u.value?106:-1),i(7),_(d(114,92,"smartReport.securityTitle")),i(3),h((S=t.templateForm.get("securityEnabled"))!=null&&S.value?116:-1),i(3),x(" ",d(120,94,"smartReport.helperData")," "),i(3),x(" ",d(123,96,"smartReport.helperDataHint")," "),i(2),h(t.helperDataPaths().length===0?124:125),i(4),x(" ",d(129,98,"smartReport.addSections")," "),i(3),M(t.sectionTypes),i(6),x(" ",d(138,100,"smartReport.reportLayout")," "),i(3),x(" ",d(141,102,"smartReport.dragToReorder")," "),i(3),O("",t.sections().length," ",d(144,104,"smartReport.sections"),""),i(3),h(t.sections().length===0?146:-1),i(),M(t.sections()),i(2),h((k=t.currentSelectedSection())?149:-1,k),i(5),x(" ",d(155,106,"smartReport.preview")," "),i(3),_(d(158,108,"smartReport.livePreviewWithSample")),i(2),b("template",ie(110,it,t.sections(),(F=t.templateForm.get("primaryColor"))==null?null:F.value))("previewData",t.previewData())("primaryColor",((V=t.templateForm.get("primaryColor"))==null?null:V.value)||"#4F46E5")("orientation",((D=t.templateForm.get("orientation"))==null?null:D.value)||"portrait")("clickable",!0)("selectedSectionId",(P=(P=t.currentSelectedSection())==null?null:P.id)!==null&&P!==void 0?P:null)("sectionClick",t.onPreviewSectionClick)("logoUrl",t.logoUrl())("legend",((C=t.templateForm.get("legend"))==null?null:C.value)||"")("showPageNumbers",((K=t.templateForm.get("showPageNumbers"))==null?null:K.value)||!1)("pageNumberPosition",((W=t.templateForm.get("pageNumberPosition"))==null?null:W.value)||"bottom-center")("watermarkEnabled",((G=t.templateForm.get("watermarkEnabled"))==null?null:G.value)||!1)("watermarkType",((J=t.templateForm.get("watermarkType"))==null?null:J.value)||"text")("watermarkText",((q=t.templateForm.get("watermarkText"))==null?null:q.value)||"CONFIDENTIAL")("watermarkOpacity",(N=(N=t.templateForm.get("watermarkOpacity"))==null?null:N.value)!==null&&N!==void 0?N:.08)("watermarkPattern",((Z=t.templateForm.get("watermarkPattern"))==null?null:Z.value)||"single")}},dependencies:[ae,re,oe,se,Me,Pe,Te,Fe,Be,Ee,Ie,Ne,Ve,De,qe,Je,Ge,We,ve,fe,ge,me,he,be,xe,_e,ue,Oe,Ae,Ue,ze,ce,ke,we,$e,Qe,Ze,Se,Ce,Ye],encapsulation:2,data:{animation:[Re]}})}}return r})();export{Si as ReportBuilderComponent};
