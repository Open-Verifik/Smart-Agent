import{d as we}from"./chunk-KNSWPSP5.js";import{a as le,b as ue,c as Ae}from"./chunk-533J2H6T.js";import{t as me,w as Me}from"./chunk-IKVVJSGE.js";import{a as Ee}from"./chunk-GZ4MYTHS.js";import{a as F}from"./chunk-7BFAL4VN.js";import{a as Se,b as ke}from"./chunk-CX5SV56M.js";import{a as pe,b as de,f as ce}from"./chunk-ENW3NMZN.js";import{d as se}from"./chunk-RZDHA4DS.js";import{Ja as Ie,ga as he,ia as _e,ka as fe,la as ge,oa as ye,sa as be,wa as Ce}from"./chunk-BJWBWI36.js";import{f as N,k as T}from"./chunk-KOOUHCQR.js";import{b as xe,c as ve}from"./chunk-KXKVTZCA.js";import{$c as re,Ac as ie,B as Y,Cc as ne,Eb as p,Fa as C,Fb as G,Gb as J,Qb as o,Rb as a,Sb as M,Tb as H,U as O,Ub as D,Wb as k,X as B,Yb as v,Zb as d,_ as P,ab as L,ad as oe,bc as Q,cc as X,dc as Z,ea as I,eb as q,fb as r,gc as ee,h as $,hc as l,ic as b,jc as w,k as A,kc as U,l as W,ld as ae,p as j,pa as _,qa as f,rb as z,tc as te,xb as S,yc as c,zc as u}from"./chunk-S7YYVX2B.js";import{g as E}from"./chunk-GAL4ENT6.js";var Te=(()=>{class n{constructor(){this._httpClient=I(N),this._httpWrapper=I(F),this._user=new $(1)}set user(e){this._user.next(e)}get user$(){return this._user.asObservable()}get(){return this._httpWrapper.sendRequest("post",T.apiUrl+"/v2/auth/session",{origin:"app"}).pipe(j(e=>e.data?.user||e.user||e),B(e=>{this._user.next(e)}))}update(e){return this._httpClient.patch(T.baseUrl+"api/common/user",{user:e}).pipe(j(t=>{this._user.next(t)}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pe=(()=>{class n{constructor(){this._authenticated=!1,this._httpClient=I(N),this._userService=I(Te),this.baseUrl=T.baseUrl}set accessToken(e){localStorage.setItem("accessToken",e)}get accessToken(){return localStorage.getItem("accessToken")??""}forgotPassword(e){return this._httpClient.post(this.baseUrl+"api/auth/forgot-password",e)}resetPassword(e){return this._httpClient.post(this.baseUrl+"api/auth/reset-password",e)}signIn(e){return this._authenticated?W(()=>new Error("User is already logged in.")):this._httpClient.post(this.baseUrl+"api/auth/sign-in",e).pipe(O(t=>(this._authenticated=!0,this._userService.user=t.user,this.accessToken=t.accessToken,A(t))))}requestOTP(e){return this._authenticated?W(()=>new Error("User is already logged in.")):this._httpClient.post(this.baseUrl+"v2/auth/super/request-otp",e).pipe(O(t=>A(t)))}confirmOTP(e){return this._authenticated?W(()=>new Error("User is already logged in.")):this._httpClient.post(this.baseUrl+"v2/auth/super/verify-otp",e).pipe(O(t=>{if(t.data)return localStorage.setItem("accessToken",t.data.accessToken),localStorage.setItem("user",JSON.stringify(t.data.user)),this._authenticated=!0,this._userService.user=t.data.user,A(t.data)}))}signInUsingToken(){return this._httpClient.post(this.baseUrl+"api/auth/sign-in-with-token",{accessToken:this.accessToken}).pipe(Y(()=>A(!1)),O(e=>(e.accessToken,this._authenticated=!0,this._userService.user=e.user,A(!0))))}refreshSession(){return this._userService.get().pipe(B(e=>{try{let t=i=>{let s=localStorage.getItem(i);if(s&&s!=="undefined"&&s!=="null")try{let h=JSON.parse(s),g=!1;e.credits!==void 0&&(h.credits=e.credits,g=!0),g&&localStorage.setItem(i,JSON.stringify(h))}catch(h){console.warn(`Failed to parse ${i} from local storage`,h)}};t("verifik_account"),t("user")}catch(t){console.error("Failed to sync balance to local storage",t)}}))}signOut(e=!0){return this._authenticated=!1,localStorage.removeItem("accessToken"),localStorage.removeItem("verifik_account"),localStorage.removeItem("user"),e||(localStorage.removeItem("x402_agent_address"),localStorage.removeItem("x402_agent_pk"),localStorage.removeItem("x402_agent_pk_encrypted"),localStorage.removeItem("x402_wallet_type"),localStorage.removeItem("x402_encryption_method"),localStorage.removeItem("x402_encryption_salt"),localStorage.removeItem("x402_credential_id"),localStorage.removeItem("lastWalletAddress")),A(!0)}signUp(e){return this._httpClient.post(this.baseUrl+"api/auth/sign-up",e)}unlockSession(e){return this._httpClient.post(this.baseUrl+"api/auth/unlock-session",e)}check(){return this._authenticated?A(!0):this.accessToken?le.isTokenExpired(this.accessToken)?(localStorage.removeItem("accessToken"),localStorage.removeItem("user"),this._authenticated=!1,A(!1)):this.signInUsingToken():A(!1)}simulateProjectLogin(e,t="onboarding"){let i={Authorization:`Bearer ${e}`};return this._httpClient.post(this.baseUrl+"v2/auth/project-login",{projectType:t},{headers:i})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ve=(()=>{class n{constructor(){this._httpWrapper=I(F),this._apiUrl=T.apiUrl}sendEmailOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/email-validations`,e)}validateEmailOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/email-validations/validate`,e)}sendPhoneOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/phone-validations`,e)}validatePhoneOtp(e){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/phone-validations/validate`,e)}projectLogin(){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/auth/project-login`,{})}getSession(){return this._httpWrapper.sendRequest("post",`${this._apiUrl}/v2/auth/session`,{origin:"app"})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Oe=["countryButton"],Le=(n,m)=>({email:n,phone:m});function We(n,m){if(n&1&&(o(0,"span"),l(1),c(2,"transloco"),a()),n&2){let e=d(2);r(),b(u(2,1,e.errorKey()))}}function Be(n,m){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(2);r(),b(e.error())}}function Ne(n,m){if(n&1&&(o(0,"div",10),S(1,We,3,3,"span",11)(2,Be,2,1,"span",11),a()),n&2){let e=d();r(),p("ngIf",e.errorKey()),r(),p("ngIf",!e.errorKey()&&e.error())}}function Fe(n,m){if(n&1){let e=k();H(0),o(1,"button",15),v("click",function(){_(e);let i=d(2);return f(i.startEmailFlow())}),o(2,"mat-icon",16),l(3,"mail"),a(),o(4,"span",17),l(5),c(6,"transloco"),a()(),o(7,"button",15),v("click",function(){_(e);let i=d(2);return f(i.startPhoneFlow())}),o(8,"mat-icon",16),l(9,"smartphone"),a(),o(10,"span",17),l(11),c(12,"transloco"),a()(),o(13,"button",15),v("click",function(){_(e);let i=d(2);return f(i.startWhatsAppFlow())}),o(14,"mat-icon",16),l(15,"message"),a(),o(16,"span",17),l(17),c(18,"transloco"),a()(),o(19,"div",18)(20,"div",19),M(21,"div",20),a(),o(22,"div",21)(23,"span",22),l(24),c(25,"transloco"),a()()(),D()}n&2&&(r(5),b(u(6,4,"authModal.choice.continueEmail")),r(6),b(u(12,6,"authModal.choice.continueSMS")),r(6),b(u(18,8,"authModal.choice.continueWhatsApp")),r(7),b(u(25,10,"authModal.choice.or")))}function Re(n,m){if(n&1){let e=k();H(0),o(1,"button",23),v("click",function(){_(e);let i=d(2);return f(i.startWalletFlow())}),o(2,"div",24)(3,"mat-icon",16),l(4,"account_balance_wallet"),a(),o(5,"span",17),l(6),c(7,"transloco"),a()()(),D()}n&2&&(r(6),b(u(7,1,"authModal.choice.continueWallet")))}function je(n,m){if(n&1&&(o(0,"div",25)(1,"div",26)(2,"mat-icon",27),l(3,"check_circle"),a(),o(4,"div",28)(5,"span",29),l(6),c(7,"transloco"),a(),o(8,"span",30),l(9),a()()()()),n&2){let e,t=d(2);r(6),b(u(7,3,"authModal.walletConnected.title")),r(3),U(" ",(e=t.connectedWalletAddress())==null?null:e.substring(0,6),"...",(e=t.connectedWalletAddress())==null?null:e.substring(38)," ")}}function He(n,m){n&1&&(o(0,"div",31)(1,"span",32),l(2),c(3,"transloco"),a(),o(4,"a",33),l(5),c(6,"transloco"),a()()),n&2&&(r(2),b(u(3,2,"authModal.choice.noAccount")),r(3),b(u(6,4,"authModal.choice.signUp")))}function De(n,m){if(n&1&&(o(0,"div",12),S(1,Fe,26,12,"ng-container",11)(2,Re,8,3,"ng-container",13)(3,je,10,5,"ng-template",null,0,ne)(5,He,7,6,"div",14),a()),n&2){let e=ee(4),t=d();r(),p("ngIf",!t.hasWeb2Auth()),r(),p("ngIf",!t.connectedWalletAddress())("ngIfElse",e),r(3),p("ngIf",!t.hasWeb2Auth())}}function Ue(n,m){n&1&&(o(0,"span"),l(1),c(2,"transloco"),a()),n&2&&(r(),b(u(2,1,"authModal.emailInput.continue")))}function Ke(n,m){n&1&&M(0,"mat-progress-spinner",44)}function $e(n,m){if(n&1){let e=k();o(0,"div",34)(1,"div",35)(2,"mat-icon",36),l(3,"info"),a(),M(4,"p",37),c(5,"transloco"),a(),o(6,"div",38)(7,"mat-icon",39),l(8,"mail"),a(),o(9,"input",40),c(10,"transloco"),v("ngModelChange",function(i){_(e);let s=d();return f(s.email.set(i))})("keyup.enter",function(){_(e);let i=d();return f(i.sendEmailOtp())}),a()(),o(11,"button",41),v("click",function(){_(e);let i=d();return f(i.sendEmailOtp())}),S(12,Ue,3,3,"span",11)(13,Ke,1,0,"mat-progress-spinner",42),a(),o(14,"button",43),v("click",function(){_(e);let i=d();return f(i.setState("CHOICE"))}),l(15),c(16,"transloco"),a()()}if(n&2){let e=d();r(4),p("innerHTML",u(5,7,"authModal.emailInput.infoMessage"),L),r(5),p("ngModel",e.email())("placeholder",u(10,9,"authModal.emailInput.placeholder")),r(2),p("disabled",!e.isEmailValid||e.isLoading()),r(),p("ngIf",!e.isLoading()),r(),p("ngIf",e.isLoading()),r(2),w(" ",u(16,11,"authModal.emailInput.back")," ")}}function Ye(n,m){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(2);r(),b(e.selectedCountry().flag)}}function qe(n,m){if(n&1&&(o(0,"span",54),l(1),a()),n&2){let e=d(2);r(),b(e.selectedCountry().dialCode)}}function ze(n,m){n&1&&(o(0,"span",55),l(1),c(2,"transloco"),a()),n&2&&(r(),b(u(2,1,"authModal.phoneInput.selectCountry")))}function Ge(n,m){if(n&1){let e=k();o(0,"button",63),v("click",function(){let i=_(e).$implicit,s=d(3);return f(s.selectCountry(i))}),o(1,"span",64),l(2),a(),o(3,"div",65)(4,"div",66),l(5),a()(),o(6,"span",67),l(7),a()()}if(n&2){let e,t=m.$implicit,i=d(3);J("bg-blue-50",((e=i.selectedCountry())==null?null:e.dialCode)===t.dialCode),r(2),b(t.flag),r(3),w(" ",t.name," "),r(2),w(" ",t.dialCode," ")}}function Je(n,m){n&1&&(o(0,"div",68),l(1),c(2,"transloco"),a()),n&2&&(r(),w(" ",u(2,1,"authModal.phoneInput.noCountries")," "))}function Qe(n,m){if(n&1){let e=k();o(0,"div",56)(1,"div",57)(2,"div",38)(3,"mat-icon",58),l(4,"search"),a(),o(5,"input",59),c(6,"transloco"),v("input",function(i){_(e);let s=d(2);return f(s.onCountrySearchChange(i.target.value))})("click",function(i){return _(e),f(i.stopPropagation())}),a()()(),o(7,"div",60),S(8,Ge,8,5,"button",61)(9,Je,3,3,"div",62),a()()}if(n&2){let e=d(2);G("top",e.dropdownPosition().top)("left",e.dropdownPosition().left),r(5),p("value",e.countrySearchTerm())("placeholder",u(6,8,"authModal.phoneInput.searchCountry")),r(3),p("ngForOf",e.filteredCountries()),r(),p("ngIf",e.filteredCountries().length===0)}}function Xe(n,m){n&1&&(o(0,"span"),l(1),c(2,"transloco"),a()),n&2&&(r(),b(u(2,1,"authModal.phoneInput.continue")))}function Ze(n,m){n&1&&M(0,"mat-progress-spinner",44)}function et(n,m){if(n&1){let e=k();o(0,"div",34)(1,"div",35)(2,"mat-icon",36),l(3,"info"),a(),M(4,"p",37),c(5,"transloco"),c(6,"transloco"),a(),o(7,"div",45)(8,"div",46)(9,"button",47,1),v("click",function(){_(e);let i=d();return f(i.toggleCountryDropdown())}),o(11,"span",48),S(12,Ye,2,1,"span",11)(13,qe,2,1,"span",49)(14,ze,3,3,"span",50),a(),o(15,"mat-icon",51),l(16,"arrow_drop_down"),a()(),S(17,Qe,10,10,"div",52),a(),o(18,"input",53),c(19,"transloco"),v("input",function(i){_(e);let s=d();return f(s.onPhoneInput(i))})("keyup.enter",function(){_(e);let i=d();return f(i.sendPhoneOtp())}),a()(),o(20,"button",41),v("click",function(){_(e);let i=d();return f(i.sendPhoneOtp())}),S(21,Xe,3,3,"span",11)(22,Ze,1,0,"mat-progress-spinner",42),a(),o(23,"button",43),v("click",function(){_(e);let i=d();return f(i.setState("CHOICE"))}),l(24),c(25,"transloco"),a()()}if(n&2){let e=d();r(4),p("innerHTML",e.state()==="WHATSAPP_INPUT"?u(5,11,"authModal.phoneInput.whatsappInfoMessage"):u(6,13,"authModal.phoneInput.infoMessage"),L),r(8),p("ngIf",e.selectedCountry()),r(),p("ngIf",e.selectedCountry()),r(),p("ngIf",!e.selectedCountry()),r(3),p("ngIf",e.isCountryDropdownOpen()&&e.dropdownPosition()),r(),p("ngModel",e.phone())("placeholder",u(19,15,"authModal.phoneInput.phonePlaceholder")),r(2),p("disabled",!e.phone()||!e.selectedCountry()||e.isLoading()),r(),p("ngIf",!e.isLoading()),r(),p("ngIf",e.isLoading()),r(2),w(" ",u(25,17,"authModal.phoneInput.back")," ")}}function tt(n,m){if(n&1){let e=k();o(0,"input",74),v("input",function(i){let s=_(e).index,h=d(2);return f(h.onOtpInput(i,s))})("keydown",function(i){let s=_(e).index,h=d(2);return f(h.onKeyDown(i,s))}),a()}if(n&2){let e=m.$implicit,t=m.index;p("id","otp-"+t)("value",e)}}function it(n,m){n&1&&(o(0,"span"),l(1),c(2,"transloco"),a()),n&2&&(r(),b(u(2,1,"authModal.otpVerify.verify")))}function nt(n,m){n&1&&M(0,"mat-progress-spinner",44)}function rt(n,m){if(n&1){let e=k();o(0,"div",69)(1,"div",70)(2,"h3",71),l(3),c(4,"transloco"),a(),o(5,"p",32),l(6),c(7,"transloco"),a()(),o(8,"div",72),S(9,tt,1,2,"input",73),a(),o(10,"button",41),v("click",function(){_(e);let i=d();return f(i.state()==="OTP_VERIFY_EMAIL"?i.verifyEmailOtp():i.verifyPhoneOtp())}),S(11,it,3,3,"span",11)(12,nt,1,0,"mat-progress-spinner",42),a(),o(13,"button",43),v("click",function(){_(e);let i=d();return f(i.setState("CHOICE"))}),l(14),c(15,"transloco"),a()()}if(n&2){let e=d();r(3),b(u(4,7,"authModal.otpVerify.title")),r(3),w(" ",ie(7,9,e.state()==="OTP_VERIFY_EMAIL"?"authModal.otpVerify.emailMessage":e.state()==="OTP_VERIFY_WHATSAPP"?"authModal.otpVerify.whatsappMessage":"authModal.otpVerify.phoneMessage",te(14,Le,e.email(),e.phone()))," "),r(3),p("ngForOf",e.otpArray()),r(),p("disabled",e.otpArray().join("").length!==6||e.isLoading()),r(),p("ngIf",!e.isLoading()),r(),p("ngIf",e.isLoading()),r(2),w(" ",u(15,12,"authModal.otpVerify.back")," ")}}function ot(n,m){if(n&1){let e=k();o(0,"div",34)(1,"h3",75),l(2),c(3,"transloco"),a(),o(4,"p",76),l(5),c(6,"transloco"),a(),o(7,"div",77)(8,"button",78),v("click",function(){_(e);let i=d();return f(i.connectMetaMask())}),o(9,"span"),l(10),c(11,"transloco"),a()(),o(12,"button",79),v("click",function(){_(e);let i=d();return f(i.createAgentWallet())}),o(13,"span"),l(14),c(15,"transloco"),a()()(),o(16,"button",43),v("click",function(){_(e);let i=d();return f(i.handleWalletBack())}),l(17),c(18,"transloco"),a()()}if(n&2){let e=d();r(2),b(u(3,6,"authModal.walletConnect.title")),r(3),w(" ",u(6,8,"authModal.walletConnect.subtitle")," "),r(3),p("disabled",e.isLoading()),r(2),b(u(11,10,"authModal.walletConnect.metamask")),r(4),b(u(15,12,"authModal.walletConnect.createAgent")),r(3),w(" ",u(18,14,"authModal.walletConnect.back")," ")}}function at(n,m){if(n&1){let e=k();o(0,"button",95),v("click",function(){_(e);let i=d(2);return f(i.encryptWithPasskey())}),o(1,"div",91)(2,"mat-icon",96),l(3,"fingerprint"),a(),o(4,"span"),l(5),c(6,"transloco"),a()()()}if(n&2){let e=d(2);p("disabled",e.isLoading()),r(5),b(u(6,2,"authModal.walletEncrypt.createPasskey"))}}function st(n,m){n&1&&(o(0,"div",97)(1,"p",98),l(2),c(3,"transloco"),a()()),n&2&&(r(2),w(" ",u(3,1,"authModal.walletEncrypt.notSupported")," "))}function lt(n,m){n&1&&(o(0,"div",99),M(1,"mat-progress-spinner",100),a())}function pt(n,m){if(n&1){let e=k();o(0,"div",69)(1,"div",80)(2,"div",81)(3,"mat-icon",82),l(4,"account_balance_wallet"),a()(),o(5,"div",83),M(6,"span",84),o(7,"span",85),l(8),a()()(),o(9,"div",86),M(10,"p",87),c(11,"transloco"),a(),o(12,"div",88),S(13,at,7,4,"button",89),o(14,"button",90),v("click",function(){_(e);let i=d();return f(i.usePINInstead())}),o(15,"div",91)(16,"mat-icon",92),l(17,"pin"),a(),o(18,"span",17),l(19),c(20,"transloco"),a()()()(),S(21,st,4,3,"div",93)(22,lt,2,0,"div",94),a()}if(n&2){let e,t=d();r(8),U(" ",(e=t.tempWalletAddress())==null?null:e.substring(0,6),"...",(e=t.tempWalletAddress())==null?null:e.substring(38)," "),r(2),p("innerHTML",u(11,8,"authModal.walletEncrypt.instruction"),L),r(3),p("ngIf",t.passkeySupported()),r(),p("disabled",t.isLoading()),r(5),w(" ",u(20,10,"authModal.walletEncrypt.usePIN")," "),r(2),p("ngIf",!t.passkeySupported()),r(),p("ngIf",t.isLoading())}}function dt(n,m){if(n&1){let e=k();o(0,"input",108),v("input",function(i){let s=_(e).index,h=d(2);return f(h.onPinInput(i,s))})("keydown",function(i){let s=_(e).index,h=d(2);return f(h.onPinKeyDown(i,s))}),a()}if(n&2){let e=m.$implicit,t=m.index;p("id","pin-"+t)("value",e)}}function ct(n,m){n&1&&(o(0,"span"),l(1),c(2,"transloco"),a()),n&2&&(r(),b(u(2,1,"authModal.pinSetup.encryptWallet")))}function ut(n,m){n&1&&M(0,"mat-progress-spinner",44)}function mt(n,m){if(n&1){let e=k();o(0,"div",69)(1,"div",70)(2,"div",101)(3,"mat-icon",102),l(4,"pin"),a()(),o(5,"h3",71),l(6),c(7,"transloco"),a(),o(8,"p",32),l(9),c(10,"transloco"),a()(),o(11,"div",103)(12,"div",104)(13,"mat-icon",105),l(14,"warning"),a(),M(15,"p",106),c(16,"transloco"),a()(),o(17,"div",72),S(18,dt,1,2,"input",107),a(),o(19,"button",41),v("click",function(){_(e);let i=d();return f(i.encryptWithPIN())}),S(20,ct,3,3,"span",11)(21,ut,1,0,"mat-progress-spinner",42),a(),o(22,"button",43),v("click",function(){_(e);let i=d();return f(i.setState("WALLET_ENCRYPT_CHOICE"))}),l(23),c(24,"transloco"),a()()}if(n&2){let e=d();r(6),b(u(7,8,"authModal.pinSetup.title")),r(3),w(" ",u(10,10,"authModal.pinSetup.subtitle")," "),r(6),p("innerHTML",u(16,12,"authModal.pinSetup.warning"),L),r(3),p("ngForOf",e.pinArray()),r(),p("disabled",e.pinArray().join("").length!==6||e.isLoading()),r(),p("ngIf",!e.isLoading()),r(),p("ngIf",e.isLoading()),r(2),w(" ",u(24,14,"authModal.pinSetup.back")," ")}}var li=(()=>{class n{get countryDialCodes(){return this._countryService.countryDialCodes}constructor(){this.state=C("CHOICE"),this.isLoading=C(!1),this.email=C(""),this.phone=C(""),this.otp=C(""),this.otpArray=C(new Array(6).fill("")),this.pin=C(""),this.pinArray=C(new Array(6).fill("")),this.tempWalletAddress=C(null),this.tempWalletPrivateKey=C(null),this.passkeySupported=C(!1),this.connectedWalletAddress=C(null),this.hasWeb2Auth=C(!1),this.selectedCountry=C(null),this.countrySearchTerm=C(""),this.filteredCountries=C([]),this.isCountryDropdownOpen=C(!1),this.dropdownPosition=C(null),this.validationId=C(null),this.phoneGateway=C("sms"),this._authService=I(Pe),this._authApiService=I(Ve),this._dialogRef=I(pe),this._router=I(se),this._countryService=I(Ee),this._encryptionService=I(Ae),this._sessionService=I(ue),this._dialogData=I(de,{optional:!0}),this.projectId=T.projectId,this.projectFlowId=T.loginProjectFlowId,this.error=C(null),this.errorKey=C(null);let e=this._countryService.countryDialCodes.find(s=>s.countryCode==="us");e&&this.selectedCountry.set(e),this.filteredCountries.set(this.countryDialCodes);let t=localStorage.getItem("x402_agent_address");t&&this.connectedWalletAddress.set(t);let i=localStorage.getItem("verifik_account");if(i)try{let s=JSON.parse(i);s&&(s.id||s._id)&&this.hasWeb2Auth.set(!0)}catch(s){console.warn("Failed to parse stored user data",s)}this._dialogData?.startWithWallet&&setTimeout(()=>{this.startWalletFlow()},0)}setState(e){if(this.state.set(e),this.otp.set(""),this.otpArray.set(new Array(6).fill("")),this.error.set(null),this.errorKey.set(null),e==="PHONE_INPUT"||e==="WHATSAPP_INPUT"){let t=this._countryService.countryDialCodes.find(i=>i.countryCode==="us");t&&this.selectedCountry.set(t),this.countrySearchTerm.set(""),this.filteredCountries.set(this.countryDialCodes)}}startEmailFlow(){this.setState("EMAIL_INPUT")}isValidEmail(e){return!e||!e.trim()?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())}get isEmailValid(){return this.isValidEmail(this.email())}sendEmailOtp(){return E(this,null,function*(){let e=this.email().trim();if(!e){this.error.set("Please enter your email address");return}if(!this.isValidEmail(e)){this.error.set("Please enter a valid email address");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),this._authApiService.sendEmailOtp({email:e,project:this.projectId,type:"login",validationMethod:"verificationCode"}).subscribe({next:t=>{this.isLoading.set(!1),t.data?._id&&(this.validationId.set(t.data._id),this.setState("OTP_VERIFY_EMAIL"))},error:t=>{this.isLoading.set(!1),this.setState("EMAIL_INPUT"),this.setError(t.error?.message||"Failed to send OTP")}})})}verifyEmailOtp(){return E(this,null,function*(){let e=this.otpArray().join("");e.length!==6||!this.validationId()||(this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),this._authApiService.validateEmailOtp({otp:e,email:this.email(),projectFlow:this.projectFlowId,project:this.projectId,type:"login"}).subscribe({next:t=>{this.isLoading.set(!1),this.handleSuccess(t)},error:t=>{console.error(t),this.isLoading.set(!1),this.error.set("Invalid Code")}}))})}startPhoneFlow(){this.phoneGateway.set("sms"),this.setState("PHONE_INPUT")}startWhatsAppFlow(){this.phoneGateway.set("whatsapp"),this.setState("WHATSAPP_INPUT")}isValidPhone(e){let t=e.replace(/\D/g,"");return t.length>=7&&t.length<=15}onPhoneInput(e){let i=e.target.value;i=i.replace(/[^\d\s\-()]/g,""),this.phone.set(i)}onCountrySearchChange(e){this.countrySearchTerm.set(e);let t=e.toLowerCase().trim();if(!t){this.filteredCountries.set(this.countryDialCodes);return}let i=this.countryDialCodes.filter(s=>s.name.toLowerCase().includes(t)||s.dialCode.includes(t)||s.countryCode.toLowerCase().includes(t));this.filteredCountries.set(i)}toggleCountryDropdown(){let e=!this.isCountryDropdownOpen();if(this.isCountryDropdownOpen.set(e),e&&this.countryButtonRef){let i=this.countryButtonRef.nativeElement.getBoundingClientRect();this.dropdownPosition.set({top:`${i.bottom+4}px`,left:`${i.left}px`})}else this.dropdownPosition.set(null)}selectCountry(e){this.selectedCountry.set(e),this.countrySearchTerm.set(""),this.filteredCountries.set(this.countryDialCodes),this.isCountryDropdownOpen.set(!1),this.dropdownPosition.set(null)}sendPhoneOtp(){return E(this,null,function*(){let e=this.phone().trim(),t=this.selectedCountry();if(!e){this.error.set("Please enter your phone number");return}if(!t){this.error.set("Please select a country");return}let i=e.replace(/\D/g,"");if(!this.isValidPhone(i)){this.error.set("Please enter a valid phone number");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null);let s=i,h=t.dialCode.replace("+","");i.startsWith(h)&&(s=i.substring(h.length));let g=this.phoneGateway();this._authApiService.sendPhoneOtp({phone:s,countryCode:t.dialCode,project:this.projectId,type:"login",validationMethod:"verificationCode",phoneGateway:g}).subscribe({next:x=>{this.isLoading.set(!1),x.data?._id&&(this.validationId.set(x.data._id),this.setState(g==="whatsapp"?"OTP_VERIFY_WHATSAPP":"OTP_VERIFY_PHONE"))},error:x=>{this.isLoading.set(!1),this.setState(g==="whatsapp"?"WHATSAPP_INPUT":"PHONE_INPUT"),this.setError(x.error?.message||"Failed to send OTP")}})})}verifyPhoneOtp(){return E(this,null,function*(){let e=this.otpArray().join("");if(e.length!==6||!this.validationId())return;this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null);let t=this.selectedCountry();if(!t)return;let i=this.phone().replace(/\D/g,""),s=t.dialCode.replace("+","");i.startsWith(s)&&(i=i.substring(s.length)),this._authApiService.validatePhoneOtp({otp:e,phoneValidation:this.validationId(),project:this.projectId,type:"login",phone:i,countryCode:t.dialCode}).subscribe({next:h=>{this.isLoading.set(!1),this.handleSuccess(h)},error:h=>{this.isLoading.set(!1),this.error.set("Invalid Code")}})})}verifyWhatsAppOtp(){return E(this,null,function*(){yield this.verifyPhoneOtp()})}startWalletFlow(){this.setState("WALLET_CONNECT")}handleWalletBack(){this.hasWeb2Auth()?this._dialogRef.close():this.setState("CHOICE")}createAgentWallet(){return E(this,null,function*(){this.isLoading.set(!0);try{let{ethers:e}=yield import("./chunk-PY4SMIBW.js"),t=e.Wallet.createRandom();console.log("Created Wallet:",t.address),this.tempWalletAddress.set(t.address),this.tempWalletPrivateKey.set(t.privateKey),localStorage.setItem("x402_agent_address",t.address);let i=yield this._encryptionService.isPasskeysSupported();this.passkeySupported.set(i),this.isLoading.set(!1),this.setState("WALLET_ENCRYPT_CHOICE")}catch(e){console.error("Wallet creation failed:",e),this.error.set("Failed to create wallet"),this.isLoading.set(!1)}})}connectMetaMask(){return E(this,null,function*(){this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null);try{if(!window.ethereum){this.error.set("MetaMask is not installed. Please install MetaMask extension."),this.isLoading.set(!1);return}let e=yield window.ethereum.request({method:"eth_requestAccounts"});if(!e||e.length===0){this.error.set("No accounts found in MetaMask"),this.isLoading.set(!1);return}let t=e[0];console.log("Connected MetaMask:",t),localStorage.setItem("x402_agent_address",t),localStorage.setItem("x402_wallet_type","metamask"),this.isLoading.set(!1),this._dialogRef.close(),this._sessionService.resetReloadTracking(),this._sessionService.safeReload()}catch(e){console.error("MetaMask connection failed:",e),e.code===4001?this.error.set("Connection rejected. Please approve the connection in MetaMask."):this.error.set("Failed to connect to MetaMask"),this.isLoading.set(!1)}})}encryptWithPasskey(){return E(this,null,function*(){let e=this.tempWalletPrivateKey();if(!e){this.error.set("No wallet to encrypt");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),(yield this._encryptionService.encryptWithPasskeys(e))?(localStorage.setItem("x402_wallet_type","encrypted-model"),this.tempWalletPrivateKey.set(null),this._dialogRef.close(!0),this._sessionService.resetReloadTracking(),this._sessionService.safeReload()):(this.isLoading.set(!1),this.error.set("Passkey encryption failed. Please try PIN instead."))})}usePINInstead(){this.setState("WALLET_ENCRYPT_PIN")}encryptWithPIN(){return E(this,null,function*(){let e=this.tempWalletPrivateKey(),t=this.pinArray().join("");if(!e){this.error.set("No wallet to encrypt");return}if(t.length!==6){this.error.set("Please enter a 6-digit PIN");return}this.isLoading.set(!0),this.error.set(null),this.errorKey.set(null),(yield this._encryptionService.encryptWithPIN(e,t))?(localStorage.setItem("x402_wallet_type","encrypted-model"),this.tempWalletPrivateKey.set(null),this.pinArray.set(new Array(6).fill("")),this._dialogRef.close(!0),this._sessionService.resetReloadTracking(),this._sessionService.safeReload()):(this.isLoading.set(!1),this.error.set("PIN encryption failed. Please try again."))})}setError(e){let i={invalid_email:"authModal.errors.invalidEmail",invalid_phone:"authModal.errors.invalidPhone"}[e];i?(this.errorKey.set(i),this.error.set(null)):(this.error.set(e),this.errorKey.set(null))}handleSuccess(e){let t=e.data||e,i=t.token||t.accessToken;i?(this._authService.accessToken=i,this._authApiService.projectLogin().subscribe({next:s=>{let h=s.data?.accessToken||s.accessToken;h?(this._authService.accessToken=h,localStorage.setItem("accessToken",h),this._authApiService.getSession().subscribe({next:g=>{let x=g.data?.user||g.user||g;localStorage.setItem("verifik_account",JSON.stringify(x)),this._dialogRef.close(!0),this._sessionService.resetReloadTracking(),this._sessionService.safeReload()},error:g=>{console.error("Session fetch failed",g),this.error.set("Failed to fetch session"),this.isLoading.set(!1)}})):(this.error.set("Failed to obtain access token"),this.isLoading.set(!1))},error:s=>{console.error("Project login failed",s),this.error.set("Login failed"),this.isLoading.set(!1)}})):(console.warn("No temp token found in response",e),this._dialogRef.close(!0))}onOtpInput(e,t){let i=e.target,s=i.value;if(s=s.replace(/\D/g,""),s.length>1){let g=[...this.otpArray()],x=s.split("").slice(0,6-t);for(let y=0;y<x.length&&t+y<6;y++){g[t+y]=x[y];let V=document.getElementById(`otp-${t+y}`);V&&(V.value=x[y])}this.otpArray.set(g),i.value=g[t]||"";let R=Math.min(t+x.length,5);setTimeout(()=>{let y=document.getElementById(`otp-${R}`);y&&(y.focus(),y.select())},0),g.every(y=>y!=="")&&g.length===6&&setTimeout(()=>{this.state()==="OTP_VERIFY_EMAIL"&&this.verifyEmailOtp(),this.state()==="OTP_VERIFY_PHONE"&&this.verifyPhoneOtp(),this.state()==="OTP_VERIFY_WHATSAPP"&&this.verifyWhatsAppOtp()},100);return}let h=[...this.otpArray()];if(s.length>0){let g=s.slice(-1);h[t]=g,this.otpArray.set(h),i.value=g,t<5&&setTimeout(()=>{let x=document.getElementById(`otp-${t+1}`);x&&(x.focus(),x.select())},0),h.every(x=>x!=="")&&h.length===6&&setTimeout(()=>{this.state()==="OTP_VERIFY_EMAIL"&&this.verifyEmailOtp(),this.state()==="OTP_VERIFY_PHONE"&&this.verifyPhoneOtp(),this.state()==="OTP_VERIFY_WHATSAPP"&&this.verifyWhatsAppOtp()},100)}else h[t]="",this.otpArray.set(h),i.value=""}onKeyDown(e,t){e.key==="Backspace"&&!this.otpArray()[t]&&t>0&&document.getElementById(`otp-${t-1}`)?.focus()}onPinInput(e,t){let i=e.target,s=i.value;if(s=s.replace(/\D/g,""),s.length>1){let g=[...this.pinArray()],x=s.split("").slice(0,6-t);for(let y=0;y<x.length&&t+y<6;y++){g[t+y]=x[y];let V=document.getElementById(`pin-${t+y}`);V&&(V.value=x[y])}this.pinArray.set(g),i.value=g[t]||"";let R=Math.min(t+x.length,5);setTimeout(()=>{let y=document.getElementById(`pin-${R}`);y&&(y.focus(),y.select())},0);return}let h=[...this.pinArray()];if(s.length>0){let g=s.slice(-1);h[t]=g,this.pinArray.set(h),i.value=g,t<5&&setTimeout(()=>{let x=document.getElementById(`pin-${t+1}`);x&&(x.focus(),x.select())},0)}else h[t]="",this.pinArray.set(h),i.value=""}onPinKeyDown(e,t){e.key==="Backspace"&&!this.pinArray()[t]&&t>0&&document.getElementById(`pin-${t-1}`)?.focus()}onDocumentClick(e){let t=e.target;this.isCountryDropdownOpen()&&!t.closest(".country-selector-container")&&(this.isCountryDropdownOpen.set(!1),this.dropdownPosition.set(null))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=z({type:n,selectors:[["auth-modal"]],viewQuery:function(t,i){if(t&1&&Q(Oe,5),t&2){let s;X(s=Z())&&(i.countryButtonRef=s.first)}},hostBindings:function(t,i){t&1&&v("click",function(h){return i.onDocumentClick(h)},!1,q)},decls:16,vars:14,consts:[["connectedWallet",""],["countryButton",""],[1,"w-full","max-w-sm","mx-auto","p-2"],[1,"text-center","mb-8"],[1,"text-xl","font-bold","text-slate-900","dark:text-white"],["class","mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm text-center",4,"ngIf"],["class","space-y-3",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"mt-8","text-center","text-[10px]","text-slate-400"],[1,"mb-4","p-3","bg-red-100","text-red-700","rounded-md","text-sm","text-center"],[4,"ngIf"],[1,"space-y-3"],[4,"ngIf","ngIfElse"],["class","pt-4 text-center",4,"ngIf"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg","!border-slate-300","dark:!border-slate-700",3,"click"],[1,"mr-3","text-slate-500"],[1,"text-slate-700","dark:text-slate-300"],[1,"relative","py-2"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-slate-200","dark:border-slate-700"],[1,"relative","flex","justify-center","text-xs","uppercase"],[1,"bg-white","dark:bg-slate-800","px-2","text-slate-500"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg","!border-slate-300","dark:!border-slate-700","hover:bg-slate-50","dark:hover:bg-slate-800","transition-colors",3,"click"],[1,"flex","items-center","w-full"],[1,"w-full","h-12","px-4","rounded-lg","border","border-green-200","dark:border-green-800","bg-green-50","dark:bg-green-900/10","flex","items-center","justify-between","cursor-default"],[1,"flex","items-center","gap-3"],[1,"text-green-600","dark:text-green-400"],[1,"flex","flex-col"],[1,"text-xs","font-semibold","text-green-700","dark:text-green-300"],[1,"text-[10px]","font-mono","text-green-600","dark:text-green-400","opacity-80"],[1,"pt-4","text-center"],[1,"text-sm","text-slate-500"],["href","https://access.verifik.co/sign-up/6332941ccde4f719d9c00f9e",1,"text-sm","text-blue-600","font-semibold","ml-1","cursor-pointer","hover:underline"],[1,"space-y-4"],[1,"p-3","bg-blue-50","dark:bg-blue-900/10","border","border-blue-100","dark:border-blue-900/20","rounded-lg","flex","gap-3"],[1,"text-blue-500","!w-5","!h-5","!text-[20px]","shrink-0","mt-0.5"],[1,"text-xs","text-blue-700","dark:text-blue-300","leading-snug",3,"innerHTML"],[1,"relative"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-slate-400"],["type","email",1,"w-full","pl-10","pr-4","py-3","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["mat-flat-button","","color","primary",1,"w-full","!h-11","!rounded-lg",3,"click","disabled"],["diameter","20","mode","indeterminate",4,"ngIf"],["mat-button","",1,"w-full",3,"click"],["diameter","20","mode","indeterminate"],[1,"flex","space-x-2"],[1,"relative","country-selector-container"],["type","button",1,"w-28","px-3","py-3","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-white","dark:bg-slate-800","text-slate-700","dark:text-slate-300","flex","items-center","justify-between","hover:bg-slate-50","dark:hover:bg-slate-700","focus:ring-2","focus:ring-blue-500","focus:outline-none","transition-colors",3,"click"],[1,"flex","items-center","gap-2","text-sm"],["class","font-medium",4,"ngIf"],["class","text-slate-400",4,"ngIf"],[1,"!w-4","!h-4","!text-[16px]","text-slate-400"],["class","fixed z-[1000] w-80 max-h-80 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg overflow-hidden",3,"top","left",4,"ngIf"],["type","tel",1,"flex-1","px-4","py-3","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"input","keyup.enter","ngModel","placeholder"],[1,"font-medium"],[1,"text-slate-400"],[1,"fixed","z-[1000]","w-80","max-h-80","bg-white","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700","rounded-lg","shadow-lg","overflow-hidden"],[1,"p-2","border-b","border-slate-200","dark:border-slate-700"],[1,"absolute","left-2","top-1/2","-translate-y-1/2","!w-4","!h-4","!text-[16px]","text-slate-400"],["type","text",1,"w-full","pl-8","pr-3","py-2","text-sm","rounded-md","border","border-slate-300","dark:border-slate-600","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"input","click","value","placeholder"],[1,"max-h-64","overflow-y-auto"],["type","button","class","w-full px-4 py-3 flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-700 text-left transition-colors",3,"bg-blue-50","click",4,"ngFor","ngForOf"],["class","px-4 py-3 text-sm text-slate-500 text-center",4,"ngIf"],["type","button",1,"w-full","px-4","py-3","flex","items-center","gap-3","hover:bg-slate-50","dark:hover:bg-slate-700","text-left","transition-colors",3,"click"],[1,"text-2xl"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-slate-900","dark:text-slate-100","truncate"],[1,"text-sm","text-slate-500","dark:text-slate-400","font-medium"],[1,"px-4","py-3","text-sm","text-slate-500","text-center"],[1,"space-y-6"],[1,"text-center","space-y-2"],[1,"font-bold"],[1,"flex","justify-between","gap-2"],["type","text","inputmode","numeric","maxlength","1","class","w-12 h-14 text-center text-2xl font-bold rounded-lg border border-slate-300 dark:border-slate-700 bg-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none",3,"id","value","input","keydown",4,"ngFor","ngForOf"],["type","text","inputmode","numeric","maxlength","1",1,"w-12","h-14","text-center","text-2xl","font-bold","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-blue-500","focus:outline-none",3,"input","keydown","id","value"],[1,"font-bold","text-center"],[1,"text-xs","text-center","text-slate-500","mb-4"],[1,"space-y-2"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg",3,"click","disabled"],["mat-stroked-button","",1,"w-full","!h-12","!justify-start","!px-4","!rounded-lg","bg-slate-50","dark:bg-slate-800",3,"click"],[1,"flex","flex-col","items-center","gap-3","mb-2"],[1,"w-20","h-20","rounded-full","bg-gradient-to-br","from-indigo-50","to-blue-50","dark:from-indigo-900/20","dark:to-blue-900/20","flex","items-center","justify-center","shadow-inner"],[1,"text-indigo-500","!w-10","!h-10","!text-[40px]"],[1,"flex","items-center","gap-2","px-3","py-1.5","bg-slate-100","dark:bg-slate-800","rounded-full","border","border-slate-200","dark:border-slate-700"],[1,"w-2","h-2","rounded-full","bg-green-500"],[1,"text-xs","font-mono","text-slate-600","dark:text-slate-300"],[1,"text-center","px-2"],[1,"text-sm","leading-relaxed","text-slate-600","dark:text-slate-400",3,"innerHTML"],[1,"space-y-3","pt-2"],["mat-flat-button","","color","primary","class","w-full !h-12 !rounded-lg !text-base shadow-lg shadow-indigo-500/20",3,"disabled","click",4,"ngIf"],["mat-stroked-button","",1,"w-full","!h-12","!rounded-lg","!text-base","!border-slate-300","dark:!border-slate-700","hover:!bg-slate-50","dark:hover:!bg-slate-800","transition-colors",3,"click","disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"!w-5","!h-5","!text-[20px]","text-slate-500"],["class","text-center",4,"ngIf"],["class","flex justify-center py-2",4,"ngIf"],["mat-flat-button","","color","primary",1,"w-full","!h-12","!rounded-lg","!text-base","shadow-lg","shadow-indigo-500/20",3,"click","disabled"],[1,"!w-5","!h-5","!text-[20px]"],[1,"text-center"],[1,"text-xs","text-amber-600","dark:text-amber-500"],[1,"flex","justify-center","py-2"],["diameter","24","mode","indeterminate"],[1,"w-12","h-12","bg-indigo-100","dark:bg-indigo-900/30","rounded-full","mx-auto","flex","items-center","justify-center","mb-4"],[1,"text-indigo-600","dark:text-indigo-400","!w-6","!h-6","!text-[24px]"],[1,"bg-amber-50","dark:bg-amber-900/20","border","border-amber-200","dark:border-amber-800","rounded-lg","p-3"],[1,"flex","items-start","gap-2"],[1,"text-amber-600","dark:text-amber-400","!w-4","!h-4","!text-[16px]","mt-0.5"],[1,"text-xs","text-amber-700","dark:text-amber-300",3,"innerHTML"],["type","password","inputmode","numeric","maxlength","1","class","w-12 h-14 text-center text-2xl font-bold rounded-lg border border-slate-300 dark:border-slate-700 bg-transparent focus:ring-2 focus:ring-indigo-500 focus:outline-none",3,"id","value","input","keydown",4,"ngFor","ngForOf"],["type","password","inputmode","numeric","maxlength","1",1,"w-12","h-14","text-center","text-2xl","font-bold","rounded-lg","border","border-slate-300","dark:border-slate-700","bg-transparent","focus:ring-2","focus:ring-indigo-500","focus:outline-none",3,"input","keydown","id","value"]],template:function(t,i){t&1&&(o(0,"div",2)(1,"div",3)(2,"h2",4),l(3),c(4,"transloco"),a()(),S(5,Ne,3,2,"div",5)(6,De,6,4,"div",6)(7,$e,17,13,"div",7)(8,et,26,19,"div",7)(9,rt,16,17,"div",8)(10,ot,19,16,"div",7)(11,pt,23,12,"div",8)(12,mt,25,16,"div",8),o(13,"div",9),l(14),c(15,"transloco"),a()()),t&2&&(r(3),w(" ",u(4,10,i.state()==="WALLET_ENCRYPT_CHOICE"||i.state()==="WALLET_ENCRYPT_PIN"?"authModal.header.secureWallet":"authModal.header.login")," "),r(2),p("ngIf",i.error()||i.errorKey()),r(),p("ngIf",i.state()==="CHOICE"),r(),p("ngIf",i.state()==="EMAIL_INPUT"),r(),p("ngIf",i.state()==="PHONE_INPUT"||i.state()==="WHATSAPP_INPUT"),r(),p("ngIf",i.state()==="OTP_VERIFY_EMAIL"||i.state()==="OTP_VERIFY_PHONE"||i.state()==="OTP_VERIFY_WHATSAPP"),r(),p("ngIf",i.state()==="WALLET_CONNECT"),r(),p("ngIf",i.state()==="WALLET_ENCRYPT_CHOICE"),r(),p("ngIf",i.state()==="WALLET_ENCRYPT_PIN"),r(2),w(" ",u(15,12,"authModal.footer.protectedBy")," "))},dependencies:[ae,re,oe,Ie,ye,be,Ce,_e,he,ge,fe,we,me,ce,ke,Se,Me,ve,xe],encapsulation:2})}}return n})();export{Te as a,Pe as b,Ve as c,li as d};
